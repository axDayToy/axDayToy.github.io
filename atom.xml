<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é˜¿ç¾¡ã®ç©ºé—´ç«™</title>
  
  
  <link href="https://www.axcode.cn/atom.xml" rel="self"/>
  
  <link href="https://www.axcode.cn/"/>
  <updated>2025-06-09T09:47:42.995Z</updated>
  <id>https://www.axcode.cn/</id>
  
  <author>
    <name>é˜¿ç¾¡</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ğŸ¦‹Vueå®ç°è¯·æ±‚å¹¶ä¸‹è½½å¯¼å…¥æ¨¡æ¿åŠŸèƒ½</title>
    <link href="https://www.axcode.cn/posts/3035262d.html"/>
    <id>https://www.axcode.cn/posts/3035262d.html</id>
    <published>2025-06-09T06:04:31.000Z</published>
    <updated>2025-06-09T09:47:42.995Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><div class="tip "><p>åœ¨ Vueä¸­å®ç°è¯·æ±‚å¹¶ä¸‹è½½å¯¼å…¥æ¨¡æ¿çš„åŠŸèƒ½ï¼Œé€šå¸¸éœ€è¦åç«¯æä¾›ä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶çš„ä¸‹è½½æ¥å£ã€‚ ä¸‹åˆ—ä»¥<code>Vue3</code>ä¸ºä¾‹ã€‚</p></div><h2 id="1-åŸºæœ¬å®ç°æ–¹æ³•"><a href="#1-åŸºæœ¬å®ç°æ–¹æ³•" class="headerlink" title="1.åŸºæœ¬å®ç°æ–¹æ³•"></a>1.åŸºæœ¬å®ç°æ–¹æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span> <span class="comment">// æˆ–ä½¿ç”¨ä½ é¡¹ç›®ä¸­çš„è¯·æ±‚åº“</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•ä¸€ï¼šç›´æ¥ä½¿ç”¨ fetch æˆ– axios ä¸‹è½½</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">downloadTemplate</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// æ›¿æ¢ä¸ºä½ çš„å®é™…APIåœ°å€</span></span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/template/download&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">responseType</span>: <span class="string">&#x27;blob&#x27;</span>, <span class="comment">// é‡è¦ï¼šæŒ‡å®šå“åº”ç±»å‹ä¸º blob</span></span><br><span class="line">      <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">templateType</span>: <span class="string">&#x27;your-template-type&#x27;</span> <span class="comment">// å¦‚æœæœ‰ä¸åŒç±»å‹çš„æ¨¡æ¿</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸‹è½½é“¾æ¥</span></span><br><span class="line">    <span class="keyword">const</span> url = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(<span class="keyword">new</span> <span class="title class_">Blob</span>([response.<span class="property">data</span>]))</span><br><span class="line">    <span class="keyword">const</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    link.<span class="property">href</span> = url</span><br><span class="line">    link.<span class="title function_">setAttribute</span>(<span class="string">&#x27;download&#x27;</span>, <span class="string">&#x27;å¯¼å…¥æ¨¡æ¿.xlsx&#x27;</span>) <span class="comment">// è®¾ç½®æ–‡ä»¶å</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(link)</span><br><span class="line">    link.<span class="title function_">click</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ¸…ç†</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(link)</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">revokeObjectURL</span>(url)</span><br><span class="line">    </span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;æ¨¡æ¿ä¸‹è½½æˆåŠŸ&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;ä¸‹è½½å¤±è´¥: &#x27;</span> + (error.<span class="property">message</span> || <span class="string">&#x27;è¯·è”ç³»ç®¡ç†å‘˜&#x27;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-å°è£…æˆå¯å¤ç”¨ç»„ä»¶"><a href="#2-å°è£…æˆå¯å¤ç”¨ç»„ä»¶" class="headerlink" title="2.å°è£…æˆå¯å¤ç”¨ç»„ä»¶"></a>2.å°è£…æˆå¯å¤ç”¨ç»„ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-button </span><br><span class="line">    type=&quot;primary&quot; </span><br><span class="line">    :loading=&quot;downloading&quot;</span><br><span class="line">    @click=&quot;handleDownload&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    ä¸‹è½½å¯¼å…¥æ¨¡æ¿</span><br><span class="line">  &lt;/el-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">import &#123; ElMessage &#125; from &#x27;element-plus&#x27;</span><br><span class="line"></span><br><span class="line">const downloading = ref(false)</span><br><span class="line"></span><br><span class="line">const handleDownload = async () =&gt; &#123;</span><br><span class="line">  downloading.value = true</span><br><span class="line">  try &#123;</span><br><span class="line">    const response = await axios.get(&#x27;/api/template/download&#x27;, &#123;</span><br><span class="line">      responseType: &#x27;blob&#x27;,</span><br><span class="line">      params: &#123; type: &#x27;import&#x27; &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    // ä»å“åº”å¤´è·å–æ–‡ä»¶å</span><br><span class="line">    const contentDisposition = response.headers[&#x27;content-disposition&#x27;]</span><br><span class="line">    let fileName = &#x27;å¯¼å…¥æ¨¡æ¿.xlsx&#x27;</span><br><span class="line">    if (contentDisposition) &#123;</span><br><span class="line">      const fileNameMatch = contentDisposition.match(/filename=(.+)/)</span><br><span class="line">      if (fileNameMatch &amp;&amp; fileNameMatch[1]) &#123;</span><br><span class="line">        fileName = decodeURIComponent(fileNameMatch[1])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    const url = window.URL.createObjectURL(new Blob([response.data]))</span><br><span class="line">    const link = document.createElement(&#x27;a&#x27;)</span><br><span class="line">    link.href = url</span><br><span class="line">    link.setAttribute(&#x27;download&#x27;, fileName)</span><br><span class="line">    document.body.appendChild(link)</span><br><span class="line">    link.click()</span><br><span class="line">    document.body.removeChild(link)</span><br><span class="line">    window.URL.revokeObjectURL(url)</span><br><span class="line">    </span><br><span class="line">    ElMessage.success(&#x27;æ¨¡æ¿ä¸‹è½½æˆåŠŸ&#x27;)</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    ElMessage.error(`ä¸‹è½½å¤±è´¥: $&#123;error.message || &#x27;è¯·è”ç³»ç®¡ç†å‘˜&#x27;&#125;`)</span><br><span class="line">  &#125; finally &#123;</span><br><span class="line">    downloading.value = false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-ä½¿ç”¨æ–‡ä»¶æµä¸‹è½½ï¼ˆé€‚ç”¨äºå¤§æ–‡ä»¶ï¼‰"><a href="#3-ä½¿ç”¨æ–‡ä»¶æµä¸‹è½½ï¼ˆé€‚ç”¨äºå¤§æ–‡ä»¶ï¼‰" class="headerlink" title="3. ä½¿ç”¨æ–‡ä»¶æµä¸‹è½½ï¼ˆé€‚ç”¨äºå¤§æ–‡ä»¶ï¼‰"></a>3. ä½¿ç”¨æ–‡ä»¶æµä¸‹è½½ï¼ˆé€‚ç”¨äºå¤§æ–‡ä»¶ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">downloadLargeTemplate</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;/api/template/download-large&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> reader = response.<span class="property">body</span>.<span class="title function_">getReader</span>()</span><br><span class="line">    <span class="keyword">const</span> contentLength = +response.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&#x27;Content-Length&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> receivedLength = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> chunks = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; done, value &#125; = <span class="keyword">await</span> reader.<span class="title function_">read</span>()</span><br><span class="line">      <span class="keyword">if</span> (done) <span class="keyword">break</span></span><br><span class="line">      </span><br><span class="line">      chunks.<span class="title function_">push</span>(value)</span><br><span class="line">      receivedLength += value.<span class="property">length</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ä¸‹è½½è¿›åº¦: <span class="subst">$&#123;<span class="built_in">Math</span>.round(receivedLength / contentLength * <span class="number">100</span>)&#125;</span>%`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>(chunks)</span><br><span class="line">    <span class="keyword">const</span> url = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob)</span><br><span class="line">    <span class="keyword">const</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    a.<span class="property">href</span> = url</span><br><span class="line">    a.<span class="property">download</span> = <span class="string">&#x27;å¤§å‹å¯¼å…¥æ¨¡æ¿.xlsx&#x27;</span></span><br><span class="line">    a.<span class="title function_">click</span>()</span><br><span class="line">    <span class="variable constant_">URL</span>.<span class="title function_">revokeObjectURL</span>(url)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;ä¸‹è½½å¤±è´¥: &#x27;</span> + error.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-åç«¯é…åˆç¤ºä¾‹ï¼ˆNode-js-Expressï¼‰"><a href="#4-åç«¯é…åˆç¤ºä¾‹ï¼ˆNode-js-Expressï¼‰" class="headerlink" title="4.åç«¯é…åˆç¤ºä¾‹ï¼ˆNode.js Expressï¼‰"></a>4.åç«¯é…åˆç¤ºä¾‹ï¼ˆNode.js Expressï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åç«¯è·¯ç”±ç¤ºä¾‹</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/api/template/download&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> filePath = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;../templates/import-template.xlsx&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> fileName = <span class="string">&#x27;å¯¼å…¥æ¨¡æ¿.xlsx&#x27;</span></span><br><span class="line">  </span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;</span>)</span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">`attachment; filename=<span class="subst">$&#123;<span class="built_in">encodeURIComponent</span>(fileName)&#125;</span>`</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> fileStream = fs.<span class="title function_">createReadStream</span>(filePath)</span><br><span class="line">  fileStream.<span class="title function_">pipe</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="5-ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚-file-saverï¼‰"><a href="#5-ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚-file-saverï¼‰" class="headerlink" title="5.ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ file-saverï¼‰"></a>5.ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ file-saverï¼‰</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install file-saver</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; saveAs &#125; <span class="keyword">from</span> <span class="string">&#x27;file-saver&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">downloadWithFileSaver</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/template/download&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">responseType</span>: <span class="string">&#x27;blob&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title function_">saveAs</span>(response.<span class="property">data</span>, <span class="string">&#x27;å¯¼å…¥æ¨¡æ¿.xlsx&#x27;</span>)</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;æ¨¡æ¿ä¸‹è½½æˆåŠŸ&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;ä¸‹è½½å¤±è´¥: &#x27;</span> + error.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li>ç¡®ä¿åç«¯è®¾ç½®äº†æ­£ç¡®çš„ <code>Content-Type</code> å’Œ <code>Content-Disposition</code> å“åº”å¤´</li><li>å¯¹äºå¤§æ–‡ä»¶ï¼Œè€ƒè™‘ä½¿ç”¨æµå¼ä¸‹è½½å¹¶æ˜¾ç¤ºè¿›åº¦æ¡</li><li>ä¸‹è½½å®Œæˆåè¦åŠæ—¶é‡Šæ”¾åˆ›å»ºçš„ URL å¯¹è±¡ï¼Œé¿å…å†…å­˜æ³„æ¼</li><li>æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚è°ƒæ•´æ–‡ä»¶åå’Œé”™è¯¯å¤„ç†é€»è¾‘</li></ol>]]></content>
    
    
    <summary type="html">Vueå®ç°è¯·æ±‚å¹¶ä¸‹è½½å¯¼å…¥æ¨¡æ¿åŠŸèƒ½</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>ğŸŠæ²¡æœ‰è®¾ç½®2FAè®¤è¯å¦‚ä½•ç™»å½•github</title>
    <link href="https://www.axcode.cn/posts/d874c695.html"/>
    <id>https://www.axcode.cn/posts/d874c695.html</id>
    <published>2025-06-09T03:19:44.000Z</published>
    <updated>2025-06-09T09:47:02.983Z</updated>
    
    <content type="html"><![CDATA[<div class="tip "><p>æ­¤æ–‡æ¥è‡ªäºCSDN <a href="https://blog.csdn.net/qq_43450589">[å›å­æœªæœŸ]</a>æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><ul><li>è¿›å…¥githubå®˜ç½‘ï¼Œè¾“å…¥è´¦å·å¯†ç åï¼Œå‡ºç°å¦‚ä¸‹é¡µé¢ã€‚ç»æŸ¥è¯¢å¯çŸ¥å›½å†…ç”µè¯å·æ— æ³•é€šè¿‡è®¤è¯ï¼Œä½†æˆ‘é¢„å…ˆå¹¶æœªåœ¨githubä¸­è®¾ç½®2FAè®¤è¯ã€‚</li><li>2FAå®šä¹‰ï¼šåŒå› å­è®¤è¯2FAï¼ˆTwo Factor Authenticationï¼‰æ˜¯ä¸€ç§å®‰å…¨è®¤è¯è¿‡ç¨‹ï¼Œéœ€è¦ç”¨æˆ·æä¾›ä¸¤ç§ä¸åŒç±»å‹çš„è®¤è¯å› å­æ¥è¡¨æ˜è‡ªå·±çš„èº«ä»½ï¼ŒåŒ…æ‹¬å¯†ç ã€æŒ‡çº¹ã€çŸ­ä¿¡éªŒè¯ç ã€æ™ºèƒ½å¡ã€ç”Ÿç‰©è¯†åˆ«ç­‰å¤šç§å› ç´ ç»„åˆï¼Œä»è€Œæé«˜ç”¨æˆ·è´¦æˆ·çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚</li></ul><p><img src="https://bu.dusays.com/2025/06/09/68465a17364e0.jpg" alt=""></p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><ol><li><p>ç‚¹å‡»ä¸‹é¢çš„ <code>use a recovery code</code></p><p><img src="https://bu.dusays.com/2025/06/09/68465a173a828.jpg" alt=""></p></li><li><p>å‡ºç°å¦‚ä¸‹ç•Œé¢</p><p><img src="https://bu.dusays.com/2025/06/09/68465a173b6bf.jpg" alt=""></p></li><li><p>ç‚¹å‡»ä¸‹é¢çº¢è‰²æ¡†çš„é“¾æ¥</p><p><img src="https://bu.dusays.com/2025/06/09/68465a16ed941.jpg" alt=""></p></li><li><p>è·³è½¬åˆ°ä¸‹é¢çš„é¡µé¢ï¼Œåœ¨æœ¬åœ°ç”µè„‘ä¸­æœç´¢æ–‡ä»¶</p><p><img src="https://bu.dusays.com/2025/06/09/68465a1726eb5.jpg" alt=""></p></li><li><p>æœç´¢å‡ºçš„æ–‡æœ¬æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªrecovery-codesï¼Œéšä¾¿å¤åˆ¶ä¸€ä¸ªç²˜è´´åˆ°ä¹‹å‰çš„è¾“å…¥æ¡†ä¸­ï¼Œä¾¿å¯ä»¥æˆåŠŸç™»å½•githubã€‚</p><p><img src="https://bu.dusays.com/2025/06/09/68465be5393e3.png" alt=""></p></li><li><p>ç™»å½•githubååŠæ—¶è®¾ç½®2FAè®¤è¯</p><p>æ­¥éª¤å¦‚ä¸‹ï¼šç‚¹å‡»å¤´åƒâ†’settingâ†’password and authenticationâ†’preferred 2FA methodâ†’é€‰æ‹©Authenticator appã€‚</p><p><img src="https://bu.dusays.com/2025/06/09/68465e20d702f.png" alt=""></p></li><li><p>åœ¨æ‰‹æœºä»¥ä½ è¯¥ç”¨å•†åº—ä¸‹è½½ Authenticator ï¼Œæ‰“å¼€åº”ç”¨åâ†’ä¸»é¡µâ†’å³ä¸Šè§’â€™+å·â€™â†’æ·»åŠ è´¦æˆ·â†’å…¶ä»–è´¦æˆ·â†’å‡ºç°æ‰«ç æ¡†</p></li><li><p>å›åˆ°pcç«¯â†’ä¸‹æ»‘é¡µé¢â†’é€‰æ‹©Authenticator appâ†’editâ†’ç”¨æ‰‹æœºæ‰«ç â†’å°†æ‰‹æœºä¸Šå‡ºç°çš„codeè¾“å…¥åˆ°<a href="https://so.csdn.net/so/search?q=è¾“å…¥æ¡†&amp;spm=1001.2101.3001.7020">è¾“å…¥æ¡†</a>ä¸­â†’save</p><p><img src="https://bu.dusays.com/2025/06/09/68466258db27c.png" alt=""></p></li></ol><p>è¾“å…¥æ‰‹æœºä¸Šçš„ä»¤ç‰Œåï¼Œä»¥åç™»å½•<a href="https://so.csdn.net/so/search?q=github&amp;spm=1001.2101.3001.7020">github</a>å°±å¯ä»¥æŸ¥çœ‹æ‰‹æœºçš„ä¸€æ¬¡æ€§å¯†ç ä»£ç è¾“å…¥åˆ°pcç«¯ï¼Œå®ŒæˆéªŒè¯ã€‚</p>]]></content>
    
    
    <summary type="html">æ²¡æœ‰è®¾ç½®2FAè®¤è¯å¦‚ä½•ç™»å½•github</summary>
    
    
    
    <category term="Git" scheme="https://www.axcode.cn/categories/Git/"/>
    
    
    <category term="Git" scheme="https://www.axcode.cn/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>vueä½¿ç”¨elementPluså®ç°åŸºç¡€çº§è”é€‰æ‹©</title>
    <link href="https://www.axcode.cn/posts/efbf8bf9.html"/>
    <id>https://www.axcode.cn/posts/efbf8bf9.html</id>
    <published>2025-06-07T13:57:40.000Z</published>
    <updated>2025-06-09T06:11:04.916Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ–¹æ¡ˆä¸€ï¼šåŠ¨æ€ç»‘å®šé€‰é¡¹ï¼ˆæ¨èï¼‰"><a href="#æ–¹æ¡ˆä¸€ï¼šåŠ¨æ€ç»‘å®šé€‰é¡¹ï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šåŠ¨æ€ç»‘å®šé€‰é¡¹ï¼ˆæ¨èï¼‰"></a>æ–¹æ¡ˆä¸€ï¼šåŠ¨æ€ç»‘å®šé€‰é¡¹ï¼ˆæ¨èï¼‰</h3><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-form :model=&quot;form&quot;&gt;</span><br><span class="line">    &lt;!-- ç–æ•£ç‚¹ç±»å‹é€‰æ‹© --&gt;</span><br><span class="line">    &lt;el-form-item label=&quot;ç–æ•£ç‚¹ç±»å‹&quot;&gt;</span><br><span class="line">      &lt;el-select </span><br><span class="line">        v-model=&quot;form.disperePointType&quot; </span><br><span class="line">        placeholder=&quot;è¯·é€‰æ‹©ç–æ•£ç‚¹ç±»å‹&quot;</span><br><span class="line">        @change=&quot;handleDisperePointTypeChange&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-option </span><br><span class="line">          v-for=&quot;(item, index) in disperePointTypeOptions&quot;</span><br><span class="line">          :key=&quot;index&quot; </span><br><span class="line">          :label=&quot;item.label&quot; </span><br><span class="line">          :value=&quot;item.value&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/el-select&gt;</span><br><span class="line">    &lt;/el-form-item&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- å»ºç­‘ç±»å‹é€‰æ‹©ï¼ˆåŠ¨æ€æ˜¾ç¤ºï¼‰ --&gt;</span><br><span class="line">    &lt;el-form-item label=&quot;å»ºç­‘ç±»å‹&quot; v-if=&quot;showPlaceSelect&quot;&gt;</span><br><span class="line">      &lt;el-select v-model=&quot;form.buildingType&quot; placeholder=&quot;è¯·é€‰æ‹©å»ºç­‘ç±»å‹&quot;&gt;</span><br><span class="line">        &lt;el-option </span><br><span class="line">          v-for=&quot;(item, index) in buildingTypeOptions&quot;</span><br><span class="line">          :key=&quot;index&quot; </span><br><span class="line">          :label=&quot;item.label&quot; </span><br><span class="line">          :value=&quot;item.value&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/el-select&gt;</span><br><span class="line">    &lt;/el-form-item&gt;</span><br><span class="line">  &lt;/el-form&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// è¡¨å•æ•°æ®</span><br><span class="line">const form = ref(&#123;</span><br><span class="line">  disperePointType: &#x27;&#x27;,</span><br><span class="line">  buildingType: &#x27;&#x27;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// æ˜¾ç¤ºæ§åˆ¶</span><br><span class="line">const showPlaceSelect = ref(false)</span><br><span class="line"></span><br><span class="line">// ç–æ•£ç‚¹ç±»å‹é€‰é¡¹</span><br><span class="line">const disperePointTypeOptions = ref([</span><br><span class="line">  &#123; value: &#x27;government&#x27;, label: &#x27;å…šæ”¿æœºå…³ç–æ•£ç‚¹&#x27; &#125;,</span><br><span class="line">  &#123; value: &#x27;resident&#x27;, label: &#x27;åŸé•‡å±…æ°‘å¸¸è®¾ç–æ•£å®‰ç½®ç‚¹&#x27; &#125;,</span><br><span class="line">  &#123; value: &#x27;temporary&#x27;, label: &#x27;åŸé•‡å±…æ°‘ä¸´æ—¶ç–æ•£ç‚¹&#x27; &#125;</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">// å»ºç­‘ç±»å‹é€‰é¡¹æ•°æ®ï¼ˆæŒ‰ç–æ•£ç‚¹ç±»å‹åˆ†ç±»ï¼‰</span><br><span class="line">const buildingTypeData = &#123;</span><br><span class="line">  government: [</span><br><span class="line">    &#123; value: &#x27;gov_hotel&#x27;, label: &#x27;é…’åº—ï¼ˆå…šæ”¿æœºå…³ï¼‰&#x27; &#125;,</span><br><span class="line">    &#123; value: &#x27;state_guesthouse&#x27;, label: &#x27;å›½å®¾é¦†&#x27; &#125;,</span><br><span class="line">    &#123; value: &#x27;training_base&#x27;, label: &#x27;åŸ¹è®­åŸºåœ°&#x27; &#125;</span><br><span class="line">  ],</span><br><span class="line">  resident: [</span><br><span class="line">    &#123; value: &#x27;stadium&#x27;, label: &#x27;ä½“è‚²åœº&#x27; &#125;,</span><br><span class="line">    &#123; value: &#x27;school&#x27;, label: &#x27;å­¦æ ¡&#x27; &#125;,</span><br><span class="line">    &#123; value: &#x27;resident_hotel&#x27;, label: &#x27;é…’åº—ï¼ˆå±…æ°‘ï¼‰&#x27; &#125;</span><br><span class="line">  ],</span><br><span class="line">  temporary: [</span><br><span class="line">    &#123; value: &#x27;open_space&#x27;, label: &#x27;ç©ºåœ°&#x27; &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åŠ¨æ€è®¡ç®—çš„å»ºç­‘ç±»å‹é€‰é¡¹</span><br><span class="line">const buildingTypeOptions = ref([])</span><br><span class="line"></span><br><span class="line">// åˆå§‹åŒ–é»˜è®¤é€‰ä¸­ç¬¬ä¸€é¡¹</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  if (disperePointTypeOptions.value.length &gt; 0) &#123;</span><br><span class="line">    form.value.disperePointType = disperePointTypeOptions.value[0].value</span><br><span class="line">    handleDisperePointTypeChange(form.value.disperePointType)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// ç–æ•£ç‚¹ç±»å‹å˜åŒ–å¤„ç†</span><br><span class="line">const handleDisperePointTypeChange = (type) =&gt; &#123;</span><br><span class="line">  if (type &amp;&amp; buildingTypeData[type]) &#123;</span><br><span class="line">    buildingTypeOptions.value = buildingTypeData[type]</span><br><span class="line">    // é»˜è®¤é€‰ä¸­å»ºç­‘ç±»å‹ç¬¬ä¸€é¡¹</span><br><span class="line">    if (buildingTypeOptions.value.length &gt; 0) &#123;</span><br><span class="line">      form.value.buildingType = buildingTypeOptions.value[0].value</span><br><span class="line">    &#125;</span><br><span class="line">    showPlaceSelect.value = true</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    showPlaceSelect.value = false</span><br><span class="line">    form.value.buildingType = &#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="å…³é”®å®ç°è¯´æ˜"><a href="#å…³é”®å®ç°è¯´æ˜" class="headerlink" title="å…³é”®å®ç°è¯´æ˜"></a>å…³é”®å®ç°è¯´æ˜</h3><ol><li><h4 id="é»˜è®¤é€‰ä¸­ç¬¬ä¸€é¡¹ï¼š"><a href="#é»˜è®¤é€‰ä¸­ç¬¬ä¸€é¡¹ï¼š" class="headerlink" title="é»˜è®¤é€‰ä¸­ç¬¬ä¸€é¡¹ï¼š"></a><strong>é»˜è®¤é€‰ä¸­ç¬¬ä¸€é¡¹</strong>ï¼š</h4><ul><li>åœ¨ <code>onMounted</code> ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è®¾ç½®é»˜è®¤å€¼</li><li>ç–æ•£ç‚¹ç±»å‹é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªé€‰é¡¹</li><li>è‡ªåŠ¨è§¦å‘ <code>handleDisperePointTypeChange</code> è®¾ç½®å¯¹åº”çš„å»ºç­‘ç±»å‹ç¬¬ä¸€é¡¹</li></ul></li><li><p><strong>åŠ¨æ€é€‰é¡¹æ›´æ–°</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>buildingTypeData</code> å¯¹è±¡å­˜å‚¨ä¸åŒç–æ•£ç‚¹ç±»å‹å¯¹åº”çš„å»ºç­‘ç±»å‹</li><li>å½“ç–æ•£ç‚¹ç±»å‹å˜åŒ–æ—¶ï¼Œæ›´æ–° <code>buildingTypeOptions</code> æ•°ç»„ä½¿ç”¨ <code>v-if</code> æ§åˆ¶ç¬¬äºŒçº§é€‰æ‹©æ¡†çš„æ˜¾ç¤º</li></ul></li><li><p><strong>æ˜¾ç¤ºæ§åˆ¶</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>v-if=&quot;showPlaceSelect&quot;</code> æ§åˆ¶å»ºç­‘ç±»å‹é€‰æ‹©æ¡†çš„æ˜¾ç¤º</li><li>åªæœ‰é€‰æ‹©äº†æœ‰æ•ˆçš„ç–æ•£ç‚¹ç±»å‹æ—¶æ‰æ˜¾ç¤ºå»ºç­‘ç±»å‹é€‰æ‹©</li></ul></li><li><p><strong>æ•°æ®é‡ç½®</strong>ï¼š</p><ul><li>å½“ç–æ•£ç‚¹ç±»å‹å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡ç½®å»ºç­‘ç±»å‹é€‰æ‹©</li><li>ç¡®ä¿é€‰é¡¹å’Œå€¼çš„åŒæ­¥æ›´æ–°</li></ul></li></ol><h3 id="æ–¹æ¡ˆäºŒï¼šæ¡ä»¶æ¸²æŸ“ï¼ˆé€‚åˆé€‰é¡¹ç»“æ„å·®å¼‚å¤§çš„åœºæ™¯ï¼‰"><a href="#æ–¹æ¡ˆäºŒï¼šæ¡ä»¶æ¸²æŸ“ï¼ˆé€‚åˆé€‰é¡¹ç»“æ„å·®å¼‚å¤§çš„åœºæ™¯ï¼‰" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šæ¡ä»¶æ¸²æŸ“ï¼ˆé€‚åˆé€‰é¡¹ç»“æ„å·®å¼‚å¤§çš„åœºæ™¯ï¼‰"></a>æ–¹æ¡ˆäºŒï¼šæ¡ä»¶æ¸²æŸ“ï¼ˆé€‚åˆé€‰é¡¹ç»“æ„å·®å¼‚å¤§çš„åœºæ™¯ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-form&gt;</span><br><span class="line">    &lt;!-- ç¬¬ä¸€çº§ï¼šç–æ•£ç‚¹ç±»å‹ --&gt;</span><br><span class="line">    &lt;el-select v-model=&quot;evacuationType&quot; placeholder=&quot;è¯·é€‰æ‹©ç±»å‹&quot;&gt;</span><br><span class="line">      &lt;el-option value=&quot;government&quot; label=&quot;å…šæ”¿æœºå…³ç–æ•£ç‚¹&quot; /&gt;</span><br><span class="line">      &lt;el-option value=&quot;resident&quot; label=&quot;åŸé•‡å±…æ°‘å¸¸è®¾ç–æ•£å®‰ç½®ç‚¹&quot; /&gt;</span><br><span class="line">      &lt;el-option value=&quot;temporary&quot; label=&quot;åŸé•‡å±…æ°‘ä¸´æ—¶ç–æ•£ç‚¹&quot; /&gt;</span><br><span class="line">    &lt;/el-select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- å…šæ”¿æœºå…³é€‰é¡¹ --&gt;</span><br><span class="line">    &lt;el-select </span><br><span class="line">      v-if=&quot;evacuationType === &#x27;government&#x27;&quot;</span><br><span class="line">      v-model=&quot;govPlace&quot; </span><br><span class="line">      placeholder=&quot;è¯·é€‰æ‹©å…šæ”¿æœºå…³åœºæ‰€&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-option value=&quot;hotel_gov&quot; label=&quot;é…’åº—ï¼ˆå…šæ”¿æœºå…³ï¼‰&quot; /&gt;</span><br><span class="line">      &lt;el-option value=&quot;state_guesthouse&quot; label=&quot;å›½å®¾é¦†&quot; /&gt;</span><br><span class="line">    &lt;/el-select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- å±…æ°‘å¸¸è®¾é€‰é¡¹ --&gt;</span><br><span class="line">    &lt;el-select </span><br><span class="line">      v-if=&quot;evacuationType === &#x27;resident&#x27;&quot;</span><br><span class="line">      v-model=&quot;residentPlace&quot; </span><br><span class="line">      placeholder=&quot;è¯·é€‰æ‹©å±…æ°‘å®‰ç½®ç‚¹&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-option value=&quot;school&quot; label=&quot;å­¦æ ¡&quot; /&gt;</span><br><span class="line">      &lt;el-option value=&quot;stadium&quot; label=&quot;ä½“è‚²åœº&quot; /&gt;</span><br><span class="line">    &lt;/el-select&gt;</span><br><span class="line">  &lt;/el-form&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="å…³é”®å®ç°è¦ç‚¹"><a href="#å…³é”®å®ç°è¦ç‚¹" class="headerlink" title="å…³é”®å®ç°è¦ç‚¹"></a>å…³é”®å®ç°è¦ç‚¹</h3><ol><li><h4 id="æ•°æ®ç»“æ„è®¾è®¡"><a href="#æ•°æ®ç»“æ„è®¾è®¡" class="headerlink" title="æ•°æ®ç»“æ„è®¾è®¡"></a><strong>æ•°æ®ç»“æ„è®¾è®¡</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡å­˜å‚¨å±‚çº§å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> allPlaces = &#123;</span><br><span class="line">  ç±»å‹<span class="number">1</span>: [é€‰é¡¹<span class="number">1</span>, é€‰é¡¹<span class="number">2</span>],</span><br><span class="line">  ç±»å‹<span class="number">2</span>: [é€‰é¡¹<span class="number">3</span>, é€‰é¡¹<span class="number">4</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>åŠ¨æ€è®¡ç®—å±æ€§</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filteredPlaces = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> currentType.<span class="property">value</span> ? allPlaces[currentType.<span class="property">value</span>] : []</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong>é‡ç½®äºŒçº§é€‰æ‹©</strong>ï¼ˆå½“ä¸€çº§å˜åŒ–æ—¶ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">watch</span>(evacuationType, <span class="function">(<span class="params">newVal</span>) =&gt;</span> &#123;</span><br><span class="line">  specificPlace.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span> <span class="comment">// æ¸…ç©ºä¹‹å‰çš„é€‰æ‹©</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="æ•ˆæœå¢å¼ºå»ºè®®"><a href="#æ•ˆæœå¢å¼ºå»ºè®®" class="headerlink" title="æ•ˆæœå¢å¼ºå»ºè®®"></a>æ•ˆæœå¢å¼ºå»ºè®®</h3><ol><li><h4 id="æ·»åŠ ç¦ç”¨çŠ¶æ€"><a href="#æ·»åŠ ç¦ç”¨çŠ¶æ€" class="headerlink" title="æ·»åŠ ç¦ç”¨çŠ¶æ€"></a><strong>æ·»åŠ ç¦ç”¨çŠ¶æ€</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-select </span><br><span class="line">  :disabled=&quot;!evacuationType&quot;</span><br><span class="line">  placeholder=&quot;è¯·å…ˆé€‰æ‹©ç±»å‹&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ åˆ†ç»„æ˜¾ç¤º</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-option-group</span><br><span class="line">  v-for=&quot;group in filteredGroups&quot;</span><br><span class="line">  :key=&quot;group.label&quot;</span><br><span class="line">  :label=&quot;group.label&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &lt;el-option</span><br><span class="line">    v-for=&quot;item in group.options&quot;</span><br><span class="line">    :key=&quot;item.value&quot;</span><br><span class="line">    :label=&quot;item.label&quot;</span><br><span class="line">    :value=&quot;item.value&quot;</span><br><span class="line">  /&gt;</span><br><span class="line">&lt;/el-option-group&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="å®Œæ•´æ•°æ®å‚è€ƒ"><a href="#å®Œæ•´æ•°æ®å‚è€ƒ" class="headerlink" title="å®Œæ•´æ•°æ®å‚è€ƒ"></a>å®Œæ•´æ•°æ®å‚è€ƒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> allPlaces = &#123;</span><br><span class="line">  <span class="attr">government</span>: [</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;hotel_gov&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;é…’åº—ï¼ˆå…šæ”¿æœºå…³ï¼‰&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;state_guesthouse&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;å›½å®¾é¦†&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;conference_center&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;å…šæ”¿ä¼šè®®ä¸­å¿ƒ&#x27;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resident</span>: [</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;village&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;æ‘åº„&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;stadium&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;ä½“è‚²åœº&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;school&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;å­¦æ ¡&#x27;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">temporary</span>: [</span><br><span class="line">    &#123; <span class="attr">value</span>: <span class="string">&#x27;open_field&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;ç©ºåœ°&#x27;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">vueä½¿ç”¨elementPluså®ç°åŸºç¡€çº§è”é€‰æ‹©</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>PythonåŸºç¡€å­¦ä¹ </title>
    <link href="https://www.axcode.cn/posts/624e0a2.html"/>
    <id>https://www.axcode.cn/posts/624e0a2.html</id>
    <published>2025-05-26T09:20:31.000Z</published>
    <updated>2025-06-02T09:34:22.430Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><h3 id="å—æ³¨é‡Š"><a href="#å—æ³¨é‡Š" class="headerlink" title="å—æ³¨é‡Š"></a>å—æ³¨é‡Š</h3><p><img src="https://bu.dusays.com/2025/05/26/68341d555cd07.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å°æ•°å­—</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2025</span>)</span><br></pre></td></tr></table></figure><h3 id="è¡Œå†…æ³¨é‡Š"><a href="#è¡Œå†…æ³¨é‡Š" class="headerlink" title="è¡Œå†…æ³¨é‡Š"></a>è¡Œå†…æ³¨é‡Š</h3><p><img src="https://bu.dusays.com/2025/05/26/68341d5470bf6.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æˆ‘åœ¨å­¦ä¹ python&#x27;</span>)  <span class="comment"># è¡Œå†…æ³¨é‡Š</span></span><br></pre></td></tr></table></figure><h3 id="å¤šè¡Œæ³¨é‡Š"><a href="#å¤šè¡Œæ³¨é‡Š" class="headerlink" title="å¤šè¡Œæ³¨é‡Š"></a>å¤šè¡Œæ³¨é‡Š</h3><p>ä»¥ä¸‰å¯¹åŒå¼•å· <span class='p red'>or</span> ä¸‰å¯¹å•å¼•å·å¼€å§‹å’Œç»“å°¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æˆ‘æ˜¯å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="string">1111</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æˆ‘æ˜¯å¤šè¡Œæ³¨é‡Š &#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ³¨é‡Šçš„ä½œç”¨"><a href="#æ³¨é‡Šçš„ä½œç”¨" class="headerlink" title="æ³¨é‡Šçš„ä½œç”¨"></a>æ³¨é‡Šçš„ä½œç”¨</h3><p><img src="https://bu.dusays.com/2025/05/26/68341d55731b3.png" alt=""></p><h2 id="print-å‡½æ•°ï¼šè¾“å‡º-æ‰“å°æŒ‡å®šå†…å®¹"><a href="#print-å‡½æ•°ï¼šè¾“å‡º-æ‰“å°æŒ‡å®šå†…å®¹" class="headerlink" title="print()å‡½æ•°ï¼šè¾“å‡º/æ‰“å°æŒ‡å®šå†…å®¹"></a>print()å‡½æ•°ï¼šè¾“å‡º/æ‰“å°æŒ‡å®šå†…å®¹</h2><p><img src="https://bu.dusays.com/2025/05/26/68341d5575a7d.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">year = <span class="number">2025</span></span><br><span class="line">month = <span class="number">5</span></span><br><span class="line">day = <span class="number">26</span></span><br><span class="line">week = <span class="string">&#x27;ä¸€&#x27;</span></span><br><span class="line">weather = <span class="string">&#x27;æ™´&#x27;</span></span><br><span class="line">temp = <span class="number">34.5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä»Šå¤©æ˜¯ %d å¹´ %02d æœˆ %d æ—¥, æ˜ŸæœŸ %s, å¤©æ°” %s, æ°”æ¸© %.1f æ‘„æ°åº¦&#x27;</span> % (year, month, day, week, weather, temp))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2025/05/26/6834215a31bd3.png" alt=""></p><h2 id="input"><a href="#input" class="headerlink" title="input()"></a>input()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># input()çš„ä½¿ç”¨</span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥æ˜µç§°ï¼š&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç±»å‹è½¬æ¢</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥å¹´é¾„ï¼š&#x27;</span>))</span><br><span class="line"><span class="comment"># age = int(age)</span></span><br><span class="line">year = <span class="number">2025</span></span><br><span class="line">brith = year - age</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½ çš„å‡ºç”Ÿå¹´ä»½æ˜¯&#x27;</span>, brith)</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2025/06/02/683d6fb77d771.png" alt=""></p><h2 id="ç« èŠ‚æ€»ç»“"><a href="#ç« èŠ‚æ€»ç»“" class="headerlink" title="ç« èŠ‚æ€»ç»“"></a>ç« èŠ‚æ€»ç»“</h2><p><img src="https://bu.dusays.com/2025/06/02/683d6fb80b347.png" alt=""></p><h2 id="å‘½ä»¤æ€»ç»“"><a href="#å‘½ä»¤æ€»ç»“" class="headerlink" title="å‘½ä»¤æ€»ç»“"></a>å‘½ä»¤æ€»ç»“</h2><p><img src="https://bu.dusays.com/2025/06/02/683d6fb811029.png" alt=""></p><h2 id="å•è¯æ€»ç»“"><a href="#å•è¯æ€»ç»“" class="headerlink" title="å•è¯æ€»ç»“"></a>å•è¯æ€»ç»“</h2><p><img src="https://bu.dusays.com/2025/06/02/683d6fb7f3eb5.png" alt=""></p>]]></content>
    
    
    <summary type="html">ğŸ‹â€ğŸŸ©PythonåŸºç¡€å­¦ä¹ </summary>
    
    
    
    <category term="Python" scheme="https://www.axcode.cn/categories/Python/"/>
    
    
    <category term="Python" scheme="https://www.axcode.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>vue3åœ¨ä½¿ç”¨elementPlusè¡¨æ ¼å¤„ç†ä¸è§„åˆ™æ•°æ®</title>
    <link href="https://www.axcode.cn/posts/55cb2194.html"/>
    <id>https://www.axcode.cn/posts/55cb2194.html</id>
    <published>2024-08-31T09:48:53.000Z</published>
    <updated>2024-08-31T10:39:19.107Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ­¤æ–‡ä¸»è¦è®°å½•<code>el-table</code>å¾ªç¯è¡¨å¤´ä»¥åŠæ•°æ®æ—¶ï¼Œå¯¹äºåå°è¿”å›ä¸è§„åˆ™æ•°æ®å¦‚ä½•å¤„ç†çš„é—®é¢˜ã€‚</p><p>å½¢å¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å§“å&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°æ˜&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å§“å&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°çº¢&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å§“å&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°é»„&quot;</span> <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¹´é¾„&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;18&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span> <span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¹´é¾„&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;17&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¹´é¾„&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;25&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>é‡åˆ°è¿™ç§ä¸è§„åˆ™çš„æ•°æ® å¯ä»¥è¯•ç€ä½¿ç”¨ä¸‹åˆ—çš„æ–¹å¼å¤„ç†ã€‚</p><h2 id="æ¨¡æ¿ä¸­çš„ä»£ç "><a href="#æ¨¡æ¿ä¸­çš„ä»£ç " class="headerlink" title="æ¨¡æ¿ä¸­çš„ä»£ç "></a>æ¨¡æ¿ä¸­çš„ä»£ç </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data=&quot;tableData&quot; border&gt;</span><br><span class="line">  &lt;el-table-column</span><br><span class="line">    v-for=&quot;col in columns&quot;</span><br><span class="line">    :key=&quot;col.prop&quot;</span><br><span class="line">    :label=&quot;col.label&quot;&gt;</span><br><span class="line">    &lt;template #default=&quot;&#123; row, column, $index &#125;&quot;&gt;</span><br><span class="line">      &lt;el-input</span><br><span class="line">        v-if=&quot;isEditable&quot;</span><br><span class="line">        v-model=&quot;row[col.prop]&quot;</span><br><span class="line">        size=&quot;small&quot;</span><br><span class="line">      &gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;span v-else&gt;&#123;&#123; row[col.prop] &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/el-table-column&gt;</span><br><span class="line">&lt;/el-table&gt;</span><br></pre></td></tr></table></figure><h2 id="Scriptæ¨¡æ¿ä¸­å¯¹åº”çš„æ•°æ®å¤„ç†"><a href="#Scriptæ¨¡æ¿ä¸­å¯¹åº”çš„æ•°æ®å¤„ç†" class="headerlink" title="Scriptæ¨¡æ¿ä¸­å¯¹åº”çš„æ•°æ®å¤„ç†"></a>Scriptæ¨¡æ¿ä¸­å¯¹åº”çš„æ•°æ®å¤„ç†</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> columns = <span class="title function_">ref</span>([]);</span><br><span class="line"><span class="keyword">const</span> tableData = <span class="title function_">ref</span>([]);</span><br><span class="line"><span class="keyword">const</span> isEditable = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">processData</span> = (<span class="params">response</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ç”Ÿæˆåˆ—ä¿¡æ¯ response ä¸ºåå°è¯·æ±‚æˆåŠŸåè¿”å›çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> fields = response.<span class="property">data</span>.<span class="title function_">map</span>(<span class="function"><span class="params">column</span> =&gt;</span> column[<span class="number">0</span>].<span class="property">fieldName</span>);</span><br><span class="line">  <span class="keyword">const</span> columnsData = fields.<span class="title function_">map</span>(<span class="function"><span class="params">field</span> =&gt;</span> (&#123; <span class="attr">prop</span>: field, <span class="attr">label</span>: field &#125;));</span><br><span class="line">  columns.<span class="property">value</span> = columnsData;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç”Ÿæˆè¡¨æ ¼æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> numRows = response.<span class="property">data</span>[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: numRows &#125;, <span class="function">(<span class="params">_, rowIndex</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> row = &#123;&#125;;</span><br><span class="line">    response.<span class="property">data</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">column</span> =&gt;</span> &#123;</span><br><span class="line">      row[column[<span class="number">0</span>].<span class="property">fieldName</span>] = column.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">index</span> === rowIndex)?.<span class="property">fieldNameValue</span> || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> row;</span><br><span class="line">  &#125;);</span><br><span class="line">  tableData.<span class="property">value</span> = data;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">â˜ï¸vue3åœ¨ä½¿ç”¨elementPlusè¡¨æ ¼å¤„ç†ä¸è§„åˆ™æ•°æ®</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue3åŸºäºAxioså°è£…requestè¯·æ±‚</title>
    <link href="https://www.axcode.cn/posts/3f98be46.html"/>
    <id>https://www.axcode.cn/posts/3f98be46.html</id>
    <published>2024-08-08T09:48:46.000Z</published>
    <updated>2024-08-08T10:31:24.226Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><p>ä½¿ç”¨<code>pnpm</code> or <code>cnpm</code> or <code>cnpm</code>å®‰è£…<code>axios</code>æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå°è£…è¯·æ±‚çš„Tsæˆ–Jsæ–‡ä»¶"><a href="#åˆ›å»ºå°è£…è¯·æ±‚çš„Tsæˆ–Jsæ–‡ä»¶" class="headerlink" title="åˆ›å»ºå°è£…è¯·æ±‚çš„Tsæˆ–Jsæ–‡ä»¶"></a>åˆ›å»ºå°è£…è¯·æ±‚çš„Tsæˆ–Jsæ–‡ä»¶</h2><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>åœ¨<code>src</code>æ–‡ä»¶å¤¹ä¸‹çš„utilsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª<code>request.ts</code>æ–‡ä»¶</p>            </div><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿›è¡Œaxios äºŒæ¬¡å°è£… ä½¿ç”¨è¯·æ±‚ä¸å“åº”å™¨æ¥æˆª</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> useUserStroe <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/user&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€åˆ©ç”¨axioså¯¹è±¡çš„createæ–¹æ³• åˆ›å»ºaxios å®ä¾‹ ï¼ˆå¯ä»¥é…ç½®å…¶ä»–çš„é…ç½®ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="comment">// åŸºç¡€è·¯å¾„</span></span><br><span class="line">  <span class="attr">baseURL</span>: <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_BASE_API</span>, <span class="comment">//åŸºç¡€è·¯å¾„ä¸Šä¼šæºå¸¦/api</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span> <span class="comment">// è¶…æ—¶æ—¶é—´</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.ç¬¬äºŒæ­¥ request å®ä¾‹æ·»åŠ è¯·æ±‚ä¸å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//è·å–ç”¨æˆ·ç›¸å…³çš„å°ä»“åº“ è·å–ä»“åº“çš„token ç™»å½•æˆåŠŸåæºå¸¦ç»™æœåŠ¡å™¨</span></span><br><span class="line">  <span class="keyword">const</span> userStore = <span class="title function_">useUserStroe</span>();</span><br><span class="line">  <span class="keyword">if</span> (userStore.<span class="property">token</span>) &#123;</span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">token</span> = userStore.<span class="property">token</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// config é…ç½®å¯¹è±¡, headerå±æ€§è¯·æ±‚å¤´ç»å¸¸ç»™æœåŠ¡å™¨ç«¯æºå¸¦å…¬å…±å‚æ•°</span></span><br><span class="line">  <span class="comment">// è¿”å›é…ç½®å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æˆåŠŸå›è°ƒ</span></span><br><span class="line">  <span class="comment">// ç®€åŒ–æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">&#125;, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å¤±è´¥çš„å›è°ƒ å¤„ç†httpç½‘ç»œé”™è¯¯</span></span><br><span class="line">  <span class="comment">// å®šä¸€ä¸ªå˜é‡ å­˜å‚¨ç½‘ç»œä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="comment">// httpçŠ¶æ€ç </span></span><br><span class="line">  <span class="keyword">let</span> status = error.<span class="property">response</span>.<span class="property">status</span>;</span><br><span class="line">  <span class="keyword">switch</span> (status) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">      message = <span class="string">&#x27;TOKENè¿‡æœŸ&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">      message = <span class="string">&#x27;æ— æƒè®¿é—®&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">      message = <span class="string">&#x27;è¯·æ±‚åœ°å€é”™è¯¯&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">      message = <span class="string">&#x27;æœåŠ¡å™¨é”™è¯¯&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      message = <span class="string">&#x27;ç½‘ç»œå‡ºç°é”™è¯¯&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">    message</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹å¤–æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å°è£…åçš„è¯·æ±‚"><a href="#ä½¿ç”¨å°è£…åçš„è¯·æ±‚" class="headerlink" title="ä½¿ç”¨å°è£…åçš„è¯·æ±‚"></a>ä½¿ç”¨å°è£…åçš„è¯·æ±‚</h2><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»Ÿä¸€ç®¡ç†ç”¨æˆ·ç›¸å…³çš„æ¥å£</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="variable constant_">API</span> &#123;</span><br><span class="line">  <span class="variable constant_">LOGIN_URL</span> = <span class="string">&#x27;/admin/acl/index/login&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç™»å½•æ¥å£</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">login</span> = (<span class="params"><span class="attr">data</span>: loginFomData</span>) =&gt; request.<span class="property">post</span>&lt;<span class="built_in">any</span>, loginResponseData&gt;(<span class="variable constant_">API</span>.<span class="property">LOGIN_URL</span>, data);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨éœ€è¦ä½¿ç”¨æ¥å£çš„é¡µé¢å¼•å…¥</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•ç”¨æ¥å£</span></span><br><span class="line"><span class="keyword">import</span> &#123; login &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/user&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æˆ·ç™»å½•çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">userLogin</span>(<span class="params"><span class="attr">data</span>: loginFomData</span>) &#123;</span><br><span class="line">  <span class="comment">// ç”¨æˆ·ç™»å½•è¯·æ±‚</span></span><br><span class="line">  <span class="keyword">let</span> <span class="attr">result</span>: loginResponseData = <span class="keyword">await</span> <span class="title function_">login</span>(data);</span><br><span class="line">  <span class="keyword">if</span> (result.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ†Vue3åŸºäºAxioså°è£…requestè¯·æ±‚</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Reactä¸‰å¤§æ ¸å¿ƒå±æ€§</title>
    <link href="https://www.axcode.cn/posts/385b8e20.html"/>
    <id>https://www.axcode.cn/posts/385b8e20.html</id>
    <published>2024-07-23T13:41:19.000Z</published>
    <updated>2024-07-24T05:37:59.466Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-stateå±æ€§"><a href="#1-stateå±æ€§" class="headerlink" title="1.stateå±æ€§"></a>1.stateå±æ€§</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ul><li>stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªkey-valueçš„ç»„åˆ)</li><li>æŠŠç»„ä»¶çœ‹æˆæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼ˆState Machinesï¼‰ é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</li></ul><h3 id="åŸºç¡€å®ä¾‹"><a href="#åŸºç¡€å®ä¾‹" class="headerlink" title="åŸºç¡€å®ä¾‹"></a>åŸºç¡€å®ä¾‹</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Weather</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">isHot</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">changeWeather</span> = <span class="variable language_">this</span>.<span class="property">changeWeather</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;isHot&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeWeather&#125;</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot?&#x27;ç‚çƒ­&#x27;:&#x27;å‡‰çˆ½&#x27;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">changeWeather</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> isHot = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">isHot</span>;</span><br><span class="line">    <span class="comment">// æ›´æ–°state æ˜¯ä¸€ç§åˆå¹¶ ä¸æ˜¯æ›¿æ¢</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">isHot</span>:!isHot&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Weather</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>));</span><br></pre></td></tr></table></figure><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p><code>changeWeather</code> æ”¾åœ¨å“ªé‡Œï¼Ÿ?</p>            </div><ul><li><p><code>Weather</code> çš„åŸå‹å¯¹è±¡ä¸Š ä¾›å®ä¾‹ä½¿ç”¨</p></li><li><p>ç”±äº<code>changeWeather</code> æ˜¯ä¸º<code>onClick</code>åšä¸ºçš„å›è°ƒ æ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹çš„å›è°ƒæ˜¯ç›´æ¥ä½¿ç”¨</p></li><li><p>ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ æ‰€ä»¥<code>changeWeather</code> ä¸­çš„<code>this</code>ä¸º<code>undefined</code></p><ul><li><p>å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">changeWeather</span> = <span class="variable language_">this</span>.<span class="property">changeWeather</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ç®­å¤´å‡½æ•°</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">changeWeather = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;isHot&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">isHot</span>:!isHot&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>çŠ¶æ€æ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–°éœ€è¦ä½¿ç”¨ <code>this.setState()</code>;</p></li></ul></li></ul><h3 id="stateç®€å†™æ–¹å¼"><a href="#stateç®€å†™æ–¹å¼" class="headerlink" title="stateç®€å†™æ–¹å¼"></a>stateç®€å†™æ–¹å¼</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DemoName</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123; <span class="attr">key</span>: value &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;key&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handle&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  handle = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;key&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">key</span>:!key&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Propså±æ€§"><a href="#Propså±æ€§" class="headerlink" title="Propså±æ€§"></a>Propså±æ€§</h2><h3 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ul><li>æ¯ä¸ªç»„ä»¶å¯¹è±¡éƒ½ä¼šæœ‰<code>props</code>(propertiesçš„ç®€å†™)å±æ€§</li><li>ç»„ä»¶æ ‡ç­¾çš„æ‰€æœ‰å±æ€§éƒ½ä¿å­˜åœ¨propsä¸­</li><li>å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼ <code>this.props.propertyName</code></li><li>ä½œç”¨ï¼šé€šè¿‡æ ‡ç­¾å±æ€§ä»ç»„ä»¶å¤– å‘ç»„ä»¶å†…ä¼ é€’æ•°æ®ï¼ˆåªè¯» read onlyï¼‰</li><li>å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶</li></ul><h3 id="åŸºç¡€å®ä¾‹-1"><a href="#åŸºç¡€å®ä¾‹-1" class="headerlink" title="åŸºç¡€å®ä¾‹"></a>åŸºç¡€å®ä¾‹</h3><h4 id="ç±»ç»„ä»¶"><a href="#ç±»ç»„ä»¶" class="headerlink" title="ç±»ç»„ä»¶"></a>ç±»ç»„ä»¶</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name,sex,age &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">props</span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;name,age,sex&#125; = props;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="å¯¹Propsè¿›è¡Œçº¦æŸé™åˆ¶"><a href="#å¯¹Propsè¿›è¡Œçº¦æŸé™åˆ¶" class="headerlink" title="å¯¹Propsè¿›è¡Œçº¦æŸé™åˆ¶"></a>å¯¹Propsè¿›è¡Œçº¦æŸé™åˆ¶</h3><h4 id="ç±»ç»„ä»¶çš„çº¦æŸå½¢å¼"><a href="#ç±»ç»„ä»¶çš„çº¦æŸå½¢å¼" class="headerlink" title="ç±»ç»„ä»¶çš„çº¦æŸå½¢å¼"></a>ç±»ç»„ä»¶çš„çº¦æŸå½¢å¼</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// å¯¹æ ‡ç­¾å±æ€§å€¼è¿›è¡Œç±»å‹ biå¿…è¦æ€§çš„é™åˆ¶</span></span><br><span class="line">  <span class="keyword">static</span> propTypes =&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æŒ‡å®šé»˜è®¤çš„å±æ€§å€¼</span></span><br><span class="line">  <span class="keyword">static</span> defaultProps =&#123;</span><br><span class="line">    <span class="attr">sex</span>:<span class="string">&#x27;ä¿å¯†&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name,sex,age &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h4 id="å¯¹å‡½æ•°ç»„ä»¶çš„çº¦æŸå½¢å¼"><a href="#å¯¹å‡½æ•°ç»„ä»¶çš„çº¦æŸå½¢å¼" class="headerlink" title="å¯¹å‡½æ•°ç»„ä»¶çš„çº¦æŸå½¢å¼"></a>å¯¹å‡½æ•°ç»„ä»¶çš„çº¦æŸå½¢å¼</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">props</span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;name,age,sex&#125; = props;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹æ ‡ç­¾å±æ€§å€¼è¿›è¡Œç±»å‹ biå¿…è¦æ€§çš„é™åˆ¶</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">propTypes</span> =&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŒ‡å®šé»˜è®¤çš„å±æ€§å€¼</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">defaultProps</span> =&#123;</span><br><span class="line">  <span class="attr">sex</span>:<span class="string">&#x27;ä¿å¯†&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="propsä¸stateçš„åŒºåˆ«"><a href="#propsä¸stateçš„åŒºåˆ«" class="headerlink" title="propsä¸stateçš„åŒºåˆ«"></a>propsä¸stateçš„åŒºåˆ«</h3><div class='checkbox red'><input type="checkbox" />            <p>propsä¸­çš„æ•°æ®éƒ½æ˜¯å¤–ç•Œä¼ é€’è¿‡æ¥çš„</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>stateä¸­çš„æ•°æ®éƒ½æ˜¯ç»„ä»¶ç§æœ‰çš„ï¼›ï¼ˆé€šè¿‡Ajaxè·å–å›æ¥çš„æ•°æ®ï¼Œä¸€èˆ¬éƒ½æ˜¯ç§æœ‰æ•°æ®ï¼‰</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>propsä¸­çš„æ•°æ®éƒ½æ˜¯åªè¯»çš„ï¼Œä¸èƒ½é‡æ–°èµ‹å€¼</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>stateä¸­çš„æ•°æ®ï¼Œéƒ½æ˜¯å¯è¯»å¯å†™çš„</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>å­ç»„ä»¶åªèƒ½é€šè¿‡propsä¼ é€’æ•°æ®</p>            </div><h2 id="Refså±æ€§"><a href="#Refså±æ€§" class="headerlink" title="Refså±æ€§"></a>Refså±æ€§</h2><h3 id="ç®€ä»‹-2"><a href="#ç®€ä»‹-2" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ul><li>ç»„ä»¶å†…çš„æ ‡ç­¾å¯ä»¥å®šä¹‰refå±æ€§ç±»æ ‡è¯†è‡ªå·±ï¼Œæœ‰ç‚¹ç±»ä¼¼ä¸JSä¸­çš„id</li><li>Reactæ–‡æ¡£ä¸­å†ä¸‰å¼ºè°ƒï¼Œè¯·ä¸è¦è¿‡åº¦ä½¿ç”¨refsï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å¯ä»¥ç”¨domåŸç”Ÿå¯¹è±¡è§£å†³æ—¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨refs ä¾ç…§ä¹‹å‰çš„å†™æ³•ï¼Œé¦–å…ˆæ˜¯ç»™å‡ºç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¸­refsçš„å†™æ³•</li></ul><h3 id="ä¸‰ç§ç¼–ç å½¢å¼"><a href="#ä¸‰ç§ç¼–ç å½¢å¼" class="headerlink" title="ä¸‰ç§ç¼–ç å½¢å¼"></a>ä¸‰ç§ç¼–ç å½¢å¼</h3><h4 id="1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆå®˜æ–¹ä¸æ¨èï¼‰"><a href="#1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆå®˜æ–¹ä¸æ¨èï¼‰" class="headerlink" title="1.å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆå®˜æ–¹ä¸æ¨èï¼‰"></a>1.å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆå®˜æ–¹ä¸æ¨èï¼‰</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  showblurData = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">refs</span>.<span class="property">input</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#x27;input&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;å¤±å»ç„¦ç‚¹å±•ç¤ºæ•°æ®&#x27;</span> <span class="attr">onBlur</span>=<span class="string">&#123;this.showblurData&#125;</span> /&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h4 id="2-å‡½æ•°å›è°ƒå½¢å¼çš„ref"><a href="#2-å‡½æ•°å›è°ƒå½¢å¼çš„ref" class="headerlink" title="2.å‡½æ•°å›è°ƒå½¢å¼çš„ref"></a>2.å‡½æ•°å›è°ƒå½¢å¼çš„ref</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">/** å±•ç¤ºå¤±å»ç„¦ç‚¹çš„æ•°æ® */</span></span><br><span class="line">  showblurData = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">input2</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;</span> <span class="attr">c</span>=&gt;</span> this.input2 = c&#125; type=&#x27;text&#x27; placeholder=&#x27;å¤±å»ç„¦ç‚¹å±•ç¤ºæ•°æ®&#x27; </span></span><br><span class="line"><span class="language-xml">        onBlur=&#123;this.showblurData&#125; /&gt;</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h4 id="3-createRefåˆ›å»ºrefå®¹å™¨ï¼ˆå®˜æ–¹æ¨èï¼‰"><a href="#3-createRefåˆ›å»ºrefå®¹å™¨ï¼ˆå®˜æ–¹æ¨èï¼‰" class="headerlink" title="3.createRefåˆ›å»ºrefå®¹å™¨ï¼ˆå®˜æ–¹æ¨èï¼‰"></a>3.createRefåˆ›å»ºrefå®¹å™¨ï¼ˆå®˜æ–¹æ¨èï¼‰</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * React.createRef è°ƒç”¨å‡½æ•°åå¯ä»¥è¿”å›ä¸€ä¸ªå®¹å™¨ è¯¥å®¹å™¨å¯ä»¥å­˜å‚¨è¢«refæ‰€æ ‡è¯†çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  myRef = <span class="title class_">React</span>.<span class="title function_">createRef</span>();</span><br><span class="line">  <span class="comment">/** å±•ç¤ºå·¦ä¾§æ•°æ® */</span></span><br><span class="line">  showData = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">myRef</span>.<span class="property">current</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;this.myRef&#125;</span> <span class="attr">placeholder</span>=<span class="string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹å‡»æˆ‘æç¤ºå·¦è¾¹çš„æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ…Reactä¸‰å¤§æ ¸å¿ƒå±æ€§</summary>
    
    
    
    <category term="React" scheme="https://www.axcode.cn/categories/React/"/>
    
    
    <category term="React" scheme="https://www.axcode.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>Reactä¸­å®šä¹‰ç»„ä»¶çš„æ–¹å¼</title>
    <link href="https://www.axcode.cn/posts/7c5a67e6.html"/>
    <id>https://www.axcode.cn/posts/7c5a67e6.html</id>
    <published>2024-07-19T05:35:11.000Z</published>
    <updated>2024-07-19T06:25:27.933Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-å‡½æ•°å¼ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰"><a href="#1-å‡½æ•°å¼ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰" class="headerlink" title="1.å‡½æ•°å¼ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰"></a>1.å‡½æ•°å¼ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>å‡½æ•°å¼ç»„ä»¶æ˜¯ä½¿ç”¨çº¯ç²¹çš„JavaScriptå‡½æ•°æ¥å®šä¹‰çš„ã€‚å®ƒæ¥æ”¶ä¸€ä¸ª<code>props</code>å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºæè¿°ç»„ä»¶UIçš„Reactå…ƒç´ ã€‚å‡½æ•°å¼ç»„ä»¶æ˜¯Reactä¸­æœ€ç®€å•å’Œæœ€å¸¸è§çš„æ–¹å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. åˆ›å»ºå‡½æ•°æ—¶å¼ç»„ä»¶</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params">props</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯ç”¨å‡½æ•°å®šä¹‰çš„ç»„ä»¶&#123;props&#125;ï¼ˆé€‚ç”¨äºã€ç®€å•ç»„ä»¶ã€‘çš„å®šä¹‰ï¼‰<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2. æŒ‚è½½ç»„ä»¶åˆ°é¡µé¢</span></span><br><span class="line">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>æ‰§è¡Œ<code>ReactDOM.render(ï¼‰</code>ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ?</p>            </div><ul><li><code>React</code> è§£æç»„ä»¶æ ‡ç­¾ æ‰¾åˆ°äº†<code>MyComponent</code>ç»„ä»¶</li><li>å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨å‡½æ•°å®šä¹‰çš„ éšåè°ƒç”¨è¯¥å‡½æ•° å°†è¿”å›çš„è™šæ‹Ÿ<code>DOM</code>è½¬åŒ–ä¸ºçœŸå®çš„<code>DOM</code>éšåå‘ˆç°åœ¨é¡µé¢ä¸Šã€‚</li></ul><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul><li>ç®€æ´ï¼šç›¸å¯¹äºç±»ç»„ä»¶ï¼Œå‡½æ•°å¼ç»„ä»¶é€šå¸¸å…·æœ‰æ›´çŸ­ã€æ›´æ˜“è¯»çš„ä»£ç ã€‚</li><li>æ— çŠ¶æ€ï¼šå‡½æ•°å¼ç»„ä»¶æ²¡æœ‰å†…éƒ¨çŠ¶æ€ï¼ˆstateï¼‰ï¼Œå®ƒåªæ¥æ”¶propså¹¶è¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚å› æ­¤ï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯æ— çŠ¶æ€ç»„ä»¶ã€‚</li><li>é€‚ç”¨æ€§å¹¿æ³›ï¼šå‡½æ•°å¼ç»„ä»¶é€‚ç”¨äºç®€å•çš„é™æ€UIå±•ç¤ºï¼Œæˆ–è€…å½“ä¸éœ€è¦å†…éƒ¨çŠ¶æ€ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ã€‚</li></ul><h2 id="2-ç±»å¼ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰"><a href="#2-ç±»å¼ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰" class="headerlink" title="2.ç±»å¼ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰"></a>2.ç±»å¼ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰</h2><h3 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>ç±»ç»„ä»¶æ˜¯é€šè¿‡ç»§æ‰¿<code>React</code>çš„<code>Component</code>ç±»å¹¶ä½¿ç”¨ES6ç±»è¯­æ³•æ¥å®šä¹‰çš„ã€‚ç±»ç»„ä»¶å…·æœ‰æ›´å¤šçš„åŠŸèƒ½å’Œçµæ´»æ€§ï¼Œå¯ä»¥ä½¿ç”¨å†…éƒ¨çŠ¶æ€ï¼ˆ<code>state</code>ï¼‰å’Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. åˆ›å»ºç±»å¼ç»„ä»¶</span></span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">MyComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">     <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">       <span class="variable language_">super</span>(props);</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;;</span><br><span class="line">     &#125;</span><br><span class="line">      <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">const</span> &#123;count&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">       <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 2 æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span></span><br><span class="line">   <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>));</span><br></pre></td></tr></table></figure><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>æ‰§è¡Œ<code>render</code>æ”¾åœ¨å“ªé‡Œ?</p>            </div><ul><li>æ”¾åœ¨<code>MyCOmponent</code> çš„åŸå‹å¯¹è±¡ä¸Š ä¾›å®ä¾‹ä½¿ç”¨ã€‚</li></ul><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p><code>render</code>ä¸­çš„<code>this</code>æ˜¯è°ï¼Ÿ?</p>            </div><ul><li><code>MyComponent</code> çš„å®ä¾‹å¯¹è±¡  &lt;==&gt; <code>MyComponent</code> ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</li></ul><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>æ‰§è¡Œ<code>ReactDOM.render(ï¼‰</code>ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ?</p>            </div><ul><li><code>React</code> è§£æç»„ä»¶æ ‡ç­¾ æ‰¾åˆ°äº†<code>MyComponent</code>ç»„ä»¶</li><li>å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨ç±»å®šä¹‰çš„ éšå<code>new</code>å‡ºæ¥è¯¥ç±»çš„å®ä¾‹  å¹¶ç”¨è¯¥å®ä¾‹è°ƒç”¨åˆ°åŸå‹ä¸Šçš„<code>render</code>æ–¹æ³•</li><li>å°†<code>rander</code>è¿”å›çš„è™šæ‹Ÿ<code>DOM</code>è½¬ä¸ºçœŸå®<code>DOM</code>å‘ˆç°åˆ°é¡µé¢ä¸Šã€‚</li></ul><h3 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul><li>å†…éƒ¨çŠ¶æ€ç®¡ç†ï¼šç±»ç»„ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨<code>this.state</code>å¯¹è±¡æ¥ç®¡ç†å†…éƒ¨çŠ¶æ€ï¼Œå¹¶é€šè¿‡<code>setState</code>æ–¹æ³•æ›´æ–°çŠ¶æ€ã€‚</li><li>ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šç±»ç»„ä»¶æä¾›äº†ä¸€ç³»åˆ—ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå¦‚<code>componentDidMount</code>ã€<code>componentDidUpdate</code>ç­‰ï¼‰ï¼Œå¯ä»¥ç”¨äºåœ¨ä¸åŒçš„é˜¶æ®µæ‰§è¡Œç‰¹å®šçš„é€»è¾‘ã€‚</li><li>é€‚ç”¨äºå¤æ‚é€»è¾‘ï¼šå½“ç»„ä»¶éœ€è¦å¤„ç†å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œæ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œç±»ç»„ä»¶æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ã€‚</li></ul>]]></content>
    
    
    <summary type="html">ğŸŠReactä¸­å®šä¹‰ç»„ä»¶çš„æ–¹å¼</summary>
    
    
    
    <category term="React" scheme="https://www.axcode.cn/categories/React/"/>
    
    
    <category term="React" scheme="https://www.axcode.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>vue3æœ‰å…³é‰´æƒç›¸å…³é—®é¢˜</title>
    <link href="https://www.axcode.cn/posts/e7ddffb7.html"/>
    <id>https://www.axcode.cn/posts/e7ddffb7.html</id>
    <published>2024-07-15T12:28:04.000Z</published>
    <updated>2024-08-31T10:34:31.906Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><div class="note blue no-icon flat"><p>éœ€è¦åç«¯åŒå­¦é…åˆï¼Œä¸åŒçš„ç”¨æˆ·ç™»å½•ï¼Œéœ€è¦æ ¹æ®ç”¨æˆ·ä¿¡æ¯å¯¹èœå•ã€æŒ‰é’®ç­‰æƒé™è¿›è¡Œå¤„ç†ã€‚</p><p><img src="https://bu.dusays.com/2024/07/15/66951bc75943f.png" alt=""></p></div><h2 id="1-è·¯ç”±é‰´æƒæ–‡ä»¶"><a href="#1-è·¯ç”±é‰´æƒæ–‡ä»¶" class="headerlink" title="1.è·¯ç”±é‰´æƒæ–‡ä»¶"></a>1.è·¯ç”±é‰´æƒæ–‡ä»¶</h2><div class="note blue no-icon flat"><p>åœ¨src ä¸‹æ–°å»ºæ–‡ä»¶permission.ts åœ¨å…¥å£æ–‡ä»¶main.tså¼•å…¥å¹¶å†™å…¥ä»¥ä¸‹ä»£ç </p></div><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·¯ç”±é‰´æƒ:é‰´æƒ,é¡¹ç›®å½“ä¸­è·¯ç”±èƒ½ä¸èƒ½è¢«çš„æƒé™çš„è®¾ç½®(æŸä¸€ä¸ªè·¯ç”±ä»€ä¹ˆæ¡ä»¶ä¸‹å¯ä»¥è®¿é—®ã€ä»€ä¹ˆæ¡ä»¶ä¸‹ä¸å¯ä»¥è®¿é—®)</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"><span class="comment">//setting ä¸ºå…¬å…±å¤´éƒ¨æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> setting <span class="keyword">from</span> <span class="string">&#x27;./setting&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> nprogress <span class="keyword">from</span> <span class="string">&#x27;nprogress&#x27;</span>;</span><br><span class="line"><span class="comment">//å¼•å…¥è¿›åº¦æ¡æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;nprogress/nprogress.css&quot;</span>;</span><br><span class="line">nprogress.<span class="title function_">configure</span>(&#123; <span class="attr">showSpinner</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="comment">//è·å–ç”¨æˆ·ç›¸å…³çš„å°ä»“åº“å†…éƒ¨tokenæ•°æ®,å»åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•æˆåŠŸ</span></span><br><span class="line"><span class="keyword">import</span> useUserStore <span class="keyword">from</span> <span class="string">&#x27;./store/modules/user&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> userStore = <span class="title function_">useUserStore</span>(pinia);</span><br><span class="line"><span class="comment">//å…¨å±€å®ˆå«:é¡¹ç›®å½“ä¸­ä»»æ„è·¯ç”±åˆ‡æ¢éƒ½ä¼šè§¦å‘çš„é’©å­</span></span><br><span class="line"><span class="comment">//å…¨å±€å‰ç½®å®ˆå«</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="title function_">async</span> (<span class="attr">to</span>: <span class="built_in">any</span>, <span class="attr">from</span>: <span class="built_in">any</span>, <span class="attr">next</span>: <span class="built_in">any</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">`<span class="subst">$&#123;setting.title&#125;</span> - <span class="subst">$&#123;to.meta.title&#125;</span>`</span></span><br><span class="line">  <span class="comment">//to:ä½ å°†è¦è®¿é—®é‚£ä¸ªè·¯ç”±</span></span><br><span class="line">  <span class="comment">//from:ä½ ä»æ¥ä¸ªè·¯ç”±è€Œæ¥</span></span><br><span class="line">  <span class="comment">//next:è·¯ç”±çš„æ”¾è¡Œå‡½æ•°</span></span><br><span class="line">  nprogress.<span class="title function_">start</span>();</span><br><span class="line">  <span class="comment">//è·å–token,å»åˆ¤æ–­ç”¨æˆ·ç™»å½•ã€è¿˜æ˜¯æœªç™»å½•</span></span><br><span class="line">  <span class="keyword">let</span> token = userStore.<span class="property">token</span>;</span><br><span class="line">  <span class="comment">//è·å–ç”¨æˆ·åå­—</span></span><br><span class="line">  <span class="keyword">let</span> username = userStore.<span class="property">username</span>;</span><br><span class="line">  <span class="comment">//ç”¨æˆ·ç™»å½•åˆ¤æ–­</span></span><br><span class="line">  <span class="keyword">if</span> (token) &#123;</span><br><span class="line">    <span class="comment">//ç™»å½•æˆåŠŸ,è®¿é—®login,ä¸èƒ½è®¿é—®,æŒ‡å‘é¦–é¡µ</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span> &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//ç™»å½•æˆåŠŸè®¿é—®å…¶ä½™å…­ä¸ªè·¯ç”±(ç™»å½•æ’é™¤)</span></span><br><span class="line">      <span class="comment">//æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">      <span class="keyword">if</span> (username) &#123;</span><br><span class="line">        <span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœæ²¡æœ‰ç”¨æˆ·ä¿¡æ¯,åœ¨å®ˆå«è¿™é‡Œå‘è¯·æ±‚è·å–åˆ°äº†ç”¨æˆ·ä¿¡æ¯å†æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">//è·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">          <span class="keyword">await</span> userStore.<span class="title function_">userInfo</span>();</span><br><span class="line">          <span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">          <span class="comment">//ä¸‡ä¸€:åˆ·æ–°çš„æ—¶å€™æ˜¯å¼‚æ­¥è·¯ç”±,æœ‰å¯èƒ½è·å–åˆ°ç”¨æˆ·ä¿¡æ¯ã€å¼‚æ­¥è·¯ç”±è¿˜æ²¡æœ‰åŠ è½½å®Œæ¯•,å‡ºç°ç©ºç™½çš„æ•ˆæœ</span></span><br><span class="line">          <span class="title function_">next</span>(&#123; ...to &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="comment">//tokenè¿‡æœŸ:è·å–ä¸åˆ°ç”¨æˆ·ä¿¡æ¯äº†</span></span><br><span class="line">          <span class="comment">//ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹æœ¬åœ°å­˜å‚¨token</span></span><br><span class="line">          <span class="comment">//é€€å‡ºç™»å½•-&gt;ç”¨æˆ·ç›¸å…³çš„æ•°æ®æ¸…ç©º</span></span><br><span class="line">          <span class="keyword">await</span> userStore.<span class="title function_">userLogOut</span>();</span><br><span class="line">          <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">redirect</span>: to.<span class="property">path</span> &#125; &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//ç”¨æˆ·æœªç™»å½•åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">redirect</span>: to.<span class="property">path</span> &#125; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//å…¨å±€åç½®å®ˆå«</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params"><span class="attr">to</span>: <span class="built_in">any</span>, <span class="attr">from</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">  nprogress.<span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="2-è·¯ç”±æ‹†åˆ†"><a href="#2-è·¯ç”±æ‹†åˆ†" class="headerlink" title="2.è·¯ç”±æ‹†åˆ†"></a>2.è·¯ç”±æ‹†åˆ†</h2><div class="tip info"><p>å°†è·¯ç”±æ–‡ä»¶æ‹†åˆ†ä¸ºå¸¸é‡è·¯ç”±ã€å¼‚æ­¥è·¯ç”±</p></div><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡è·¯ç”±</span></span><br><span class="line">exprot <span class="keyword">const</span> constantRoute=[&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/login.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Login&#x27;</span>, <span class="comment">// å‘½åè·¯ç”±</span></span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;ç™»å½•&#x27;</span>,</span><br><span class="line">      <span class="attr">hidden</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼‚æ­¥è·¯ç”±</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> asyncRoute = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/layout/index.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">   &#125;,</span><br><span class="line">    <span class="attr">children</span>:[]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-é€šè¿‡vue-routeræ’ä»¶å®ç°è·¯ç”±é…ç½®"><a href="#3-é€šè¿‡vue-routeræ’ä»¶å®ç°è·¯ç”±é…ç½®" class="headerlink" title="3.é€šè¿‡vue-routeræ’ä»¶å®ç°è·¯ç”±é…ç½®"></a>3.é€šè¿‡vue-routeræ’ä»¶å®ç°è·¯ç”±é…ç½®</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** æ­¤æ–‡ä»¶ä¸ºè·¯ç”±æ€»æ–‡ä»¶ index */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; constantRoute &#125; <span class="keyword">from</span> <span class="string">&quot;./routes&quot;</span>; <span class="comment">// å®šä¹‰è·¯ç”±çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// æ¨¡å¼é»˜è®¤ä¸º hash</span></span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  <span class="attr">routes</span>: constantRoute,</span><br><span class="line">  <span class="comment">// æ»šåŠ¨è¡Œä¸º</span></span><br><span class="line">  <span class="title function_">scrollBehavior</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">left</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">top</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><h2 id="4-åœ¨ç”¨æˆ·ä»“åº“ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†"><a href="#4-åœ¨ç”¨æˆ·ä»“åº“ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†" class="headerlink" title="4.åœ¨ç”¨æˆ·ä»“åº“ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†"></a>4.åœ¨ç”¨æˆ·ä»“åº“ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†</h2><h3 id="4-1-åˆ›å»ºç”¨æˆ·è¿‡æ»¤å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±"><a href="#4-1-åˆ›å»ºç”¨æˆ·è¿‡æ»¤å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±" class="headerlink" title="4.1 åˆ›å»ºç”¨æˆ·è¿‡æ»¤å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±"></a>4.1 åˆ›å»ºç”¨æˆ·è¿‡æ»¤å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filterAsyncRoute</span>(<span class="params"><span class="attr">asyncRoute</span>: <span class="built_in">any</span>, <span class="attr">routes</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> asyncRoute.<span class="title function_">filter</span>(<span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (routes.<span class="title function_">includes</span>(item.<span class="property">name</span>)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        item.<span class="property">children</span> = <span class="title function_">filterAsyncRoute</span>(item.<span class="property">children</span>, routes)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-2-è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£-è°ƒç”¨è¿‡æ»¤æ–¹æ³•å±•ç¤ºå½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±"><a href="#4-2-è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£-è°ƒç”¨è¿‡æ»¤æ–¹æ³•å±•ç¤ºå½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±" class="headerlink" title="4.2 è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ è°ƒç”¨è¿‡æ»¤æ–¹æ³•å±•ç¤ºå½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±"></a>4.2 è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ è°ƒç”¨è¿‡æ»¤æ–¹æ³•å±•ç¤ºå½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®‰è£…lodash ä½¿ç”¨cloneDeepå®ç°æ·±æ‹·è´ ä¸èƒ½ä½¿ç”¨JSONä¼šæœ‰é—®é¢˜</span></span><br><span class="line"><span class="keyword">import</span> cloneDeep <span class="keyword">from</span> <span class="string">&#x27;lodash/cloneDeep&#x27;</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">userInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">result</span>: userInfoResponseData = <span class="keyword">await</span> <span class="title function_">userInfo</span>();</span><br><span class="line">  <span class="keyword">if</span> (result.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="comment">//è®¡ç®—å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„å¼‚æ­¥è·¯ç”±</span></span><br><span class="line">    <span class="keyword">let</span> userAsyncRoute = <span class="title function_">filterAsyncRoute</span>(<span class="title function_">cloneDeep</span>(asyncRoute), result.<span class="property">data</span>.<span class="property">routes</span>);</span><br><span class="line">    <span class="comment">//èœå•éœ€è¦çš„æ•°æ®æ•´ç†å®Œæ¯•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">menuRoutes</span> = [...constantRoute, ...userAsyncRoute, ...anyRoute];</span><br><span class="line">    <span class="comment">//ç›®å‰è·¯ç”±å™¨ç®¡ç†çš„åªæœ‰å¸¸é‡è·¯ç”±:ç”¨æˆ·è®¡ç®—å®Œæ¯•å¼‚æ­¥è·¯ç”±ã€ä»»æ„è·¯ç”±åŠ¨æ€è¿½åŠ </span></span><br><span class="line">    [...userAsyncRoute, ...anyRoute].<span class="title function_">forEach</span>(<span class="function">(<span class="params"><span class="attr">route</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">      router.<span class="title function_">addRoute</span>(route);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Ok&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(result.<span class="property">message</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-3-åœ¨é€€å‡ºç™»å½•æ—¶-éœ€è¦è®©è·¯ç”±ä¿æŒå¸¸é‡è·¯ç”±"><a href="#4-3-åœ¨é€€å‡ºç™»å½•æ—¶-éœ€è¦è®©è·¯ç”±ä¿æŒå¸¸é‡è·¯ç”±" class="headerlink" title="4.3 åœ¨é€€å‡ºç™»å½•æ—¶ éœ€è¦è®©è·¯ç”±ä¿æŒå¸¸é‡è·¯ç”±"></a>4.3 åœ¨é€€å‡ºç™»å½•æ—¶ éœ€è¦è®©è·¯ç”±ä¿æŒå¸¸é‡è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">menuRoutes = constantRoute ;</span><br></pre></td></tr></table></figure><h2 id="5-å…³äºå…¨å±€æŒ‰é’®çš„é‰´æƒ"><a href="#5-å…³äºå…¨å±€æŒ‰é’®çš„é‰´æƒ" class="headerlink" title="5.å…³äºå…¨å±€æŒ‰é’®çš„é‰´æƒ"></a>5.å…³äºå…¨å±€æŒ‰é’®çš„é‰´æƒ</h2><div class="tip bell"><p>åœ¨è·å–ç”¨æˆ·ä¿¡æ¯ä¸€å¹¶æ‹¿åˆ°æŒ‰é’®çš„æƒé™ï¼Œç„¶åé€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤å¤„ç†</p></div><h3 id="5-1-ç”¨æˆ·ä»“åº“åˆå§‹åŒ–å¹¶è·å–ç”¨æˆ·ä¿¡æ¯"><a href="#5-1-ç”¨æˆ·ä»“åº“åˆå§‹åŒ–å¹¶è·å–ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="5.1 ç”¨æˆ·ä»“åº“åˆå§‹åŒ–å¹¶è·å–ç”¨æˆ·ä¿¡æ¯"></a>5.1 ç”¨æˆ·ä»“åº“åˆå§‹åŒ–å¹¶è·å–ç”¨æˆ·ä¿¡æ¯</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·ä»“åº“åˆå§‹åŒ–</span></span><br><span class="line"><span class="attr">state</span>: (): <span class="function"><span class="params">userState</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">buttons</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// è·å–ç”¨æˆ·ä¿¡æˆåŠŸåå¾—åˆ°æŒ‰é’®æƒé™ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">userInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">buttons</span> = result.<span class="property">data</span>.<span class="property">buttons</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="5-2-srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹-å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹"><a href="#5-2-srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹-å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹" class="headerlink" title="5.2 srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹ å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹"></a>5.2 srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹ å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹ å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&quot;@/store&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> useUserStroe <span class="keyword">from</span> <span class="string">&quot;@/store/modules/user&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> userState = <span class="title function_">useUserStroe</span>(pinia);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">isHasButton</span> = (<span class="params"><span class="attr">app</span>: <span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">/** è·å–å¯¹åº”çš„ä»“åº“ */</span></span><br><span class="line">  <span class="comment">/** å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ å®ç°æŒ‰é’®æƒé™ */</span></span><br><span class="line">  app.<span class="title function_">directive</span>(<span class="string">&#x27;has&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">/** å…¨å±€æŒ‡ä»¤æŒ‚è½½å®Œæ¯•åæ‰§è¡Œä¸€æ¬¡ */</span></span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"><span class="attr">el</span>: <span class="built_in">any</span>, <span class="attr">options</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">      <span class="comment">//è‡ªå®šä¹‰æŒ‡ä»¤å³ä¾§çš„æ•°å€¼:å¦‚æœåœ¨ç”¨æˆ·ä¿¡æ¯buttonsæ•°ç»„å½“ä¸­æ²¡æœ‰</span></span><br><span class="line">      <span class="comment">//ä»DOMæ ‘ä¸Šå¹²æ‰</span></span><br><span class="line">      <span class="keyword">if</span> (!userState.<span class="property">buttons</span>.<span class="title function_">includes</span>(options.<span class="property">value</span>)) &#123;</span><br><span class="line">        el.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-3-åœ¨main-tsä¸­å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#5-3-åœ¨main-tsä¸­å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="5.3 åœ¨main.tsä¸­å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤"></a>5.3 åœ¨main.tsä¸­å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤</span></span><br><span class="line"><span class="keyword">import</span> &#123; isHasButton &#125; <span class="keyword">from</span> <span class="string">&quot;./directive/has&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"><span class="title function_">isHasButton</span>(app);</span><br></pre></td></tr></table></figure><h3 id="5-4-åœ¨é¡µé¢buttonæŒ‰é’®å¤„æ·»åŠ ä»¥ä¸‹ä»£ç "><a href="#5-4-åœ¨é¡µé¢buttonæŒ‰é’®å¤„æ·»åŠ ä»¥ä¸‹ä»£ç " class="headerlink" title="5.4 åœ¨é¡µé¢buttonæŒ‰é’®å¤„æ·»åŠ ä»¥ä¸‹ä»£ç "></a>5.4 åœ¨é¡µé¢buttonæŒ‰é’®å¤„æ·»åŠ ä»¥ä¸‹ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button v-has=&quot;`btn.Trademark.add`&quot;&gt;æ·»åŠ &lt;/el-button&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ’vue3æœ‰å…³é‰´æƒç›¸å…³é—®é¢˜</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>tsåŸºç¡€æ‰‹è®° (äºŒ)</title>
    <link href="https://www.axcode.cn/posts/370b9c5f.html"/>
    <id>https://www.axcode.cn/posts/370b9c5f.html</id>
    <published>2024-06-18T14:48:42.000Z</published>
    <updated>2024-06-18T15:22:14.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬äºŒç« ï¼šé¢å‘å¯¹è±¡"><a href="#ç¬¬äºŒç« ï¼šé¢å‘å¯¹è±¡" class="headerlink" title="ç¬¬äºŒç« ï¼šé¢å‘å¯¹è±¡"></a>ç¬¬äºŒç« ï¼šé¢å‘å¯¹è±¡</h1><h2 id="1-å…³äºé¢å‘å¯¹è±¡"><a href="#1-å…³äºé¢å‘å¯¹è±¡" class="headerlink" title="1. å…³äºé¢å‘å¯¹è±¡"></a>1. å…³äºé¢å‘å¯¹è±¡</h2><div class="note blue no-icon flat"><p>é¢å‘å¯¹è±¡æ˜¯ç¨‹åºä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æ€æƒ³ï¼Œå®ƒè¢«å¾ˆå¤šåŒå­¦ç†è§£æˆäº†ä¸€ä¸ªæ¯”è¾ƒéš¾ï¼Œæ¯”è¾ƒæ·±å¥¥çš„é—®é¢˜ï¼Œå…¶å®ä¸ç„¶ã€‚é¢å‘å¯¹è±¡å¾ˆç®€å•ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ç¨‹åºä¹‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½éœ€è¦é€šè¿‡å¯¹è±¡æ¥å®Œæˆã€‚</p><ul><li>ä¸¾ä¾‹æ¥è¯´ï¼š<ul><li>æ“ä½œæµè§ˆå™¨è¦ä½¿ç”¨windowå¯¹è±¡</li><li>æ“ä½œç½‘é¡µè¦ä½¿ç”¨documentå¯¹è±¡</li><li>æ“ä½œæ§åˆ¶å°è¦ä½¿ç”¨consoleå¯¹è±¡</li></ul></li></ul><p>ä¸€åˆ‡æ“ä½œéƒ½è¦é€šè¿‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„é¢å‘å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±è¦å…ˆè¯´åˆ°ç¨‹åºæ˜¯ä»€ä¹ˆï¼Œè®¡ç®—æœºç¨‹åºçš„æœ¬è´¨å°±æ˜¯å¯¹ç°å®äº‹ç‰©çš„æŠ½è±¡ï¼ŒæŠ½è±¡çš„åä¹‰è¯æ˜¯å…·ä½“ï¼Œæ¯”å¦‚ï¼šç…§ç‰‡æ˜¯å¯¹ä¸€ä¸ªå…·ä½“çš„äººçš„æŠ½è±¡ï¼Œæ±½è½¦æ¨¡å‹æ˜¯å¯¹å…·ä½“æ±½è½¦çš„æŠ½è±¡ç­‰ç­‰ã€‚ç¨‹åºä¹Ÿæ˜¯å¯¹äº‹ç‰©çš„æŠ½è±¡ï¼Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬å¯ä»¥è¡¨ç¤ºä¸€ä¸ªäººã€ä¸€æ¡ç‹—ã€ä¸€æŠŠæªã€ä¸€é¢—å­å¼¹ç­‰ç­‰æ‰€æœ‰çš„äº‹ç‰©ã€‚ä¸€ä¸ªäº‹ç‰©åˆ°äº†ç¨‹åºä¸­å°±å˜æˆäº†ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>åœ¨ç¨‹åºä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†æ•°æ®å’ŒåŠŸèƒ½ï¼Œä»¥äººä¸ºä¾‹ï¼Œäººçš„å§“åã€æ€§åˆ«ã€å¹´é¾„ã€èº«é«˜ã€ä½“é‡ç­‰å±äºæ•°æ®ï¼Œäººå¯ä»¥è¯´è¯ã€èµ°è·¯ã€åƒé¥­ã€ç¡è§‰è¿™äº›å±äºäººçš„åŠŸèƒ½ã€‚æ•°æ®åœ¨å¯¹è±¡ä¸­è¢«æˆä¸ºå±æ€§ï¼Œè€ŒåŠŸèƒ½å°±è¢«ç§°ä¸ºæ–¹æ³•ã€‚æ‰€ä»¥ç®€è€Œè¨€ä¹‹ï¼Œåœ¨ç¨‹åºä¸­ä¸€åˆ‡çš†æ˜¯å¯¹è±¡ã€‚</p></div><h2 id="2-ç±»ï¼ˆclassï¼‰"><a href="#2-ç±»ï¼ˆclassï¼‰" class="headerlink" title="2. ç±»ï¼ˆclassï¼‰"></a>2. ç±»ï¼ˆclassï¼‰</h2><p>è¦æƒ³é¢å‘å¯¹è±¡ï¼Œæ“ä½œå¯¹è±¡ï¼Œé¦–å…ˆä¾¿è¦æ‹¥æœ‰å¯¹è±¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•åˆ›å»ºå¯¹è±¡ã€‚è¦åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»è¦å…ˆå®šä¹‰ç±»ï¼Œæ‰€è°“çš„ç±»å¯ä»¥ç†è§£ä¸ºå¯¹è±¡çš„æ¨¡å‹ï¼Œç¨‹åºä¸­å¯ä»¥æ ¹æ®ç±»åˆ›å»ºæŒ‡å®šç±»å‹çš„å¯¹è±¡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼šå¯ä»¥é€šè¿‡Personç±»æ¥åˆ›å»ºäººçš„å¯¹è±¡ï¼Œé€šè¿‡Dogç±»åˆ›å»ºç‹—çš„å¯¹è±¡ï¼Œé€šè¿‡Carç±»æ¥åˆ›å»ºæ±½è½¦çš„å¯¹è±¡ï¼Œä¸åŒçš„ç±»å¯ä»¥ç”¨æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚</p><ul><li><p>å®šä¹‰ç±»ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> ç±»å &#123;</span><br><span class="line">å±æ€§å: ç±»å‹;</span><br><span class="line"></span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">å‚æ•°: ç±»å‹</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.å±æ€§å = å‚æ•°;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">æ–¹æ³•å()&#123;</span><br><span class="line">....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>ä½¿ç”¨ç±»ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="title function_">sayHello</span>();</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹"><a href="#3-é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹" class="headerlink" title="3. é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹"></a>3. é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹</h2><ul><li><p>å°è£…</p><ul><li><p>å¯¹è±¡å®è´¨ä¸Šå°±æ˜¯å±æ€§å’Œæ–¹æ³•çš„å®¹å™¨ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯å­˜å‚¨å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å°è£…</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„å±æ€§æ˜¯å¯ä»¥ä»»æ„çš„ä¿®æ”¹çš„ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨TSä¸­å¯ä»¥å¯¹å±æ€§çš„æƒé™è¿›è¡Œè®¾ç½®</p></li><li><p>åªè¯»å±æ€§ï¼ˆreadonlyï¼‰ï¼š</p><ul><li>å¦‚æœåœ¨å£°æ˜å±æ€§æ—¶æ·»åŠ ä¸€ä¸ªreadonlyï¼Œåˆ™å±æ€§ä¾¿æˆäº†åªè¯»å±æ€§æ— æ³•ä¿®æ”¹</li></ul></li><li><p>TSä¸­å±æ€§å…·æœ‰ä¸‰ç§ä¿®é¥°ç¬¦ï¼š</p><ul><li>publicï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»å’Œå¯¹è±¡ä¸­ä¿®æ”¹</li><li>protected ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»ä¸­ä¿®æ”¹</li><li>private ï¼Œå¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><ul><li><p>public</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>; <span class="comment">// å†™æˆ–ä»€ä¹ˆéƒ½ä¸å†™éƒ½æ˜¯public</span></span><br><span class="line">    <span class="keyword">public</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// å¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">//å­ç±»ä¸­å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="comment">// å¯ä»¥é€šè¿‡å¯¹è±¡ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li><li><p>protected</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">//å­ç±»ä¸­å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="comment">// ä¸èƒ½ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li><li><p>private</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">//å­ç±»ä¸­ä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="comment">// ä¸èƒ½ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>å±æ€§å­˜å–å™¨</p><ul><li><p>å¯¹äºä¸€äº›ä¸å¸Œæœ›è¢«ä»»æ„ä¿®æ”¹çš„å±æ€§ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºprivate</p></li><li><p>ç›´æ¥å°†å…¶è®¾ç½®ä¸ºprivateå°†å¯¼è‡´æ— æ³•å†é€šè¿‡å¯¹è±¡ä¿®æ”¹å…¶ä¸­çš„å±æ€§</p></li><li><p>æˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰ä¸€ç»„è¯»å–ã€è®¾ç½®å±æ€§çš„æ–¹æ³•ï¼Œè¿™ç§å¯¹å±æ€§è¯»å–æˆ–è®¾ç½®çš„å±æ€§è¢«ç§°ä¸ºå±æ€§çš„å­˜å–å™¨</p></li><li><p>è¯»å–å±æ€§çš„æ–¹æ³•å«åšsetteræ–¹æ³•ï¼Œè®¾ç½®å±æ€§çš„æ–¹æ³•å«åšgetteræ–¹æ³•</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">_name</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">name</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">name</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">name</span>); <span class="comment">// é€šè¿‡getterè¯»å–nameå±æ€§</span></span><br><span class="line">p1.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>; <span class="comment">// é€šè¿‡setterä¿®æ”¹nameå±æ€§</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>é™æ€å±æ€§</p><ul><li><p>é™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œä¹Ÿç§°ä¸ºç±»å±æ€§ã€‚ä½¿ç”¨é™æ€å±æ€§æ— éœ€åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡ç±»å³å¯ç›´æ¥ä½¿ç”¨</p></li><li><p>é™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä½¿ç”¨staticå¼€å¤´</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Tools</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="variable constant_">PI</span> = <span class="number">3.1415926</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">sum</span>(<span class="params"><span class="attr">num1</span>: <span class="built_in">number</span>, <span class="attr">num2</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> num1 + num2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Tools</span>.<span class="property">PI</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Tools</span>.<span class="title function_">sum</span>(<span class="number">123</span>, <span class="number">456</span>));</span><br></pre></td></tr></table></figure></li></ul></li><li><p>this</p><ul><li>åœ¨ç±»ä¸­ï¼Œä½¿ç”¨thisè¡¨ç¤ºå½“å‰å¯¹è±¡</li></ul></li></ul></li><li><p>ç»§æ‰¿</p><ul><li><p>ç»§æ‰¿æ—¶é¢å‘å¯¹è±¡ä¸­çš„åˆä¸€ä¸ªç‰¹æ€§</p></li><li><p>é€šè¿‡ç»§æ‰¿å¯ä»¥å°†å…¶ä»–ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•å¼•å…¥åˆ°å½“å‰ç±»ä¸­</p><ul><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>åœ¨æ±ªæ±ªå«ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;æ—ºè´¢&#x27;</span>, <span class="number">4</span>);</span><br><span class="line">dog.<span class="title function_">bark</span>();</span><br></pre></td></tr></table></figure></li></ul></li><li><p>é€šè¿‡ç»§æ‰¿å¯ä»¥åœ¨ä¸ä¿®æ”¹ç±»çš„æƒ…å†µä¸‹å®Œæˆå¯¹ç±»çš„æ‰©å±•</p></li><li><p>é‡å†™</p><ul><li><p>å‘ç”Ÿç»§æ‰¿æ—¶ï¼Œå¦‚æœå­ç±»ä¸­çš„æ–¹æ³•ä¼šæ›¿æ¢æ‰çˆ¶ç±»ä¸­çš„åŒåæ–¹æ³•ï¼Œè¿™å°±ç§°ä¸ºæ–¹æ³•çš„é‡å†™</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>åœ¨æ±ªæ±ªå«ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å­ç±»ä¸­çš„runæ–¹æ³•ï¼Œä¼šé‡å†™çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;æ—ºè´¢&#x27;</span>, <span class="number">4</span>);</span><br><span class="line">dog.<span class="title function_">bark</span>();</span><br></pre></td></tr></table></figure><ul><li>åœ¨å­ç±»ä¸­å¯ä»¥ä½¿ç”¨superæ¥å®Œæˆå¯¹çˆ¶ç±»çš„å¼•ç”¨</li></ul></li></ul></li><li><p>æŠ½è±¡ç±»ï¼ˆabstract classï¼‰</p><ul><li><p>æŠ½è±¡ç±»æ˜¯ä¸“é—¨ç”¨æ¥è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿çš„ç±»ï¼Œå®ƒåªèƒ½è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">run</span>(): <span class="built_in">void</span>;</span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åŠ¨ç‰©åœ¨å«~&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animals</span>&#123;</span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç‹—åœ¨è·‘~&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨abstractå¼€å¤´çš„æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“åªèƒ½å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­ï¼Œç»§æ‰¿æŠ½è±¡ç±»æ—¶æŠ½è±¡æ–¹æ³•å¿…é¡»è¦å®ç°ã€‚</p></li></ul></li></ul></li></ul><h2 id="4-æ¥å£ï¼ˆInterfaceï¼‰"><a href="#4-æ¥å£ï¼ˆInterfaceï¼‰" class="headerlink" title="4. æ¥å£ï¼ˆInterfaceï¼‰"></a>4. æ¥å£ï¼ˆInterfaceï¼‰</h2><p>æ¥å£çš„ä½œç”¨ç±»ä¼¼äºæŠ½è±¡ç±»ï¼Œä¸åŒç‚¹åœ¨äºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§éƒ½æ˜¯æ²¡æœ‰å®å€¼çš„ï¼Œæ¢å¥è¯è¯´æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ã€‚æ¥å£ä¸»è¦è´Ÿè´£å®šä¹‰ä¸€ä¸ªç±»çš„ç»“æ„ï¼Œæ¥å£å¯ä»¥å»é™åˆ¶ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¯¹è±¡åªæœ‰åŒ…å«æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•æ—¶æ‰èƒ½åŒ¹é…æ¥å£ã€‚åŒæ—¶ï¼Œå¯ä»¥è®©ä¸€ä¸ªç±»å»å®ç°æ¥å£ï¼Œå®ç°æ¥å£æ—¶ç±»ä¸­è¦ä¿æŠ¤æ¥å£ä¸­çš„æ‰€æœ‰å±æ€§ã€‚</p><ul><li><p>ç¤ºä¾‹ï¼ˆæ£€æŸ¥å¯¹è±¡ç±»å‹ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">sayHello</span>():<span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"><span class="attr">per</span>: <span class="title class_">Person</span></span>)&#123;</span><br><span class="line">    per.<span class="title function_">sayHello</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, æˆ‘æ˜¯ <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>)&#125;&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹ï¼ˆå®ç°ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">sayHello</span>():<span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯&#x27;</span>+<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-æ³›å‹ï¼ˆGenericï¼‰"><a href="#5-æ³›å‹ï¼ˆGenericï¼‰" class="headerlink" title="5. æ³›å‹ï¼ˆGenericï¼‰"></a>5. æ³›å‹ï¼ˆGenericï¼‰</h2><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–ç±»æ—¶ï¼Œæœ‰äº›æƒ…å†µä¸‹æ— æ³•ç¡®å®šå…¶ä¸­è¦ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼ˆè¿”å›å€¼ã€å‚æ•°ã€å±æ€§çš„ç±»å‹ä¸èƒ½ç¡®å®šï¼‰ï¼Œæ­¤æ—¶æ³›å‹ä¾¿èƒ½å¤Ÿå‘æŒ¥ä½œç”¨ã€‚</p><ul><li><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"><span class="attr">arg</span>: <span class="built_in">any</span></span>): <span class="built_in">any</span>&#123;</span><br><span class="line"><span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä¸Šä¾‹ä¸­ï¼Œtestå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ç±»å‹ä¸ç¡®å®šï¼Œä½†æ˜¯èƒ½ç¡®å®šçš„æ—¶å…¶è¿”å›å€¼çš„ç±»å‹å’Œå‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ï¼Œç”±äºç±»å‹ä¸ç¡®å®šæ‰€ä»¥å‚æ•°å’Œè¿”å›å€¼å‡ä½¿ç”¨äº†anyï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾è¿™æ ·åšæ˜¯ä¸åˆé€‚çš„ï¼Œé¦–å…ˆä½¿ç”¨anyä¼šå…³é—­TSçš„ç±»å‹æ£€æŸ¥ï¼Œå…¶æ¬¡è¿™æ ·è®¾ç½®ä¹Ÿä¸èƒ½ä½“ç°å‡ºå‚æ•°å’Œè¿”å›å€¼æ˜¯ç›¸åŒçš„ç±»å‹</p></li><li><p>ä½¿ç”¨æ³›å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> test&lt;T&gt;(<span class="attr">arg</span>: T): T&#123;</span><br><span class="line"><span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¿™é‡Œçš„<code>&lt;T&gt;</code>å°±æ˜¯æ³›å‹ï¼ŒTæ˜¯æˆ‘ä»¬ç»™è¿™ä¸ªç±»å‹èµ·çš„åå­—ï¼ˆä¸ä¸€å®šéå«Tï¼‰ï¼Œè®¾ç½®æ³›å‹åå³å¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨Tæ¥è¡¨ç¤ºè¯¥ç±»å‹ã€‚æ‰€ä»¥æ³›å‹å…¶å®å¾ˆå¥½ç†è§£ï¼Œå°±è¡¨ç¤ºæŸä¸ªç±»å‹ã€‚</p></li><li><p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ä¸Šè¾¹çš„å‡½æ•°å‘¢ï¼Ÿ</p><ul><li><p>æ–¹å¼ä¸€ï¼ˆç›´æ¥ä½¿ç”¨ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥ä¼ é€’å‚æ•°ä½¿ç”¨ï¼Œç±»å‹ä¼šç”±TSè‡ªåŠ¨æ¨æ–­å‡ºæ¥ï¼Œä½†æœ‰æ—¶ç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­æ—¶è¿˜éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</li></ul></li><li><p>æ–¹å¼äºŒï¼ˆæŒ‡å®šç±»å‹ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test&lt;<span class="built_in">number</span>&gt;(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><ul><li>ä¹Ÿå¯ä»¥åœ¨å‡½æ•°åæ‰‹åŠ¨æŒ‡å®šæ³›å‹</li></ul></li></ul></li><li><p>å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ³›å‹ï¼Œæ³›å‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> test&lt;T, K&gt;(<span class="attr">a</span>: T, <span class="attr">b</span>: K): K&#123;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test&lt;<span class="built_in">number</span>, <span class="built_in">string</span>&gt;(<span class="number">10</span>, <span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨æ³›å‹æ—¶ï¼Œå®Œå…¨å¯ä»¥å°†æ³›å‹å½“æˆæ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»å»ä½¿ç”¨</li></ul></li><li><p>ç±»ä¸­åŒæ ·å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="attr">prop</span>: T;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">prop</span>: T</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">prop</span> = prop;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å¯¹æ³›å‹çš„èŒƒå›´è¿›è¡Œçº¦æŸ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInter</span>&#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> test&lt;T <span class="keyword">extends</span> <span class="title class_">MyInter</span>&gt;(<span class="attr">arg</span>: T): <span class="built_in">number</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨T extends MyInterè¡¨ç¤ºæ³›å‹Tå¿…é¡»æ˜¯MyInterçš„å­ç±»ï¼Œä¸ä¸€å®šéè¦ä½¿ç”¨æ¥å£ç±»å’ŒæŠ½è±¡ç±»åŒæ ·é€‚ç”¨ã€‚</li></ul></li></ul></li></ul>]]></content>
    
    
    <summary type="html">ğŸ¹tsåŸºç¡€æ‰‹è®° (äºŒ)</summary>
    
    
    
    <category term="Ts" scheme="https://www.axcode.cn/categories/Ts/"/>
    
    
    <category term="Ts" scheme="https://www.axcode.cn/tags/Ts/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºæ·±æµ…æ‹·è´çš„é‚£äº›äº‹</title>
    <link href="https://www.axcode.cn/posts/59d18d96.html"/>
    <id>https://www.axcode.cn/posts/59d18d96.html</id>
    <published>2024-06-15T09:29:32.000Z</published>
    <updated>2024-08-08T10:42:38.271Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><div class="tip "><p>æ­¤æ–‡éƒ¨åˆ†æ¥è‡ªäºå…¬ä¼—å·ä½œè€… <code>å¤§è¿ä¸–ç•Œ</code> æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><div class="note blue no-icon flat"><p>æ‰€è°“æ·±æµ…æ‹·è´ï¼Œå…¶å®éƒ½æ˜¯è¿›è¡Œå¤åˆ¶ï¼Œä¸»è¦åŒºåˆ«åœ¨äºå¤åˆ¶å‡ºæ¥çš„æ–°å¯¹è±¡å’ŒåŸæ¥çš„å¯¹è±¡æ—¶å€™ä¼šç›¸äº’å½±å“ã€‚<br>æ·±æµ…æ‹·è´çš„åŒºåˆ†ï¼šB å¤åˆ¶ Aï¼Œå¦‚ä½•A å‘ç”Ÿå˜åŒ– Bè·Ÿç€å˜åŒ– æµ…æ‹·è´<br>åä¹‹ï¼Œ å¦‚æœ B ä¸å‘ç”Ÿå˜åŒ– åˆ™ä¸ºæ·±æ‹·è´ã€‚<br>æµ…æ‹·è´ A B æŒ‡å‘åŒä¸€ä¸ªåœ°å€ æ‰€ä»¥ Aå—å½±å“ Bä¹Ÿä¼šå—å½±å“</p></div><h2 id="1-æ·±æµ…æ‹·è´å®ä¾‹"><a href="#1-æ·±æµ…æ‹·è´å®ä¾‹" class="headerlink" title="1. æ·±æµ…æ‹·è´å®ä¾‹"></a>1. æ·±æµ…æ‹·è´å®ä¾‹</h2><h3 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> a_clone = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === a_clone);</span><br><span class="line">a_clone[<span class="number">0</span>] = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a_clone);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e871b04.webp" alt=""></p><h3 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]];</span><br><span class="line"><span class="keyword">var</span> obj_extend =$.<span class="title function_">extend</span>(<span class="literal">true</span>,&#123;&#125;,obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend === obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e8725ef.webp" alt=""></p><div class="tip "><p>è¦æ·±å…¥äº†è§£æ·±æµ…æ‹·è´å¿…é€‰å…ˆè¦äº†è§£å…¶åŸç†ï¼Œè¿™å°±ä¸å¾—ä¸è¯´åˆ°ECMAScriptä¸­çš„æ•°æ®ç±»å‹ã€‚</p></div><h2 id="2-åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹"><a href="#2-åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹" class="headerlink" title="2. åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹"></a>2. åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h2><h3 id="2-1-åˆ†ç±»"><a href="#2-1-åˆ†ç±»" class="headerlink" title="2.1 åˆ†ç±»"></a>2.1 åˆ†ç±»</h3><p>åŸºæœ¬ç±»å‹ï¼šundefined,null,å¸ƒå°”å€¼ï¼ˆBooleanï¼‰,å­—ç¬¦ä¸²(String),æ•°å€¼(Number)<br>å¼•ç”¨ç±»å‹ï¼šç»Ÿç§°ä¸ºObjectç±»å‹ï¼Œç»†åˆ†ä¸ºï¼šFunctionã€Dateã€Arrayã€Objectç±»å‹ç­‰ã€‚</p><h3 id="2-2-ä¸åŒçš„æ•°æ®å­˜å‚¨å½¢å¼"><a href="#2-2-ä¸åŒçš„æ•°æ®å­˜å‚¨å½¢å¼" class="headerlink" title="2.2 ä¸åŒçš„æ•°æ®å­˜å‚¨å½¢å¼"></a>2.2 ä¸åŒçš„æ•°æ®å­˜å‚¨å½¢å¼</h3><p>ç®€å•æ¥è¯´, <code>åŸºæœ¬æ•°æ®ç±»å‹</code>ä¿å­˜åœ¨<code>æ ˆå†…å­˜</code> <code>å¼•ç”¨ç±»å‹</code>ä¿å­˜åœ¨<code>å †å†…å­˜</code></p><h4 id="2-2-1-æ ˆå†…å­˜"><a href="#2-2-1-æ ˆå†…å­˜" class="headerlink" title="2.2.1 æ ˆå†…å­˜"></a>2.2.1 æ ˆå†…å­˜</h4><p>æ ˆå†…å­˜ä¸­åˆ†åˆ«å­˜å‚¨ç€å˜é‡çš„æ ‡è¯†ç¬¦ä»¥åŠå˜é‡çš„å€¼</p><p><img src="https://bu.dusays.com/2024/06/15/666d60e871c6d.webp" alt=""></p><p>å³ï¼š<code>var a = &quot;A&quot;</code></p><p>åœ¨æ ˆå†…å­˜ä¸­æ˜¯è¿™æ ·çš„</p><p><img src="https://bu.dusays.com/2024/06/15/666d60e8704f6.webp" alt=""></p><h4 id="2-1-2-å †å†…å­˜"><a href="#2-1-2-å †å†…å­˜" class="headerlink" title="2.1.2 å †å†…å­˜"></a>2.1.2 å †å†…å­˜</h4><p>æ ˆå†…å­˜å­˜å‚¨çš„æ˜¯å˜é‡çš„æ ‡è¯†ç¬¦ä»¥åŠå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å­˜å‚¨åœ°å€ï¼Œä½†éœ€è¦è®¿é—®å¼•ç”¨ç±»å‹ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰çš„å€¼æ—¶ï¼Œé¦–å…ˆéœ€è¦ä»æ ˆä¸­è·å¾—è¯¥å¯¹è±¡çš„åœ°å€æŒ‡é’ˆï¼Œç„¶åå†ä»å¯¹åº”çš„å †å†…å­˜ä¸­å–å¾—æ‰€éœ€çš„æ•°æ®ã€‚</p><p><img src="https://bu.dusays.com/2024/06/15/666d63b289425.webp" alt=""></p><p>å³ï¼š<code>var a = &#123;name:â€œjackâ€&#125;;</code><br>åœ¨å†…å­˜ä¸­æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://bu.dusays.com/2024/06/15/666d60e86ea7b.webp" alt=""></p><h2 id="3-ä¸åŒç±»å‹çš„å¤åˆ¶å½¢å¼"><a href="#3-ä¸åŒç±»å‹çš„å¤åˆ¶å½¢å¼" class="headerlink" title="3. ä¸åŒç±»å‹çš„å¤åˆ¶å½¢å¼"></a>3. ä¸åŒç±»å‹çš„å¤åˆ¶å½¢å¼</h2><h3 id="3-1-åŸºæœ¬ç±»å‹çš„å¤åˆ¶"><a href="#3-1-åŸºæœ¬ç±»å‹çš„å¤åˆ¶" class="headerlink" title="3.1 åŸºæœ¬ç±»å‹çš„å¤åˆ¶"></a>3.1 åŸºæœ¬ç±»å‹çš„å¤åˆ¶</h3><p>å½“ä½ åœ¨å¤åˆ¶æ—¶ï¼Œç›¸å½“äºæŠŠå€¼ä¹Ÿä¸€å¹¶å¤åˆ¶ç»™äº†æ–°çš„å˜é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e86dc69.webp" alt=""></p><p>æ”¹å˜açš„å€¼ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°bã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =<span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e861cae.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = a;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e86d0e8.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4bb526.webp" alt=""></p><h3 id="3-2-å¼•ç”¨ç±»å‹çš„å¤åˆ¶"><a href="#3-2-å¼•ç”¨ç±»å‹çš„å¤åˆ¶" class="headerlink" title="3.2 å¼•ç”¨ç±»å‹çš„å¤åˆ¶"></a>3.2 å¼•ç”¨ç±»å‹çš„å¤åˆ¶</h3><p>å½“å¤åˆ¶å¼•ç”¨ç±»å‹æ—¶ï¼Œå®é™…ä¸Šåªæ˜¯èµ‹å€¼èµ·æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œå³åŸæ¥çš„å˜é‡ä¸å¤åˆ¶çš„æ–°å˜é‡æŒ‡å‘äº†åŒä¸€ä¸ªä¸œè¥¿</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =&#123;<span class="attr">name</span>:<span class="string">&quot;jack&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b);</span><br><span class="line">a.<span class="property">age</span> =<span class="number">30</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d65fa94b27.webp" alt=""></p><p>å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼šæ”¹å˜açš„å€¼ï¼Œä¹Ÿä¼šå½±å“bçš„å€¼<br>å†…å­˜ä¸­æ˜¯è¿™æ ·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">name</span>:<span class="string">&quot;jack&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e86ea7b.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = a;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b5528.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="property">age</span> = <span class="number">30</span>;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b83b3.webp" alt=""></p><div class="note blue no-icon flat"><p>çœ‹å®Œä¸Šé¢ä¹‹åï¼Œæ˜¯ä¸æ˜¯å°±æ˜ç™½äº†ã€‚æ‰€è°“æ·±æµ…æ‹·è´ï¼š<br>å¯¹äºä»…ä»…æ˜¯å¤åˆ¶äº†å¼•ç”¨ï¼ˆåœ°å€ï¼‰,æ¢è¨€ä¹‹ï¼ŒåŸæ¥çš„å˜é‡å’Œæ–°çš„å˜é‡æŒ‡å‘äº†åŒä¸€ä¸ªä¸œè¥¿ï¼Œå½¼æ­¤ä¹‹é—´çš„æ“ä½œä¼šäº’ç›¸å½±å“ï¼Œä¸º<code>æµ…æ‹·è´</code>ã€‚<br>åè¨€ä¹‹ã€‚å¦‚æœæ˜¯åœ¨å †ä¸­é‡æ–°åˆ†é…å†…å­˜ï¼Œæ‹¥æœ‰ä¸åŒçš„åœ°å€ï¼Œä½†æ˜¯å€¼æ˜¯ä¸€æ ·çš„ï¼Œå¤åˆ¶åçš„å¯¹è±¡ä¸åŸæ¥çš„å¯¹è±¡æ˜¯å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å½±å“çš„ï¼Œä¸º <code>æ·±æ‹·è´</code></p></div><div class="tip home"><p>æ·±æµ…æ‹·è´çš„ä¸»è¦åŒºåˆ«ï¼šå¤åˆ¶çš„æ˜¯å¼•ç”¨ï¼ˆåœ°å€ï¼‰è¿˜æ˜¯å¤åˆ¶çš„æ˜¯å®ä¾‹ã€‚</p><p>æ¥ä¸‹æ¥å°±å¯¹ä¸Šè¿°å®ä¾‹è¿›è¡Œæ·±æ‹·è´çš„å®ç°</p></div><h2 id="4-å®ç°æ·±æ‹·è´æ–¹å¼"><a href="#4-å®ç°æ·±æ‹·è´æ–¹å¼" class="headerlink" title="4. å®ç°æ·±æ‹·è´æ–¹å¼"></a>4. å®ç°æ·±æ‹·è´æ–¹å¼</h2><h3 id="4-1-åˆ©ç”¨é€’å½’æ–¹å¼-å¯¹å±æ€§ä¸­æ‰€æœ‰çš„å¼•ç”¨ç±»å‹çš„å€¼ï¼Œéå†åˆ°æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¸ºæ­¢ã€‚"><a href="#4-1-åˆ©ç”¨é€’å½’æ–¹å¼-å¯¹å±æ€§ä¸­æ‰€æœ‰çš„å¼•ç”¨ç±»å‹çš„å€¼ï¼Œéå†åˆ°æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¸ºæ­¢ã€‚" class="headerlink" title="4.1 åˆ©ç”¨é€’å½’æ–¹å¼ å¯¹å±æ€§ä¸­æ‰€æœ‰çš„å¼•ç”¨ç±»å‹çš„å€¼ï¼Œéå†åˆ°æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¸ºæ­¢ã€‚"></a>4.1 åˆ©ç”¨é€’å½’æ–¹å¼ å¯¹å±æ€§ä¸­æ‰€æœ‰çš„å¼•ç”¨ç±»å‹çš„å€¼ï¼Œéå†åˆ°æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¸ºæ­¢ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCLone</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> targetObj = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)?[]:&#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> keys <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.<span class="title function_">hasOwnProperty</span>(keys))&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj[keys] &amp;&amp; <span class="keyword">typeof</span> obj[keys] === <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">                targetObj[keys] = <span class="title function_">deepCLone</span>(obj[keys])</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                targetObj[keys] = obj[keys]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> targetObj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a =&#123;<span class="attr">name</span>:<span class="string">&quot;jack&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b = <span class="title function_">deepCLone</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b ===a);</span><br><span class="line">a.<span class="property">age</span> = <span class="number">30</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b70bb.webp" alt=""></p><h3 id="4-2-jQueryä¸­çš„-extendå¤åˆ¶æ–¹æ³•"><a href="#4-2-jQueryä¸­çš„-extendå¤åˆ¶æ–¹æ³•" class="headerlink" title="4.2 jQueryä¸­çš„ extendå¤åˆ¶æ–¹æ³•"></a>4.2 jQueryä¸­çš„ extendå¤åˆ¶æ–¹æ³•</h3><div class="tip home"><p>å¯ä»¥ç”¨æ¥æ‰©å±•å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼šdeep(true or<br>false),è¡¨ç¤ºæ˜¯å¦æ‰§è¡Œæ·±å¤åˆ¶(å¦‚æœæ‰§è¡Œæ·±å¤åˆ¶åˆ™ä¼šæ‰§è¡Œé€’å½’å¤åˆ¶)</p></div><ul><li><p>æ·±æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">&quot;xixi&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">company</span>:&#123;<span class="attr">name</span>:<span class="string">&quot;è…¾è®¯&quot;</span>,<span class="attr">address</span>:<span class="string">&quot;æ·±åœ³&quot;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj_extend =$.<span class="title function_">extend</span>(<span class="literal">true</span>,&#123;&#125;,obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj_extend);</span><br><span class="line">obj.<span class="property">company</span>.<span class="property">name</span>=<span class="string">&quot;é˜¿é‡Œ&quot;</span>;</span><br><span class="line">obj.<span class="property">name</span>=<span class="string">&quot;albabba&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b6700.webp" alt=""></p></li><li><p>æµ…æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">&quot;xixi&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">company</span>:&#123;<span class="attr">name</span>:<span class="string">&quot;è…¾è®¯&quot;</span>,<span class="attr">address</span>:<span class="string">&quot;æ·±åœ³&quot;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj_extend =$.<span class="title function_">extend</span>(<span class="literal">false</span>,&#123;&#125;,obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj_extend);</span><br><span class="line">obj.<span class="property">company</span>.<span class="property">name</span>=<span class="string">&quot;é˜¿é‡Œ&quot;</span>;</span><br><span class="line">obj.<span class="property">name</span>=<span class="string">&quot;albabba&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4af9db.webp" alt=""></p></li></ul><div class="tip bolt"><p>ä»companyçš„å˜åŒ–å¯ä»¥çœ‹å‡ºï¼Œè²Œä¼¼æ˜¯æµ…æ‹·è´ï¼Œä½†æ˜¯nameåˆè²Œä¼¼æ˜¯æ·±æ‹·è´ï¼Œè¿™æ˜¯ä½•è§£ã€‚</p></div><div class="note blue no-icon flat"><p>å…¶å®ï¼ŒArrayçš„slice å’Œconcatæ–¹æ³•å’ŒjQueryä¸­çš„extendå¤åˆ¶æ–¹æ³•ï¼Œéƒ½æ˜¯ä¼šå¤åˆ¶ç¬¬ä¸€å±‚çš„å€¼ï¼Œå¯¹äºç¬¬ä¸€å±‚çš„å€¼éƒ½æ˜¯æ·±æ‹·è´ï¼Œè€Œåˆ°ç¬¬äºŒå±‚çš„æ—¶å€™ Arrayçš„sliceå’Œconcatæ–¹æ³•å°±æ˜¯å¤åˆ¶å¼•ç”¨ï¼ŒjQueryä¸­çš„extendå¤åˆ¶æ–¹æ³•åˆ™å–å†³äºä½ çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ—¶å€™è¿›è¡Œé€’å½’å¤åˆ¶ã€‚<br>æ‰€è°“ç¬¬ä¸€å±‚ å°±æ˜¯ keyæ‰€å¯¹åº”çš„valueå€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åƒå®ä¾‹ä¸­çš„nameï¼Œageï¼Œè€Œå¯¹äºvalueå€¼æ˜¯å¼•ç”¨ç±»å‹ åˆ™ä¸ºç¬¬äºŒå±‚ï¼Œä¹Ÿå°±æ˜¯åƒä¸Šé¢çš„companyã€‚</p></div><div class="tip cogs"><p>é¡ºä¾¿ æˆ‘ä»¬å¯ä»¥è¯•ä¸€ä¸‹ slice å’Œconcat</p></div><h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span>  b = a.<span class="title function_">slice</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b === a);</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4a7a02.webp" alt=""></p><h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span>  b = a.<span class="title function_">concat</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b === a);</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4a7a02.webp" alt=""></p><p>çœ‹ä¼¼æ˜¯æ·±æ‹·è´ï¼Œå…¶å®ä¸ç„¶ï¼Œä¸‹é¢çš„ä¾‹å­å°±è¯´æ˜äº†ä¸€åˆ‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> b= a.<span class="title function_">slice</span>();</span><br><span class="line">a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">6</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4ab243.webp" alt=""></p><p class='p red'>è¿™å°±å¾ˆæ˜æ˜¾çš„çœ‹å‡ºæ¥äº†ï¼Œä¸Šé¢æ‰€è¿°ï¼Œç¬¬ä¸€å±‚æ˜¯æ·±æ‹·è´ ç¬¬äºŒå±‚ æ˜¯å¼•ç”¨ã€‚</p><h3 id="4-3-JSONå¯¹è±¡çš„parseå’Œstringify"><a href="#4-3-JSONå¯¹è±¡çš„parseå’Œstringify" class="headerlink" title="4.3 JSONå¯¹è±¡çš„parseå’Œstringify"></a>4.3 JSONå¯¹è±¡çš„parseå’Œstringify</h3><ul><li>JSONå¯¹è±¡ä¸­çš„stringifyå¯ä»¥æŠŠä¸€ä¸ªjså¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸²</li><li>parseå¯ä»¥æŠŠJSONå­—ç¬¦ä¸²ååºåŒ–ä¸ºä¸€ä¸ªjså¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å®ç°çš„æ˜¯æ·±æ‹·è´</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =&#123;<span class="attr">name</span>:<span class="string">&#x27;xixi&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">company</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;TX&#x27;</span>,<span class="attr">address</span>:<span class="string">&#x27;æ·±åœ³&#x27;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj_json = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj_json);</span><br><span class="line">obj.<span class="property">name</span>=<span class="string">&quot;ali&quot;</span>;</span><br><span class="line">obj.<span class="property">company</span>.<span class="property">name</span>=<span class="string">&quot;AL&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_json);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b310f.webp" alt=""></p><h2 id="5-å¦‚ä½•å®ç°å¯¹å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´"><a href="#5-å¦‚ä½•å®ç°å¯¹å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´" class="headerlink" title="5. å¦‚ä½•å®ç°å¯¹å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´"></a>5. å¦‚ä½•å®ç°å¯¹å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">address</span>: &#123;<span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">100</span>&#125;&#125;</span><br><span class="line">obj.<span class="property">o</span> = obj</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note blue no-icon flat"><p>objä¸­çš„å±æ€§oæŒ‡å‘objæœ¬èº«ï¼Œåœ¨æ·±æ‹·è´è¿‡ç¨‹ä¸­å°±ä¼šå‡ºç°å¾ªç¯å¼•ç”¨é—®é¢˜<br>å¦‚æœè¿˜ä½¿ç”¨ä¸Šè¿°çš„ç®—æ³•ï¼Œå°±ä¼šå‡ºç°è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜</p><p>å› æ­¤ï¼Œè¦è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ª<code>Map</code>/<code>WeakMap</code>æ¥å­˜æ”¾å·²ç»æ‹·è´è¿‡çš„å¯¹è±¡<br>keyä¸ºæ—§å¯¹è±¡ï¼Œvalueä¸ºæ–°å¯¹è±¡<br>åœ¨å…ˆæ‹·è´å±æ€§ä¹‹å‰ï¼Œå…ˆå»mapä¸­æŸ¥æ‰¾æ˜¯å¦å·²ç»è¢«å¤„ç†è¿‡ï¼Œå¦‚æœè¢«å¤„ç†è¿‡ï¼Œç›´æ¥è¿”å›valueå€¼<br>åœ¨æ‹·è´å±æ€§ä¹‹å‰ï¼ŒæŠŠæ–°ã€æ—§å¯¹è±¡ä¿å­˜åˆ°mapä¸­</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj = &#123;&#125;, hash = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœä¼ å…¥çš„æ˜¯å€¼ç±»å‹/nullï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj != <span class="string">&#x27;object&#x27;</span> || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (hash.<span class="title function_">get</span>(obj)) &#123;</span><br><span class="line">    <span class="keyword">return</span> hash.<span class="title function_">get</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result</span><br><span class="line">  <span class="keyword">if</span> (result <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    result = []</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  hash.<span class="title function_">set</span>(obj, result)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="property">hasOwnProperty</span>.<span class="title function_">call</span>(obj, key)) &#123;</span><br><span class="line">      result[key] = <span class="title function_">deepClone</span>(obj[key], hash)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">address</span>: &#123;<span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">100</span>&#125;&#125;</span><br><span class="line">  obj.<span class="property">o</span> = obj</span><br><span class="line">  obj.<span class="property">address</span>.<span class="property">z</span> = obj</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">deepClone</span>(obj))</span><br><span class="line">  obj.<span class="property">address</span>.<span class="property">x</span> = <span class="number">140</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666da84737b0f.png" alt=""></p><h2 id="6-structuredClone"><a href="#6-structuredClone" class="headerlink" title="6. structuredClone()"></a>6. structuredClone()</h2><div class="tip info"><p>JavaScriptä¸­æ·±æ‹·è´å¯¹è±¡çš„æœ€ç®€å•æ–¹æ³•,å¯ä»¥æ·±åº¦å¤åˆ¶ä»»ä½•å¯¹è±¡ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Tari&#x27;</span>, <span class="attr">friends</span>: [&#123; <span class="attr">name</span>: <span class="string">&#x27;Messi&#x27;</span> &#125;] &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> clonedObj = <span class="title function_">structuredClone</span>(obj);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span> === clonedObj); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">friends</span> === clonedObj.<span class="property">friends</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="6-1-è½»æ¾å…‹éš†å¾ªç¯å¼•ç”¨"><a href="#6-1-è½»æ¾å…‹éš†å¾ªç¯å¼•ç”¨" class="headerlink" title="6.1 è½»æ¾å…‹éš†å¾ªç¯å¼•ç”¨"></a>6.1 è½»æ¾å…‹éš†å¾ªç¯å¼•ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&#x27;Toyota&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‘† å¾ªç¯å¼•ç”¨</span></span><br><span class="line">car.<span class="property">basedOn</span> = car;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cloned = <span class="title function_">structuredClone</span>(car);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car.<span class="property">basedOn</span> === cloned.<span class="property">basedOn</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‘‡ å¾ªç¯å¼•ç”¨è¢«å…‹éš†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car === car.<span class="property">basedOn</span>); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ°¸è¿œæ— æ³•ç”¨<code>JSON</code> <code>stringify</code>/<code>parse</code>æŠ€å·§å®ç°çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&#x27;Toyota&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">car.<span class="property">basedOn</span> = car;</span><br><span class="line"><span class="keyword">const</span> cloned = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(car));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car.<span class="property">basedOn</span> === cloned.<span class="property">basedOn</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car === car.<span class="property">basedOn</span>); </span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/08/06/66b1d36067f1c.png" alt=""></p><h3 id="6-2-å¯å¯¹ä¸é™å±‚æ¬¡çš„å¯¹è±¡è¿›è¡Œæ‹·è´"><a href="#6-2-å¯å¯¹ä¸é™å±‚æ¬¡çš„å¯¹è±¡è¿›è¡Œæ‹·è´" class="headerlink" title="6.2 å¯å¯¹ä¸é™å±‚æ¬¡çš„å¯¹è±¡è¿›è¡Œæ‹·è´"></a>6.2 å¯å¯¹ä¸é™å±‚æ¬¡çš„å¯¹è±¡è¿›è¡Œæ‹·è´</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">      <span class="attr">c</span>: &#123;</span><br><span class="line">        <span class="attr">d</span>: &#123;</span><br><span class="line">          <span class="attr">e</span>: <span class="string">&#x27;Coding Beauty&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> clone = <span class="title function_">structuredClone</span>(obj);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone.<span class="property">a</span>.<span class="property">b</span>.<span class="property">c</span>.<span class="property">d</span> === obj.<span class="property">a</span>.<span class="property">b</span>.<span class="property">c</span>.<span class="property">d</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone.<span class="property">a</span>.<span class="property">b</span>.<span class="property">c</span>.<span class="property">d</span>.<span class="property">e</span>); <span class="comment">// Coding Beauty</span></span><br></pre></td></tr></table></figure><h3 id="6-3-structuredClone-çš„å±€é™æ€§"><a href="#6-3-structuredClone-çš„å±€é™æ€§" class="headerlink" title="6.3 structuredClone()çš„å±€é™æ€§"></a>6.3 <code>structuredClone()</code>çš„å±€é™æ€§</h3><h4 id="6-3-1-æ— æ³•å…‹éš†å‡½æ•°æˆ–æ–¹æ³•"><a href="#6-3-1-æ— æ³•å…‹éš†å‡½æ•°æˆ–æ–¹æ³•" class="headerlink" title="6.3.1 æ— æ³•å…‹éš†å‡½æ•°æˆ–æ–¹æ³•"></a>6.3.1 æ— æ³•å…‹éš†å‡½æ•°æˆ–æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&#x27;Toyota&#x27;</span>,</span><br><span class="line">  <span class="title function_">move</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;vroom vroom...&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">car.<span class="property">basedOn</span> = car;</span><br><span class="line"><span class="keyword">const</span> cloned = <span class="title function_">structuredClone</span>(car);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/08/06/66b1d6881c177.png" alt=""></p><p>æŠ¥é”™ä¿¡æ¯ï¼šâ€Failed to execute â€˜structuredCloneâ€™ on â€˜Windowâ€™: move()â€™ è¡¨ç¤ºåœ¨å°è¯•ä½¿ç”¨ <code>structuredClone</code> æ–¹æ³•å¤åˆ¶æˆ–åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶é‡åˆ°äº†é—®é¢˜ã€‚<code>structuredClone</code> æ˜¯ä¸€ä¸ªç”¨äºæ·±åº¦å¤åˆ¶å¯¹è±¡çš„æ–¹æ³•ï¼Œå®ƒèƒ½å¤Ÿæ­£ç¡®å¤åˆ¶åŒ…æ‹¬å‡½æ•°åœ¨å†…çš„æ‰€æœ‰å€¼ã€‚</p><p>é—®é¢˜å¯èƒ½å‡ºç°åœ¨ <code>move()</code> å‡½æ•°ä¸Šï¼Œå› ä¸ºåœ¨å°è¯•åºåˆ—åŒ–æˆ–å¤åˆ¶è¯¥å‡½æ•°æ—¶é‡åˆ°äº†é—®é¢˜ã€‚<code>structuredClone</code> ä¸èƒ½å¤åˆ¶ä¸å¯åºåˆ—åŒ–çš„å€¼ï¼Œæ¯”å¦‚å‡½æ•°æˆ– DOM èŠ‚ç‚¹ã€‚</p><h4 id="6-3-2-æ— æ³•å…‹éš†DOMå…ƒç´ "><a href="#6-3-2-æ— æ³•å…‹éš†DOMå…ƒç´ " class="headerlink" title="6.3.2 æ— æ³•å…‹éš†DOMå…ƒç´ "></a>6.3.2 æ— æ³•å…‹éš†DOMå…ƒç´ </h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;test&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testClone = <span class="title function_">structuredClone</span>(test);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testClone);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/08/06/66b1d7ee6037d.png" alt=""></p><h4 id="6-3-3-ä¸ä¿ç•™RegExpçš„lastIndexå±æ€§"><a href="#6-3-3-ä¸ä¿ç•™RegExpçš„lastIndexå±æ€§" class="headerlink" title="6.3.3 ä¸ä¿ç•™RegExpçš„lastIndexå±æ€§"></a>6.3.3 ä¸ä¿ç•™<code>RegExp</code>çš„<code>lastIndex</code>å±æ€§</h4><p>è™½ç„¶ä¸ä¼šå»å…‹éš†<code>æ­£åˆ™è¡¨è¾¾å¼</code>ï¼Œä½†è¿™æ˜¯å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> regex = <span class="regexp">/beauty/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;Coding Beauty: JS problems are solved at Coding Beauty&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regex.<span class="property">index</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regex.<span class="property">lastIndex</span>); <span class="comment">// 7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> regexClone = <span class="title function_">structuredClone</span>(regex);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexClone.<span class="property">lastIndex</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h3 id="6-4-å…¶ä»–çš„é™åˆ¶"><a href="#6-4-å…¶ä»–çš„é™åˆ¶" class="headerlink" title="6.4 å…¶ä»–çš„é™åˆ¶"></a>6.4 å…¶ä»–çš„é™åˆ¶</h3><div class="tip warning"><p>äº†è§£è¿™äº›é™åˆ¶å¾ˆé‡è¦ï¼Œä»¥é¿å…ä½¿ç”¨è¯¥å‡½æ•°æ—¶å‡ºç°æ„å¤–è¡Œä¸ºã€‚</p></div><p><strong>éƒ¨åˆ†å…‹éš†ï¼Œéƒ¨åˆ†ç§»åŠ¨</strong></p><p>è¿™æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„æƒ…å†µã€‚</p><p>ä½ å°†å†…éƒ¨å¯¹è±¡ä»æºå¯¹è±¡è½¬ç§»åˆ°å…‹éš†å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¤åˆ¶ã€‚</p><p>è¿™æ„å‘³ç€æºå¯¹è±¡ä¸­æ²¡æœ‰ç•™ä¸‹ä»»ä½•å¯ä»¥æ”¹å˜çš„ä¸œè¥¿ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uInt8Array = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>(</span><br><span class="line">    &#123; <span class="attr">length</span>: <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">16</span> &#125;,</span><br><span class="line">    <span class="function">(<span class="params">v, i</span>) =&gt;</span> i</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> transferred = <span class="title function_">structuredClone</span>(uInt8Array, &#123;</span><br><span class="line">    <span class="attr">transfer</span>: [uInt8Array.<span class="property">buffer</span>],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(uInt8Array.<span class="property">byteLength</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>æ€»çš„æ¥è¯´ï¼Œ<code>structuredClone()</code>æ˜¯JavaScriptå¼€å‘è€…å·¥å…·ç®±ä¸­çš„ä¸€ä¸ªå®è´µè¡¥å……ï¼Œä½¿å¯¹è±¡å…‹éš†æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´å®¹æ˜“ã€‚</p>]]></content>
    
    
    <summary type="html">ğŸ¥­å…³äºæ·±æµ…æ‹·è´çš„é‚£äº›äº‹</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>Vueåˆ¤æ–­ç”¨æˆ·é•¿æ—¶é—´æœªæ“ä½œæ¸…é™¤tokenå¹¶é€€å‡ºç™»å½•</title>
    <link href="https://www.axcode.cn/posts/6263542e.html"/>
    <id>https://www.axcode.cn/posts/6263542e.html</id>
    <published>2024-06-14T14:50:10.000Z</published>
    <updated>2024-07-28T10:50:39.607Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">    &lt;div id =&quot;app&quot; @click=&quot;isDo()&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">exoprt default&#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">        lastTime:null, //ç¬¬ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶</span><br><span class="line">        currentTime:null,  //å½“å‰ç‚¹å‡»äº‹ä»¶</span><br><span class="line">        timeOut:30*60*1000 // è®¾ç½®è¶…æ—¶æ—¶é—´ï¼š30åˆ†é’Ÿ</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created()&#123;</span><br><span class="line">    this.lastTime  = new Date().getTime();  // ç½‘é¡µç¬¬ä¸€æ¬¡æ‰“å¼€æ—¶ï¼Œè®°å½•å½“å‰æ—¶é—´</span><br><span class="line">  &#125;,</span><br><span class="line">   mounted()&#123;</span><br><span class="line">      var quitTIme = window.setInterval(this.testTime,1000);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    isDo()&#123;</span><br><span class="line">      this.currentTime = new Date().getTime(); // è®°å½•å½“å‰ç‚¹å‡»çš„æ—¶é—´</span><br><span class="line">      if(this.currentTIme - this.lastTime &gt; this.timeOut)&#123; //åˆ¤æ–­ä¸Šæ¬¡æœ€åä¸€æ¬¡çš„ç‚¹å‡»æ—¶é—´å’Œæœ€æ–°çš„ç‚¹å‡»æ—¶é—´é—´éš”æ—¶å€™å¤§äº30åˆ†é’Ÿ</span><br><span class="line">      // è¿™é‡Œå†™çŠ¶æ€å·²è¿‡æœŸåæ‰§è¡Œçš„æ“ä½œ</span><br><span class="line">      localStorage.removeItem(&quot;token&quot;);</span><br><span class="line">       this.$router.push(&#123; path: &#x27;/login&#x27; &#125;);</span><br><span class="line">        // æ¸…é™¤å®šæ—¶å™¨</span><br><span class="line">       window.clearInterval(quitTIme);</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        this.lastTime  = new Date().getTime(); //å¦‚æœ30åˆ†ä¹‹å†…ç‚¹å‡»ï¼Œåˆ™æŠŠæœ€æ–°æ—¶é—´è®°å½•è¦†ç›–æ‰ä¹‹å‰å­˜çš„æœ€åä¸€æ¬¡ç‚¹å‡»æ—¶é—´</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸVueåˆ¤æ–­ç”¨æˆ·é•¿æ—¶é—´æœªæ“ä½œæ¸…é™¤tokenå¹¶é€€å‡ºç™»å½•</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>tsåŸºç¡€æ‰‹è®°ï¼ˆä¸€ï¼‰</title>
    <link href="https://www.axcode.cn/posts/8c4a663e.html"/>
    <id>https://www.axcode.cn/posts/8c4a663e.html</id>
    <published>2024-06-14T10:34:12.000Z</published>
    <updated>2024-06-15T14:50:59.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -å¿«é€Ÿå…¥é—¨"><a href="#ç¬¬ä¸€ç« -å¿«é€Ÿå…¥é—¨" class="headerlink" title="ç¬¬ä¸€ç«  å¿«é€Ÿå…¥é—¨"></a>ç¬¬ä¸€ç«  å¿«é€Ÿå…¥é—¨</h1><h2 id="1-TypeScriptç®€ä»‹"><a href="#1-TypeScriptç®€ä»‹" class="headerlink" title="1. TypeScriptç®€ä»‹"></a>1. TypeScriptç®€ä»‹</h2><div class="note blue no-icon flat"><ol><li>TypeScriptæ˜¯JavaScriptçš„è¶…é›†ã€‚</li><li>å®ƒå¯¹JSè¿›è¡Œäº†æ‰©å±•ï¼Œå‘JSä¸­å¼•å…¥äº†ç±»å‹çš„æ¦‚å¿µï¼Œå¹¶æ·»åŠ äº†è®¸å¤šæ–°çš„ç‰¹æ€§ã€‚</li><li>TSä»£ç éœ€è¦é€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘ä¸ºJSï¼Œç„¶åå†äº¤ç”±JSè§£æå™¨æ‰§è¡Œã€‚</li><li>TSå®Œå…¨å…¼å®¹JSï¼Œæ¢è¨€ä¹‹ï¼Œä»»ä½•çš„JSä»£ç éƒ½å¯ä»¥ç›´æ¥å½“æˆJSä½¿ç”¨ã€‚</li><li>ç›¸è¾ƒäºJSè€Œè¨€ï¼ŒTSæ‹¥æœ‰äº†é™æ€ç±»å‹ï¼Œæ›´åŠ ä¸¥æ ¼çš„è¯­æ³•ï¼Œæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼›TSå¯ä»¥åœ¨ä»£ç æ‰§è¡Œå‰å°±å®Œæˆä»£ç çš„æ£€æŸ¥ï¼Œå‡å°äº†è¿è¡Œæ—¶å¼‚å¸¸çš„å‡ºç°çš„å‡ ç‡ï¼›TSä»£ç å¯ä»¥ç¼–è¯‘ä¸ºä»»æ„ç‰ˆæœ¬çš„JSä»£ç ï¼Œå¯æœ‰æ•ˆè§£å†³ä¸åŒJSè¿è¡Œç¯å¢ƒçš„å…¼å®¹é—®é¢˜ï¼›åŒæ ·çš„åŠŸèƒ½ï¼ŒTSçš„ä»£ç é‡è¦å¤§äºJSï¼Œä½†ç”±äºTSçš„ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œå˜é‡ç±»å‹æ›´åŠ æ˜ç¡®ï¼Œåœ¨åæœŸä»£ç çš„ç»´æŠ¤ä¸­TSå´è¿œè¿œèƒœäºJSã€‚</li></ol></div><h2 id="2-TypeScript-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#2-TypeScript-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="2. TypeScript å¼€å‘ç¯å¢ƒæ­å»º"></a>2. TypeScript å¼€å‘ç¯å¢ƒæ­å»º</h2><ol><li><p>ä¸‹è½½Node.js</p><ul><li>64ä½ï¼š<a href="https://nodejs.org/dist/v14.15.1/node-v14.15.1-x64.msi">https://nodejs.org/dist/v14.15.1/node-v14.15.1-x64.msi</a></li><li>32ä½ï¼š<a href="https://nodejs.org/dist/v14.15.1/node-v14.15.1-x86.msi">https://nodejs.org/dist/v14.15.1/node-v14.15.1-x86.msi</a></li></ul></li><li><p>å®‰è£…Node.js</p></li><li><p>ä½¿ç”¨npmå…¨å±€å®‰è£…typescript</p><ul><li>è¿›å…¥å‘½ä»¤è¡Œ</li><li>è¾“å…¥ï¼šnpm i -g typescript</li></ul></li><li><p>åˆ›å»ºä¸€ä¸ªtsæ–‡ä»¶</p></li><li><p>ä½¿ç”¨tscå¯¹tsæ–‡ä»¶è¿›è¡Œç¼–è¯‘</p><ul><li><p>è¿›å…¥å‘½ä»¤è¡Œ</p></li><li><p>è¿›å…¥tsæ–‡ä»¶æ‰€åœ¨ç›®å½•</p></li><li><p>æ‰§è¡Œå‘½ä»¤ï¼štsc xxx.ts</p></li></ul></li></ol><h2 id="3-åŸºç¡€ç±»å‹"><a href="#3-åŸºç¡€ç±»å‹" class="headerlink" title="3. åŸºç¡€ç±»å‹"></a>3. åŸºç¡€ç±»å‹</h2><ul><li><p>ç±»å‹å£°æ˜</p><ul><li><p>ç±»å‹å£°æ˜æ˜¯TSéå¸¸é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹</p></li><li><p>é€šè¿‡ç±»å‹å£°æ˜å¯ä»¥æŒ‡å®šTSä¸­å˜é‡ï¼ˆå‚æ•°ã€å½¢å‚ï¼‰çš„ç±»å‹</p></li><li><p>æŒ‡å®šç±»å‹åï¼Œå½“ä¸ºå˜é‡èµ‹å€¼æ—¶ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å€¼æ˜¯å¦ç¬¦åˆç±»å‹å£°æ˜ï¼Œç¬¦åˆåˆ™èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™</p></li><li><p>ç®€è€Œè¨€ä¹‹ï¼Œç±»å‹å£°æ˜ç»™å˜é‡è®¾ç½®äº†ç±»å‹ï¼Œä½¿å¾—å˜é‡åªèƒ½å­˜å‚¨æŸç§ç±»å‹çš„å€¼</p></li><li><p>è¯­æ³•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> å˜é‡: ç±»å‹;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> å˜é‡: ç±»å‹ = å€¼;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">å‚æ•°: ç±»å‹, å‚æ•°: ç±»å‹</span>): ç±»å‹&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>è‡ªåŠ¨ç±»å‹åˆ¤æ–­</p><ul><li>TSæ‹¥æœ‰è‡ªåŠ¨çš„ç±»å‹åˆ¤æ–­æœºåˆ¶x</li><li>å½“å¯¹å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å˜é‡çš„ç±»å‹</li><li>æ‰€ä»¥å¦‚æœä½ çš„å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ—¶åŒæ—¶è¿›è¡Œçš„ï¼Œå¯ä»¥çœç•¥æ‰ç±»å‹å£°æ˜</li></ul></li><li><p>ç±»å‹ï¼š</p></li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">ç±»å‹</th><th style="text-align:center">ä¾‹å­</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">number</td><td style="text-align:center">1, -33, 2.5</td><td style="text-align:center">ä»»æ„æ•°å­—</td></tr><tr><td style="text-align:center">string</td><td style="text-align:center">â€˜hiâ€™, â€œhiâ€, <code>hi</code></td><td style="text-align:center">ä»»æ„å­—ç¬¦ä¸²</td></tr><tr><td style="text-align:center">boolean</td><td style="text-align:center">trueã€false</td><td style="text-align:center">å¸ƒå°”å€¼trueæˆ–false</td></tr><tr><td style="text-align:center">å­—é¢é‡</td><td style="text-align:center">å…¶æœ¬èº«</td><td style="text-align:center">é™åˆ¶å˜é‡çš„å€¼å°±æ˜¯è¯¥å­—é¢é‡çš„å€¼</td></tr><tr><td style="text-align:center">any</td><td style="text-align:center">*</td><td style="text-align:center">ä»»æ„ç±»å‹</td></tr><tr><td style="text-align:center">unknown</td><td style="text-align:center">*</td><td style="text-align:center">ç±»å‹å®‰å…¨çš„any</td></tr><tr><td style="text-align:center">void</td><td style="text-align:center">ç©ºå€¼ï¼ˆundefinedï¼‰</td><td style="text-align:center">æ²¡æœ‰å€¼ï¼ˆæˆ–undefinedï¼‰</td></tr><tr><td style="text-align:center">never</td><td style="text-align:center">æ²¡æœ‰å€¼</td><td style="text-align:center">ä¸èƒ½æ˜¯ä»»ä½•å€¼</td></tr><tr><td style="text-align:center">object</td><td style="text-align:center">{name:â€™å­™æ‚Ÿç©ºâ€™}</td><td style="text-align:center">ä»»æ„çš„JSå¯¹è±¡</td></tr><tr><td style="text-align:center">array</td><td style="text-align:center">[1,2,3]</td><td style="text-align:center">ä»»æ„JSæ•°ç»„</td></tr><tr><td style="text-align:center">tuple</td><td style="text-align:center">[4,5]</td><td style="text-align:center">å…ƒç´ ï¼ŒTSæ–°å¢ç±»å‹ï¼Œå›ºå®šé•¿åº¦æ•°ç»„</td></tr><tr><td style="text-align:center">enum</td><td style="text-align:center">enum{A, B}</td><td style="text-align:center">æšä¸¾ï¼ŒTSä¸­æ–°å¢ç±»å‹</td></tr></tbody></table></div><ul><li><p>number</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">decimal</span>: <span class="built_in">number</span> = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">hex</span>: <span class="built_in">number</span> = <span class="number">0xf00d</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">binary</span>: <span class="built_in">number</span> = <span class="number">0b1010</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">octal</span>: <span class="built_in">number</span> = <span class="number">0o744</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">big</span>: <span class="built_in">bigint</span> = <span class="number">100n</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>boolean</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">isDone</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>string</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">color</span>: <span class="built_in">string</span> = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">fullName</span>: <span class="built_in">string</span> = <span class="string">`Bob Bobbington`</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">37</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">sentence</span>: <span class="built_in">string</span> = <span class="string">`Hello, my name is <span class="subst">$&#123;fullName&#125;</span>.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">I&#x27;ll be <span class="subst">$&#123;age + <span class="number">1</span>&#125;</span> years old next month.`</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>å­—é¢é‡</p><ul><li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—é¢é‡å»æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œé€šè¿‡å­—é¢é‡å¯ä»¥ç¡®å®šå˜é‡çš„å–å€¼èŒƒå›´</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> | <span class="string">&#x27;blue&#x27;</span> | <span class="string">&#x27;black&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">num</span>: <span class="number">1</span> | <span class="number">2</span> | <span class="number">3</span> | <span class="number">4</span> | <span class="number">5</span>;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>any</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">d</span>: <span class="built_in">any</span> = <span class="number">4</span>;</span><br><span class="line">d = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">d = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>unknown</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">notSure</span>: <span class="built_in">unknown</span> = <span class="number">4</span>;</span><br><span class="line">notSure = <span class="string">&#x27;hello&#x27;</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>void</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">unusable</span>: <span class="built_in">void</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>never</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">error</span>(<span class="params"><span class="attr">message</span>: <span class="built_in">string</span></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>objectï¼ˆæ²¡å•¥ç”¨ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">obj</span>: <span class="built_in">object</span> = &#123;&#125;;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>array</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">list</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="attr">list</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>tuple</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: [<span class="built_in">string</span>, <span class="built_in">number</span>];</span><br><span class="line">x = [<span class="string">&quot;hello&quot;</span>, <span class="number">10</span>]; </span><br></pre></td></tr></table></figure></li></ul><ul><li><p>enum</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="title class_">Red</span>,</span><br><span class="line">  <span class="title class_">Green</span>,</span><br><span class="line">  <span class="title class_">Blue</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="title class_">Red</span> = <span class="number">1</span>,</span><br><span class="line">  <span class="title class_">Green</span>,</span><br><span class="line">  <span class="title class_">Blue</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="title class_">Red</span> = <span class="number">1</span>,</span><br><span class="line">  <span class="title class_">Green</span> = <span class="number">2</span>,</span><br><span class="line">  <span class="title class_">Blue</span> = <span class="number">4</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>ç±»å‹æ–­è¨€</p><ul><li><p>æœ‰äº›æƒ…å†µä¸‹ï¼Œå˜é‡çš„ç±»å‹å¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯å¾ˆæ˜ç¡®ï¼Œä½†æ˜¯TSç¼–è¯‘å™¨å´å¹¶ä¸æ¸…æ¥šï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹ï¼Œæ–­è¨€æœ‰ä¸¤ç§å½¢å¼ï¼š</p><ul><li><p>ç¬¬ä¸€ç§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">unknown</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (someValue <span class="keyword">as</span> <span class="built_in">string</span>).<span class="property">length</span>;</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">unknown</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (&lt;<span class="built_in">string</span>&gt;someValue).<span class="property">length</span>;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="4-ç¼–è¯‘é€‰é¡¹"><a href="#4-ç¼–è¯‘é€‰é¡¹" class="headerlink" title="4. ç¼–è¯‘é€‰é¡¹"></a>4. ç¼–è¯‘é€‰é¡¹</h2><ul><li><p>è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶</p><ul><li><p>ç¼–è¯‘æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ -w æŒ‡ä»¤åï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç›‘è§†æ–‡ä»¶çš„å˜åŒ–ï¼Œå¹¶åœ¨æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶å¯¹æ–‡ä»¶è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tsc</span> <span class="string">xxx.ts -w</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>è‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®</p><ul><li><p>å¦‚æœç›´æ¥ä½¿ç”¨tscæŒ‡ä»¤ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨å°†å½“å‰é¡¹ç›®ä¸‹çš„æ‰€æœ‰tsæ–‡ä»¶ç¼–è¯‘ä¸ºjsæ–‡ä»¶ã€‚</p></li><li><p>ä½†æ˜¯èƒ½ç›´æ¥ä½¿ç”¨tscå‘½ä»¤çš„å‰ææ—¶ï¼Œè¦å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtsçš„é…ç½®æ–‡ä»¶ tsconfig.json</p></li><li><p>tsconfig.jsonæ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶åï¼Œåªéœ€åªéœ€ tsc å‘½ä»¤å³å¯å®Œæˆå¯¹æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘</p></li><li><p>é…ç½®é€‰é¡¹ï¼š</p><ul><li><p>include</p><ul><li><p>å®šä¹‰å¸Œæœ›è¢«ç¼–è¯‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</p></li><li><p>é»˜è®¤å€¼ï¼š[â€œ**/*â€œ]</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;include&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="string">&quot;src/**/*&quot;</span><span class="punctuation">,</span> <span class="string">&quot;tests/**/*&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰srcç›®å½•å’Œtestsç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šè¢«ç¼–è¯‘</li></ul></li></ul></li><li><p>exclude</p><ul><li><p>å®šä¹‰éœ€è¦æ’é™¤åœ¨å¤–çš„ç›®å½•</p></li><li></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;./src/hello/**/*&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œsrcä¸‹helloç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¸ä¼šè¢«ç¼–è¯‘</li></ul></li></ul></li><li><p>extends</p><ul><li><p>å®šä¹‰è¢«ç»§æ‰¿çš„é…ç½®æ–‡ä»¶</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./configs/base&quot;</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå½“å‰é…ç½®æ–‡ä»¶ä¸­ä¼šè‡ªåŠ¨åŒ…å«configç›®å½•ä¸‹base.jsonä¸­çš„æ‰€æœ‰é…ç½®ä¿¡æ¯</li></ul></li></ul></li><li><p>files</p><ul><li><p>æŒ‡å®šè¢«ç¼–è¯‘æ–‡ä»¶çš„åˆ—è¡¨ï¼Œåªæœ‰éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶å°‘æ—¶æ‰ä¼šç”¨åˆ°</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;core.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;sys.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;types.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;scanner.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;parser.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;utilities.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;binder.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;checker.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;tsc.ts&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br></pre></td></tr></table></figure><ul><li>åˆ—è¡¨ä¸­çš„æ–‡ä»¶éƒ½ä¼šè¢«TSç¼–è¯‘å™¨æ‰€ç¼–è¯‘</li></ul></li><li><p>compilerOptions</p><ul><li><p>ç¼–è¯‘é€‰é¡¹æ˜¯é…ç½®æ–‡ä»¶ä¸­éå¸¸é‡è¦ä¹Ÿæ¯”è¾ƒå¤æ‚çš„é…ç½®é€‰é¡¹</p></li><li><p>åœ¨compilerOptionsä¸­åŒ…å«å¤šä¸ªå­é€‰é¡¹ï¼Œç”¨æ¥å®Œæˆå¯¹ç¼–è¯‘çš„é…ç½®</p><ul><li><p>é¡¹ç›®é€‰é¡¹</p><ul><li><p>target</p><ul><li><p>è®¾ç½®tsä»£ç ç¼–è¯‘çš„ç›®æ ‡ç‰ˆæœ¬</p></li><li><p>å¯é€‰å€¼ï¼š</p><ul><li>ES3ï¼ˆé»˜è®¤ï¼‰ã€ES5ã€ES6/ES2015ã€ES7/ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNext</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES6&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚ä¸Šè®¾ç½®ï¼Œæˆ‘ä»¬æ‰€ç¼–å†™çš„tsä»£ç å°†ä¼šè¢«ç¼–è¯‘ä¸ºES6ç‰ˆæœ¬çš„jsä»£ç </li></ul></li></ul></li><li><p>lib</p><ul><li><p>æŒ‡å®šä»£ç è¿è¡Œæ—¶æ‰€åŒ…å«çš„åº“ï¼ˆå®¿ä¸»ç¯å¢ƒï¼‰</p></li><li><p>å¯é€‰å€¼ï¼š</p><ul><li>ES5ã€ES6/ES2015ã€ES7/ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNextã€DOMã€WebWorkerã€ScriptHost â€¦â€¦</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span> <span class="string">&quot;DOM&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/aa.js&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>module</p><ul><li><p>è®¾ç½®ç¼–è¯‘åä»£ç ä½¿ç”¨çš„æ¨¡å—åŒ–ç³»ç»Ÿ</p></li><li><p>å¯é€‰å€¼ï¼š</p><ul><li>CommonJSã€UMDã€AMDã€Systemã€ES2020ã€ESNextã€None</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CommonJS&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>outDir</p><ul><li><p>ç¼–è¯‘åæ–‡ä»¶çš„æ‰€åœ¨ç›®å½•</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘åçš„jsæ–‡ä»¶ä¼šå’Œtsæ–‡ä»¶ä½äºç›¸åŒçš„ç›®å½•ï¼Œè®¾ç½®outDiråå¯ä»¥æ”¹å˜ç¼–è¯‘åæ–‡ä»¶çš„ä½ç½®</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®åç¼–è¯‘åçš„jsæ–‡ä»¶å°†ä¼šç”Ÿæˆåˆ°distç›®å½•</li></ul></li></ul></li><li><p>outFile</p><ul><li><p>å°†æ‰€æœ‰çš„æ–‡ä»¶ç¼–è¯‘ä¸ºä¸€ä¸ªjsæ–‡ä»¶</p></li><li><p>é»˜è®¤ä¼šå°†æ‰€æœ‰çš„ç¼–å†™åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„ä»£ç åˆå¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¦‚æœmoduleåˆ¶å®šäº†Noneã€Systemæˆ–AMDåˆ™ä¼šå°†æ¨¡å—ä¸€èµ·åˆå¹¶åˆ°æ–‡ä»¶ä¹‹ä¸­</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;outFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/app.js&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>rootDir</p><ul><li><p>æŒ‡å®šä»£ç çš„æ ¹ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘åæ–‡ä»¶çš„ç›®å½•ç»“æ„ä¼šä»¥æœ€é•¿çš„å…¬å…±ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œé€šè¿‡rootDirå¯ä»¥æ‰‹åŠ¨æŒ‡å®šæ ¹ç›®å½•</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;rootDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./src&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>allowJs</p><ul><li>æ˜¯å¦å¯¹jsæ–‡ä»¶ç¼–è¯‘</li></ul></li><li><p>checkJs</p><ul><li><p>æ˜¯å¦å¯¹jsæ–‡ä»¶è¿›è¡Œæ£€æŸ¥</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;allowJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;checkJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>removeComments</p><ul><li>æ˜¯å¦åˆ é™¤æ³¨é‡Š</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li><li><p>noEmit</p><ul><li>ä¸å¯¹ä»£ç è¿›è¡Œç¼–è¯‘</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li><li><p>sourceMap</p><ul><li>æ˜¯å¦ç”ŸæˆsourceMap</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li></ul></li><li><p>ä¸¥æ ¼æ£€æŸ¥</p><ul><li>strict<ul><li>å¯ç”¨æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼Œè®¾ç½®åç›¸å½“äºå¼€å¯äº†æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥</li></ul></li><li>alwaysStrict<ul><li>æ€»æ˜¯ä»¥ä¸¥æ ¼æ¨¡å¼å¯¹ä»£ç è¿›è¡Œç¼–è¯‘</li></ul></li><li>noImplicitAny<ul><li>ç¦æ­¢éšå¼çš„anyç±»å‹</li></ul></li><li>noImplicitThis<ul><li>ç¦æ­¢ç±»å‹ä¸æ˜ç¡®çš„this</li></ul></li><li>strictBindCallApply<ul><li>ä¸¥æ ¼æ£€æŸ¥bindã€callå’Œapplyçš„å‚æ•°åˆ—è¡¨</li></ul></li><li>strictFunctionTypes<ul><li>ä¸¥æ ¼æ£€æŸ¥å‡½æ•°çš„ç±»å‹</li></ul></li><li>strictNullChecks<ul><li>ä¸¥æ ¼çš„ç©ºå€¼æ£€æŸ¥</li></ul></li><li>strictPropertyInitialization<ul><li>ä¸¥æ ¼æ£€æŸ¥å±æ€§æ˜¯å¦åˆå§‹åŒ–</li></ul></li></ul></li><li><p>é¢å¤–æ£€æŸ¥</p><ul><li>noFallthroughCasesInSwitch<ul><li>æ£€æŸ¥switchè¯­å¥åŒ…å«æ­£ç¡®çš„break</li></ul></li><li>noImplicitReturns<ul><li>æ£€æŸ¥å‡½æ•°æ²¡æœ‰éšå¼çš„è¿”å›å€¼</li></ul></li><li>noUnusedLocals<ul><li>æ£€æŸ¥æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡</li></ul></li><li>noUnusedParameters<ul><li>æ£€æŸ¥æœªä½¿ç”¨çš„å‚æ•°</li></ul></li></ul></li><li><p>é«˜çº§</p><ul><li>allowUnreachableCode<ul><li>æ£€æŸ¥ä¸å¯è¾¾ä»£ç </li><li>å¯é€‰å€¼ï¼š<ul><li>trueï¼Œå¿½ç•¥ä¸å¯è¾¾ä»£ç </li><li>falseï¼Œä¸å¯è¾¾ä»£ç å°†å¼•èµ·é”™è¯¯</li></ul></li></ul></li><li>noEmitOnError<ul><li>æœ‰é”™è¯¯çš„æƒ…å†µä¸‹ä¸è¿›è¡Œç¼–è¯‘</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="5-webpack"><a href="#5-webpack" class="headerlink" title="5. webpack"></a>5. webpack</h2><ul><li><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨æ„å»ºå·¥å…·å¯¹ä»£ç è¿›è¡Œæ‰“åŒ…ï¼ŒTSåŒæ ·ä¹Ÿå¯ä»¥ç»“åˆæ„å»ºå·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œä¸‹è¾¹ä»¥webpackä¸ºä¾‹ä»‹ç»ä¸€ä¸‹å¦‚ä½•ç»“åˆæ„å»ºå·¥å…·ä½¿ç”¨TSã€‚</p></li><li><p>æ­¥éª¤ï¼š</p><ol><li><p>åˆå§‹åŒ–é¡¹ç›®</p><ul><li>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ <code>npm init -y</code><ul><li>ä¸»è¦ä½œç”¨ï¼šåˆ›å»ºpackage.jsonæ–‡ä»¶</li></ul></li></ul></li><li><p>ä¸‹è½½æ„å»ºå·¥å…·</p><ul><li><code>npm i -D webpack webpack-cli webpack-dev-server typescript ts-loader clean-webpack-plugin</code><ul><li>å…±å®‰è£…äº†7ä¸ªåŒ…<ul><li>webpack<ul><li>æ„å»ºå·¥å…·webpack</li></ul></li><li>webpack-cli<ul><li>webpackçš„å‘½ä»¤è¡Œå·¥å…·</li></ul></li><li>webpack-dev-server<ul><li>webpackçš„å¼€å‘æœåŠ¡å™¨</li></ul></li><li>typescript<ul><li>tsç¼–è¯‘å™¨</li></ul></li><li>ts-loader<ul><li>tsåŠ è½½å™¨ï¼Œç”¨äºåœ¨webpackä¸­ç¼–è¯‘tsæ–‡ä»¶</li></ul></li><li>html-webpack-plugin<ul><li>webpackä¸­htmlæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨åˆ›å»ºhtmlæ–‡ä»¶</li></ul></li><li>clean-webpack-plugin<ul><li>webpackä¸­çš„æ¸…é™¤æ’ä»¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½ä¼šå…ˆæ¸…é™¤ç›®å½•</li></ul></li></ul></li></ul></li></ul></li><li><p>æ ¹ç›®å½•ä¸‹åˆ›å»ºwebpackçš„é…ç½®æ–‡ä»¶webpack.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;clean-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">optimization</span>:&#123;</span><br><span class="line">        <span class="attr">minimize</span>: <span class="literal">false</span> <span class="comment">// å…³é—­ä»£ç å‹ç¼©ï¼Œå¯é€‰</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/index.ts&quot;</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="attr">devtool</span>: <span class="string">&quot;inline-source-map&quot;</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">contentBase</span>: <span class="string">&#x27;./dist&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>,</span><br><span class="line">        <span class="attr">environment</span>: &#123;</span><br><span class="line">            <span class="attr">arrowFunction</span>: <span class="literal">false</span> <span class="comment">// å…³é—­webpackçš„ç®­å¤´å‡½æ•°ï¼Œå¯é€‰</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">extensions</span>: [<span class="string">&quot;.ts&quot;</span>, <span class="string">&quot;.js&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">                <span class="attr">use</span>: &#123;</span><br><span class="line">                   <span class="attr">loader</span>: <span class="string">&quot;ts-loader&quot;</span>     </span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>(),</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;TSæµ‹è¯•&#x27;</span></span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><ol><li><p>æ ¹ç›®å½•ä¸‹åˆ›å»ºtsconfig.jsonï¼Œé…ç½®å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;target&quot;</span>: <span class="string">&quot;ES2015&quot;</span>,</span><br><span class="line">        <span class="string">&quot;module&quot;</span>: <span class="string">&quot;ES2015&quot;</span>,</span><br><span class="line">        <span class="string">&quot;strict&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ol><li><p>ä¿®æ”¹package.jsonæ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...ç•¥...</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span>,</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;webpack serve --open chrome.exe&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...ç•¥...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ol><li>åœ¨srcä¸‹åˆ›å»ºtsæ–‡ä»¶ï¼Œå¹¶åœ¨å¹¶å‘½ä»¤è¡Œæ‰§è¡Œ<code>npm run build</code>å¯¹ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œæˆ–è€…æ‰§è¡Œ<code>npm start</code>æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚</li></ol><h2 id="6-Babel"><a href="#6-Babel" class="headerlink" title="6. Babel"></a>6. Babel</h2><p>ç»è¿‡ä¸€ç³»åˆ—çš„é…ç½®ï¼Œä½¿å¾—TSå’Œwebpackå·²ç»ç»“åˆåˆ°äº†ä¸€èµ·ï¼Œé™¤äº†webpackï¼Œå¼€å‘ä¸­è¿˜ç»å¸¸éœ€è¦ç»“åˆbabelæ¥å¯¹ä»£ç è¿›è¡Œè½¬æ¢ä»¥ä½¿å…¶å¯ä»¥å…¼å®¹åˆ°æ›´å¤šçš„æµè§ˆå™¨ï¼Œåœ¨ä¸Šè¿°æ­¥éª¤çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å†å°†babelå¼•å…¥åˆ°é¡¹ç›®ä¸­ã€‚</p><ol><li><p>å®‰è£…ä¾èµ–åŒ…ï¼š</p><ul><li><code>npm i -D @babel/core @babel/preset-env babel-loader core-js</code></li><li>å…±å®‰è£…äº†4ä¸ªåŒ…ï¼Œåˆ†åˆ«æ˜¯ï¼š<ul><li>@babel/core<ul><li>babelçš„æ ¸å¿ƒå·¥å…·</li></ul></li><li>@babel/preset-env<ul><li>babelçš„é¢„å®šä¹‰ç¯å¢ƒ</li></ul></li><li>@babel-loader<ul><li>babelåœ¨webpackä¸­çš„åŠ è½½å™¨</li></ul></li><li>core-js<ul><li>core-jsç”¨æ¥ä½¿è€ç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒæ–°ç‰ˆESè¯­æ³•</li></ul></li></ul></li></ul></li><li><p>ä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">...ç•¥...</span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">            <span class="attr">use</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                    <span class="attr">options</span>:&#123;</span><br><span class="line">                        <span class="attr">presets</span>: [</span><br><span class="line">                            [</span><br><span class="line">                                <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">                                &#123;</span><br><span class="line">                                    <span class="string">&quot;targets&quot;</span>:&#123;</span><br><span class="line">                                        <span class="string">&quot;chrome&quot;</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">                                        <span class="string">&quot;ie&quot;</span>: <span class="string">&quot;11&quot;</span></span><br><span class="line">                                    &#125;,</span><br><span class="line">                                    <span class="string">&quot;corejs&quot;</span>:<span class="string">&quot;3&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;useBuiltIns&quot;</span>: <span class="string">&quot;usage&quot;</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            ]</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&quot;ts-loader&quot;</span>,</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">...ç•¥...</span><br></pre></td></tr></table></figure></li></ol><ul><li>å¦‚æ­¤ä¸€æ¥ï¼Œä½¿ç”¨tsç¼–è¯‘åçš„æ–‡ä»¶å°†ä¼šå†æ¬¡è¢«babelå¤„ç†ï¼Œä½¿å¾—ä»£ç å¯ä»¥åœ¨å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥åœ¨é…ç½®é€‰é¡¹çš„targetsä¸­æŒ‡å®šè¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚</li></ul><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2>]]></content>
    
    
    <summary type="html">ğŸ‹â€ğŸŸ©tsåŸºç¡€æ‰‹è®° (ä¸€)</summary>
    
    
    
    <category term="Ts" scheme="https://www.axcode.cn/categories/Ts/"/>
    
    
    <category term="Ts" scheme="https://www.axcode.cn/tags/Ts/"/>
    
  </entry>
  
  <entry>
    <title>å½»åº•ææ‡‚æµè§ˆå™¨Event-loop</title>
    <link href="https://www.axcode.cn/posts/aedb9f78.html"/>
    <id>https://www.axcode.cn/posts/aedb9f78.html</id>
    <published>2024-06-12T10:37:07.000Z</published>
    <updated>2024-08-08T10:43:02.909Z</updated>
    
    <content type="html"><![CDATA[<div class="tip "><p>æ­¤æ–‡æ¥è‡ªäºæ˜é‡‘ä½œè€… <a href="https://juejin.cn/user/3368559358523944/posts">æ— åä¹‹è‹</a> æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><h2 id="1-é¢„å¤‡çŸ¥è¯†"><a href="#1-é¢„å¤‡çŸ¥è¯†" class="headerlink" title="1. é¢„å¤‡çŸ¥è¯†"></a>1. é¢„å¤‡çŸ¥è¯†</h2><div class="note blue no-icon flat"><p>JavaScriptçš„è¿è¡Œæœºåˆ¶:</p><ol><li><p>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚</p></li><li><p>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€(task queue)ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</p></li><li><p>ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</p></li><li><p>ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥</p><p>æ¦‚æ‹¬å³æ˜¯: è°ƒç”¨æ ˆä¸­çš„åŒæ­¥ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œæ ˆå†…è¢«æ¸…ç©ºäº†ï¼Œå°±ä»£è¡¨ä¸»çº¿ç¨‹ç©ºé—²äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºè¯»å–ä¸€ä¸ªä»»åŠ¡æ”¾å…¥åˆ°æ ˆä¸­æ‰§è¡Œã€‚æ¯æ¬¡æ ˆå†…è¢«æ¸…ç©ºï¼Œéƒ½ä¼šå»è¯»å–ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä»»åŠ¡ï¼Œæœ‰å°±è¯»å–æ‰§è¡Œï¼Œä¸€ç›´å¾ªç¯è¯»å–-æ‰§è¡Œçš„æ“ä½œ</p></li></ol></div><div class="note blue no-icon flat"><p>ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­æœ‰ä¸€ä¸ªæˆ–è€…æ˜¯å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—</p></div><div class="note blue no-icon flat"><p>JavaScriptä¸­æœ‰ä¸¤ç§å¼‚æ­¥ä»»åŠ¡</p><ol><li>å®ä»»åŠ¡: scriptï¼ˆæ•´ä½“ä»£ç ï¼‰, setTimeout, setInterval, setImmediate, I/O, UI rendering</li><li>å¾®ä»»åŠ¡: process.nextTickï¼ˆNodejsï¼‰, Promises, Object.observe, MutationObserver</li></ol></div><h2 id="2-äº‹ä»¶å¾ªç¯-event-loop-æ˜¯ä»€ä¹ˆ"><a href="#2-äº‹ä»¶å¾ªç¯-event-loop-æ˜¯ä»€ä¹ˆ" class="headerlink" title="2. äº‹ä»¶å¾ªç¯(event-loop)æ˜¯ä»€ä¹ˆ?"></a>2. äº‹ä»¶å¾ªç¯(event-loop)æ˜¯ä»€ä¹ˆ?</h2><p>ä¸»çº¿ç¨‹ä»â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–æ‰§è¡Œäº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œè¿™ä¸ªæœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚æ­¤æœºåˆ¶å…·ä½“å¦‚ä¸‹:ä¸»çº¿ç¨‹ä¼šä¸æ–­ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰é¡ºåºå–ä»»åŠ¡æ‰§è¡Œï¼Œæ¯æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡éƒ½ä¼šæ£€æŸ¥microtaské˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼ˆæ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡çš„å…·ä½“æ ‡å¿—æ˜¯å‡½æ•°æ‰§è¡Œæ ˆä¸ºç©ºï¼‰ï¼Œå¦‚æœä¸ä¸ºç©ºåˆ™ä¼šä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ‰€æœ‰microtaskã€‚ç„¶åå†è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯å»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚</p><div class="note blue no-icon flat"><p>è¯¦ç»†è¯´æ˜</p><ol><li>é€‰æ‹©å½“å‰è¦æ‰§è¡Œçš„å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€å…ˆè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„å®ä»»åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å®ä»»åŠ¡å¯ä»¥é€‰æ‹©ï¼Œåˆ™ä¼šè·³è½¬è‡³microtaskçš„æ‰§è¡Œæ­¥éª¤ã€‚</li><li>å°†äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œå®ä»»åŠ¡è®¾ç½®ä¸ºå·²é€‰æ‹©çš„å®ä»»åŠ¡ã€‚</li><li>è¿è¡Œå®ä»»åŠ¡ã€‚</li><li>å°†äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œä»»åŠ¡è®¾ç½®ä¸ºnullã€‚</li><li>å°†è¿è¡Œå®Œçš„å®ä»»åŠ¡ä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ç§»é™¤ã€‚</li><li>microtasksæ­¥éª¤ï¼šè¿›å…¥microtaskæ£€æŸ¥ç‚¹ã€‚</li><li>æ›´æ–°ç•Œé¢æ¸²æŸ“ã€‚</li><li>è¿”å›ç¬¬ä¸€æ­¥ã€‚</li></ol></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p><strong>æ‰§è¡Œè¿›å…¥microtaskæ£€æŸ¥çš„çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹:</strong></p></div> <ol><li>è®¾ç½®è¿›å…¥microtaskæ£€æŸ¥ç‚¹çš„æ ‡å¿—ä¸ºtrueã€‚</li><li>å½“äº‹ä»¶å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼šé€‰æ‹©ä¸€ä¸ªæœ€å…ˆè¿›å…¥microtaské˜Ÿåˆ—çš„microtaskï¼›è®¾ç½®äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œä»»åŠ¡ä¸ºå·²é€‰æ‹©çš„microtaskï¼›è¿è¡Œmicrotaskï¼›è®¾ç½®äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œä»»åŠ¡ä¸ºnullï¼›å°†è¿è¡Œç»“æŸçš„microtaskä»microtaské˜Ÿåˆ—ä¸­ç§»é™¤ã€‚</li><li>å¯¹äºç›¸åº”äº‹ä»¶å¾ªç¯çš„æ¯ä¸ªç¯å¢ƒè®¾ç½®å¯¹è±¡ï¼ˆenvironment settings objectï¼‰,é€šçŸ¥å®ƒä»¬å“ªäº›promiseä¸ºrejectedã€‚</li><li>æ¸…ç†indexedDBçš„äº‹åŠ¡ã€‚</li><li>è®¾ç½®è¿›å…¥microtaskæ£€æŸ¥ç‚¹çš„æ ‡å¿—ä¸ºfalseã€‚</li></ol><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯:å½“å‰æ‰§è¡Œæ ˆæ‰§è¡Œå®Œæ¯•æ—¶ä¼šç«‹åˆ»å…ˆå¤„ç†æ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶, ç„¶åå†å»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶ã€‚åŒä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­, å¾®ä»»åŠ¡æ°¸è¿œåœ¨å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</strong></p></div> <p><img src="https://bu.dusays.com/2024/06/12/666985645ffc7.png" alt=""></p><h3 id="3-Event-loop-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#3-Event-loop-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="3. Event-loop æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>3. Event-loop æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3><h3 id="å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹"><a href="#å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹" class="headerlink" title="å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹"></a>å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;setTimeout1&quot;</span>);</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;setTimeout2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€è€ƒä¸€ä¸‹, è¿è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è¿è¡Œç»“æœä¸º:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">111</span></span><br><span class="line">setTimeout1</span><br><span class="line"><span class="number">222</span></span><br><span class="line">setTimeout2</span><br></pre></td></tr></table></figure><div class="tip bell"><p>ç»†è¯´ä¸€ä¸‹, JSå¼•æ“æ˜¯å¦‚ä½•æ‰§è¡Œè¿™æ®µä»£ç çš„:</p></div><div class="note blue no-icon flat"><ol><li>ä¸»çº¿ç¨‹ä¸Šæ²¡æœ‰éœ€è¦æ‰§è¡Œçš„ä»£ç </li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨å†ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>é¦–å…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—, å³ microtaské˜Ÿåˆ—ï¼Œå‘ç°æ­¤é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªpromiseçš„thenå›è°ƒï¼Œè¾“å‡º â€˜111â€™ã€‚</li><li>æ­¤æ—¶microtaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯, æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡º â€˜setTimeout1â€™,æ£€æŸ¥microtask é˜Ÿåˆ—ï¼Œå‘ç°é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œpromiseçš„thenå›è°ƒï¼Œè¾“å‡ºâ€™222â€™ï¼Œmicrotaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ã€‚</li><li>æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°, ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºâ€™setTimeout2â€™ã€‚</li></ol></div><h3 id="å†æ€è€ƒä¸€ä¸‹ä¸‹é¢ä»£ç çš„æ‰§è¡Œé¡ºåº"><a href="#å†æ€è€ƒä¸€ä¸‹ä¸‹é¢ä»£ç çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="å†æ€è€ƒä¸€ä¸‹ä¸‹é¢ä»£ç çš„æ‰§è¡Œé¡ºåº"></a>å†æ€è€ƒä¸€ä¸‹ä¸‹é¢ä»£ç çš„æ‰§è¡Œé¡ºåº</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout---0&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout---200&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;inner-setTimeout---0&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise5&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise3&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ€è€ƒä¸€ä¸‹, è¿è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è¿è¡Œç»“æœä¸º:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">script end</span><br><span class="line">promise1</span><br><span class="line">promise3</span><br><span class="line">promise2</span><br><span class="line"><span class="built_in">setTimeout</span>---<span class="number">0</span></span><br><span class="line"><span class="built_in">setTimeout</span>---<span class="number">200</span></span><br><span class="line">promise5</span><br><span class="line">inner-<span class="built_in">setTimeout</span>---<span class="number">0</span></span><br></pre></td></tr></table></figure><div class="tip bell"><p>æ¥è¯¦ç»†è¯´æ˜ä¸€ä¸‹, JSå¼•æ“æ˜¯å¦‚ä½•æ‰§è¡Œè¿™æ®µä»£ç çš„</p></div><div class="note blue no-icon flat"><ol><li>é¦–å…ˆé¡ºåºæ‰§è¡Œå®Œä¸»è¿›ç¨‹ä¸Šçš„åŒæ­¥ä»»åŠ¡ï¼Œç¬¬ä¸€å¥å’Œæœ€åä¸€å¥çš„console.logã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 200ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 200ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨å†ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œä¹‹åï¼Œé¦–å…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—, å³ microtaské˜Ÿåˆ—ï¼Œå‘ç°æ­¤é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªpromiseçš„thenå›è°ƒï¼Œè¾“å‡º â€˜promise1â€™ï¼Œç„¶åæ‰§è¡Œç¬¬äºŒä¸ªpromiseçš„thenå›è°ƒï¼Œè¾“å‡ºâ€™promise3â€™ï¼Œç”±äºç¬¬ä¸€ä¸ªpromiseçš„.then()çš„è¿”å›ä¾ç„¶æ˜¯promiseï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª.then()ä¼šæ”¾åˆ°microtaské˜Ÿåˆ—ç»§ç»­æ‰§è¡Œï¼Œè¾“å‡º â€˜promise2â€™ã€‚</li><li>æ­¤æ—¶microtaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯, æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡º â€˜setTimeoutâ€”-0â€™,æ£€æŸ¥microtask é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ã€‚</li><li>æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°, ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºâ€™setTimeoutâ€”-200â€™ã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå³ microtask é˜Ÿåˆ—ï¼Œå‘ç°æ­¤é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œpromiseçš„thenå›è°ƒï¼Œè¾“å‡ºâ€™promise5â€™ã€‚</li><li>æ­¤æ—¶microtaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œæ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeout çš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºï¼Œè¾“å‡ºâ€™inner-setTimeoutâ€”-0â€™ã€‚ä»£ç æ‰§è¡Œç»“æŸã€‚</li></ol></div><h2 id="4-ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop"><a href="#4-ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop" class="headerlink" title="4. ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop?"></a>4. ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop?</h2><div class="note blue no-icon flat"><p>å› ä¸º JavaScript æ˜¯å•çº¿ç¨‹çš„ã€‚å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ï¼ˆeventï¼‰ï¼Œç”¨æˆ·äº¤äº’ï¼ˆuser interactionï¼‰ï¼Œè„šæœ¬ï¼ˆscriptï¼‰ï¼Œæ¸²æŸ“ï¼ˆrenderingï¼‰ï¼Œç½‘ç»œï¼ˆnetworkingï¼‰ç­‰ï¼Œç”¨æˆ·ä»£ç†ï¼ˆuser agentï¼‰å¿…é¡»ä½¿ç”¨äº‹ä»¶å¾ªç¯ï¼ˆevent loopsï¼‰ã€‚</p><p>æœ€åæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ¬æ–‡ä»‹ç»çš„æ˜¯æµè§ˆå™¨çš„Event-loopï¼Œå› æ­¤åœ¨æµ‹è¯•éªŒè¯æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨æµè§ˆå™¨ç¯å¢ƒè¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œå¦‚æœä½¿ç”¨äº†nodeç¯å¢ƒï¼Œé‚£ä¹ˆç»“æœä¸ä¸€å®šæ˜¯å¦‚ä¸Šæ‰€è¯´ã€‚</p></div><h2 id="5-å‚è€ƒæ–‡ç« "><a href="#5-å‚è€ƒæ–‡ç« " class="headerlink" title="5. å‚è€ƒæ–‡ç« "></a>5. å‚è€ƒæ–‡ç« </h2><p><a href="https://segmentfault.com/a/1190000013233792">ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€é˜Ÿåˆ—ä»¥åŠè°ƒåº¦</a></p><p><a href="https://segmentfault.com/a/1190000010622146">ä»€ä¹ˆæ˜¯æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿ</a></p><p><a href="https://segmentfault.com/a/1190000013861128">ä¸€ç¯‡æ–‡ç« æ•™ä¼šä½ Event loopâ€”â€”æµè§ˆå™¨å’ŒNode</a></p><p><a href="https://www.ruanyifeng.com/blog/2014/10/event-loop.html">JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a></p>]]></content>
    
    
    <summary type="html">ğŸ“å½»åº•ææ‡‚æµè§ˆå™¨Event-loop</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºMac ç”µè„‘è®¿é—®ä¸äº† github é—®é¢˜è§£å†³å®è·µ</title>
    <link href="https://www.axcode.cn/posts/e65223e7.html"/>
    <id>https://www.axcode.cn/posts/e65223e7.html</id>
    <published>2024-06-12T04:21:13.000Z</published>
    <updated>2025-06-09T06:17:11.421Z</updated>
    
    <content type="html"><![CDATA[<div class="tip "><p>æ­¤æ–‡æ¥è‡ªäºç®€ä¹¦ä½œè€… <a href="https://www.jianshu.com/u/f4f1f0438249">ç‰©è”ç™½èœ</a> æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><div class="note blue no-icon flat"><p>å› ä¸ºåšå¼€å‘ï¼Œè®¿é—®githubç½‘ç«™æ˜¯å®¶å¸¸ä¾¿é¥­çš„äº‹ï¼Œä½†æ˜¯å› ä¸ºGitHubçš„IPåœ°å€æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å¯ä»¥è®¿é—®æœ‰æ—¶å€™åˆä¸è¡Œï¼Œè‹¦äºçƒ¦æ¼ç½‘ä¸Šæ‰¾äº†è§£å†³æ–¹æ¡ˆï¼Œè½¬è‡ªä»¥ä¸‹å¤§ä½¬çš„å‚è€ƒ ï¼š</p><p><a href="https://www.jianshu.com/p/b3559ac34590">githubè®¿é—®ä¸äº†é—®é¢˜è§£å†³</a> &amp;&amp; <a href="https://www.cnblogs.com/wanpi/p/14668174.html">å½»åº•è§£å†³å„ç§æµè§ˆå™¨è®¿é—®ä¸äº†GitHubé—®é¢˜</a></p><p><a href="https://blog.csdn.net/weixin_38629529/article/details/120788902">Macä¿®æ”¹hostsæ–‡ä»¶æ–¹æ³•é“¾æ¥</a></p><p>åŸºæœ¬æ“ä½œæ­¥éª¤å¦‚ä¸‹</p></div><h2 id="1-è·å–github-com"><a href="#1-è·å–github-com" class="headerlink" title="1. è·å–github.com"></a>1. è·å–github.com</h2><div class="note blue no-icon flat"><p>è®¿é—® <a href="https://www.ipaddress.com/website/github.com/">https://www.ipaddress.com/website/github.com/</a> è·å–ä¸€ä¸ªå¦‚ä¸‹å›¾çš„åœ°å€</p><p><img src="https://bu.dusays.com/2024/06/12/66692948896a5.png" alt=""></p></div><h2 id="2-è·å–github-global-ssl-fastly-net"><a href="#2-è·å–github-global-ssl-fastly-net" class="headerlink" title="2. è·å–github.global.ssl.fastly.net"></a>2. è·å–github.global.ssl.fastly.net</h2><div class="note blue no-icon flat"><p>è®¿é—® <a href="https://www.ipaddress.com/website/github.global.ssl.fastly.net/">https://www.ipaddress.com/website/github.global.ssl.fastly.net/</a> å–å¾—ä¸€ä¸ªæœ€æ–°çš„åœ°å€å¦‚ä¸‹</p><p><img src="https://bu.dusays.com/2024/06/12/666929e48155d.png" alt=""></p></div><h2 id="3-è·å–github-githubassets-com"><a href="#3-è·å–github-githubassets-com" class="headerlink" title="3. è·å–github.githubassets.com"></a>3. è·å–github.githubassets.com</h2><div class="note blue no-icon flat"><p>è®¿é—®<a href="https://www.ipaddress.com/website/github.githubassets.com/">https://www.ipaddress.com/website/github.githubassets.com/</a> å–å¾—ä¸€ä¸ªæœ€æ–°çš„åœ°å€å¦‚ä¸‹</p><p><img src="https://bu.dusays.com/2024/06/12/66692ab2e807a.png" alt=""></p></div><h2 id="4-ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå°†è·å¾—çš„IP-åœ°å€é…ç½®è¿›å»å¹¶åˆ·æ–°DNS"><a href="#4-ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå°†è·å¾—çš„IP-åœ°å€é…ç½®è¿›å»å¹¶åˆ·æ–°DNS" class="headerlink" title="4. ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå°†è·å¾—çš„IP åœ°å€é…ç½®è¿›å»å¹¶åˆ·æ–°DNS"></a>4. ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå°†è·å¾—çš„IP åœ°å€é…ç½®è¿›å»å¹¶åˆ·æ–°DNS</h2><div class="note blue no-icon flat"><p>æ­¤æ–‡åªé’ˆå¯¹Macï¼Œwindowsç³»ç»Ÿçš„åŒå­¦è¯·çœ‹ <a href="https://www.cnblogs.com/wanpi/p/14668174.html">å½»åº•è§£å†³å„ç§æµè§ˆå™¨è®¿é—®ä¸äº†GitHubé—®é¢˜</a>ã€‚</p><p>Macç‰ˆhostsæ–‡ä»¶ä¿®æ”¹è¦é€šè¿‡ VI æ“ä½œæ‰å¯ä»¥æ·»åŠ è¿›å»ï¼Œä¸ç„¶æ”¹ä¸äº†ã€‚</p><ol><li>ç»ˆç«¯è¾“å…¥ sudo vi /etc/hosts</li><li>è¾“å…¥ç”µè„‘ç”¨æˆ·å¯†ç </li><li>è¾“å…¥iï¼Œè¿›å…¥æ’å…¥æ¨¡å¼</li><li>å°†ä¸Šè¿°åœ°å€å¤åˆ¶ç²˜è´´è¿›å»</li><li>æŒ‰Escé€€å‡ºæ’å…¥æ¨¡å¼ï¼Œç„¶åè¾“å…¥ :wqï¼Œ Enterä¿å­˜é€€å‡º</li><li>ç»ˆç«¯æ‰§è¡Œ sudo killall -HUP mDNSResponder åˆ·æ–°dns</li></ol></div><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>è¿‡äº†ä¸€æ®µæ—¶é—´åªè¦æ„Ÿè§‰githubæœ‰æ—¶å€™éš¾è®¿é—®äº†ï¼Œé‡æ–°æ‰§è¡Œä¸€ä¸‹<code>sudo killall -HUP mDNSResponder</code> åˆ·æ–°dnså°±å¥½äº†ï¼Œå¯ä»¥æŠŠè¿™ä¸ªæŒ‡ä»¤ä¿å­˜ä¸€ä¸‹ã€‚</p><p>å› ä¸ºgithub IPåœ°å€ä¼šå˜åŒ–ï¼Œæ‰€ä»¥æˆ‘æˆªå›¾çš„IPåœ°å€ä¼šæœ‰ä¸åŒï¼Œä½†æ²¡å…³ç³»ï¼Œå¤åˆ¶ä½ è®¿é—®å¾—åˆ°çš„IPåœ°å€å°±å¯ä»¥äº†ï¼Œå¤§åŠŸå‘Šæˆã€‚</p><p>ä¼˜å…ˆè€ƒè™‘ç”¨Chromeæµè§ˆå™¨æ‰“å¼€å“ˆã€‚</p></div><h2 id="5-https-stackoverflow-com-è®¿é—®è¢«å¢™è§£å†³åŠæ³•"><a href="#5-https-stackoverflow-com-è®¿é—®è¢«å¢™è§£å†³åŠæ³•" class="headerlink" title="5. https://stackoverflow.com/ è®¿é—®è¢«å¢™è§£å†³åŠæ³•"></a>5. <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fstackoverflow.com%2F">https://stackoverflow.com/</a> è®¿é—®è¢«å¢™è§£å†³åŠæ³•</h2><div class="note blue no-icon flat"><p>å‚è€ƒ <a href="https://www.codetd.com/article/4947217">Stack Overflow æ‰“ä¸å¼€ï¼Œç™»å½•ä¸ä¸Šï¼Œç«ç‹å’ŒChromeæµè§ˆå™¨çš„å®Œç¾è§£å†³æ–¹æ¡ˆ</a></p><p><strong>Firefox</strong>æ’ä»¶ <a href="https://addons.mozilla.org/en-US/firefox/addon/replace-google-cdn/">æ’ä»¶1</a> <a href="https://addons.mozilla.org/en-US/firefox/addon/google-cdn-replace/">æ’ä»¶2</a></p><p><strong>Chrome</strong> <a href="https://imgurl.ninedvr.com/app/ReplaceGoogleCDN-master.zip">æ‹“å±•ç¨‹åºæ’ä»¶ä¸‹è½½</a> è§£å‹ä¹‹åå°†<code>extension``extension-v2</code>æ·»åŠ åˆ°æ‰©å±•ç¨‹åºä¸­ã€‚</p><p><a href="https://mirrors.ustc.edu.cn/">é«˜æ ¡å¼€æºé•œåƒæº</a></p></div>]]></content>
    
    
    <summary type="html">ğŸ¥å…³äºMac ç”µè„‘è®¿é—®ä¸äº† github é—®é¢˜è§£å†³å®è·µ</summary>
    
    
    
    <category term="Git" scheme="https://www.axcode.cn/categories/Git/"/>
    
    
    <category term="Git" scheme="https://www.axcode.cn/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>JSåå¤§æ’åºç®—æ³•</title>
    <link href="https://www.axcode.cn/posts/69b07b28.html"/>
    <id>https://www.axcode.cn/posts/69b07b28.html</id>
    <published>2024-06-11T07:12:18.000Z</published>
    <updated>2024-06-12T13:15:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ’åºç®—æ³•è¯´æ˜"><a href="#æ’åºç®—æ³•è¯´æ˜" class="headerlink" title="æ’åºç®—æ³•è¯´æ˜"></a>æ’åºç®—æ³•è¯´æ˜</h2><div class="note blue no-icon flat"><p>1.å¯¹äºè¯„è¿°ç®—æ³•ä¼˜åŠ£æœ¯è¯­çš„è¯´æ˜</p><ul><li><strong>ç¨³å®š</strong>ï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œè€Œa=bï¼Œæ’åºåaä»ç„¶åœ¨bçš„å‰é¢ï¼›</li><li><strong>ä¸ç¨³å®š</strong>ï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œa=bï¼Œæ’åºåaå¯èƒ½ä¼šå‡ºç°åœ¨bçš„åé¢ï¼›</li><li><strong>å†…æ’åº</strong>ï¼šæ‰€æœ‰æ’åºæ“ä½œéƒ½åœ¨å†…å­˜ä¸­å®Œæˆï¼›</li><li><strong>å¤–æ’åº</strong>ï¼šç”±äºæ•°æ®å¤ªå¤§ï¼Œå› æ­¤æŠŠæ•°æ®æ”¾åœ¨ç£ç›˜ä¸­ï¼Œè€Œæ’åºé€šè¿‡ç£ç›˜å’Œå†…å­˜çš„æ•°æ®ä¼ è¾“æ‰èƒ½è¿›è¡Œï¼›</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šä¸€ä¸ªç®—æ³•æ‰§è¡Œæ‰€è€—è´¹çš„æ—¶é—´ï¼›</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šè¿è¡Œå®Œæˆä¸€ä¸ªç¨‹åºæ‰€éœ€å†…å­˜çš„å¤§å°ã€‚</li></ul><p>2.æ’åºç®—æ³•å›¾ç‰‡æ€»ç»“</p><p><img src="https://bu.dusays.com/2024/06/11/6667fab8e45a9.webp" alt=""></p></div><h2 id="1-å†’æ³¡æ’åº"><a href="#1-å†’æ³¡æ’åº" class="headerlink" title="1.å†’æ³¡æ’åº"></a>1.å†’æ³¡æ’åº</h2><div class="note info modern no-icon flat"><ol><li>æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå‰ä¸€ä¸ªæ¯”åä¸€ä¸ªå¤§ï¼Œåˆ™äº¤æ¢ä½ç½®ã€‚</li><li>ç¬¬ä¸€è½®çš„æ—¶å€™æœ€åä¸€ä¸ªå…ƒç´ åº”è¯¥æ˜¯æœ€å¤§çš„ã€‚</li><li>æŒ‰ç…§æ­¥éª¤ä¸€çš„æ–¹æ³•ç»§ç»­è¿›è¡Œç›¸é‚»ä¸¤ä¸ªå…ƒç´ çš„æ¯”è¾ƒï¼Œè¿™ä¸ªæ—¶å€™ç”±äºæœ€åçš„ä¸€ä¸ªå…ƒç´ å·²ç»æ˜¯æœ€å¤§çš„äº†ï¼Œæ‰€ä»¥æœ€åä¸€ä¸ªå…ƒç´ ä¸ç”¨æ¯”è¾ƒã€‚</li></ol></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sort</span>(<span class="params">elements</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.<span class="property">length</span>;i++)&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;elements.<span class="property">length</span>-<span class="number">1</span>-i;j++)&#123;</span><br><span class="line">          <span class="keyword">if</span>(elements[j] &gt; elements[j+<span class="number">1</span>])&#123;</span><br><span class="line">               <span class="keyword">var</span>  swap=elements[j];</span><br><span class="line">               elements[j]=elements[j+<span class="number">1</span>];</span><br><span class="line">               elements[j+<span class="number">1</span>]=swap;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;before&#x27;</span>+elements);</span><br><span class="line"><span class="title function_">sort</span>(elements);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;after&#x27;</span>+elements);</span><br></pre></td></tr></table></figure><h2 id="2-å¿«é€Ÿæ’åº"><a href="#2-å¿«é€Ÿæ’åº" class="headerlink" title="2.å¿«é€Ÿæ’åº"></a>2.å¿«é€Ÿæ’åº</h2><div class="note info modern no-icon flat"><p>å¿«é€Ÿæ’åºæ˜¯å¯¹å†’æ³¡æ’åºçš„ä¸€ç§æ”¹è¿›ï¼Œç¬¬ä¸€è¶Ÿæ’åºæ—¶å°†æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ¯”å¦ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åé€’å½’è°ƒç”¨ï¼Œåœ¨ä¸¤è¾¹éƒ½å®è¡Œå¿«é€Ÿæ’åºã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">elements</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(elements.<span class="property">length</span> &lt;=<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> elements;  </span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">var</span> pivotIndex=<span class="title class_">Math</span>.<span class="title function_">floor</span>(elements.<span class="property">length</span> / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> pivot=elements.<span class="title function_">splice</span>(pivotIndex,<span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">var</span> left=[];</span><br><span class="line">  <span class="keyword">var</span> right=[];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.<span class="property">length</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(elements[i] &lt; pivot)&#123;</span><br><span class="line">        left.<span class="title function_">push</span>(elements[i]);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       right.<span class="title function_">push</span>(elements[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line"><span class="keyword">return</span>  <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot],<span class="title function_">quickSort</span>(right));</span><br><span class="line"><span class="comment">//concat()æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–è€…å¤šä¸ªæ•°ç»„ï¼›è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜ç°æœ‰çš„æ•°ç»„ï¼Œè€Œä»…ä»…ä¼šè¿”å›è¢«è¿æ¥æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">quickSort</span>(elements)); </span><br></pre></td></tr></table></figure><h2 id="3-æ’å…¥æ’åº"><a href="#3-æ’å…¥æ’åº" class="headerlink" title="3.æ’å…¥æ’åº"></a>3.æ’å…¥æ’åº</h2><div class="note info modern no-icon flat"><ol><li>ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼›</li><li>å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼›</li><li>å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åŠ¨åˆ°ä¸‹ä¸€ä½ç½®ï¼›</li><li>é‡å¤æ­¥éª¤3ï¼Œç›´æ¥æ‰¾æ‰“å·²æ’åºçš„å…ƒç´ å¤§å°æˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼›</li><li>å°†æ–°å…ƒç´ æ’åˆ°ä¸‹ä¸€ä½ç½®ï¼›</li><li>é‡å¤æ­¥éª¤2</li></ol></div><h3 id="3-1-æ­£å¸¸çš„æ’å…¥æ’åº"><a href="#3-1-æ­£å¸¸çš„æ’å…¥æ’åº" class="headerlink" title="3.1 æ­£å¸¸çš„æ’å…¥æ’åº"></a>3.1 æ­£å¸¸çš„æ’å…¥æ’åº</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sort</span>(<span class="params">elements</span>)&#123;</span><br><span class="line">    <span class="comment">// å‡è®¾ç¬¬0ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæœ‰åºæ•°åˆ—ï¼Œç¬¬1ä¸ªä»¥åçš„æ˜¯æ— åºæ•°åˆ—ï¼Œ</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥ä»ç¬¬1ä¸ªå…ƒç´ å¼€å§‹å°†æ— åºæ•°åˆ—çš„å…ƒç´ æ’å…¥åˆ°æœ‰åºæ•°åˆ—ä¸­å»</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">1</span>; i&lt;=elements.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// å‡åº</span></span><br><span class="line">        <span class="keyword">if</span>(elements[i] &lt; elements[i-<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="comment">// å–å‡ºæ— åºæ•°åˆ—ä¸­çš„ç¬¬iä¸ªä½œä¸ºè¢«æ’å…¥å…ƒç´ </span></span><br><span class="line">            <span class="keyword">var</span> guard=elements[i];</span><br><span class="line">            <span class="comment">//è®°ä½æœ‰åºæ•°åˆ—çš„æœ€åä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸”å°†æœ‰åºæ•°åˆ—çš„ä½ç½®æ‰©å¤§ä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">var</span> j=i-<span class="number">1</span>;</span><br><span class="line">            elements[i]=elements[j];</span><br><span class="line">            <span class="comment">// æ¯”å¤§å°;æ‰¾åˆ°è¢«æ’å…¥å…ƒç´ æ‰€åœ¨ä½ç½®</span></span><br><span class="line">            <span class="keyword">while</span> (j&gt;=<span class="number">0</span> &amp;&amp; guard &lt;elements[j]) &#123;</span><br><span class="line">                elements[j+<span class="number">1</span>]=elements[j];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            elements[j+<span class="number">1</span>]=guard; <span class="comment">//æ’å…¥</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;æ²¡è°ƒç”¨ä¹‹å‰ï¼š&#x27;</span>+elements);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>);</span><br><span class="line"><span class="title function_">sort</span>(elements);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;è¢«è°ƒç”¨ä¹‹åï¼š&#x27;</span>+elements);</span><br></pre></td></tr></table></figure><h3 id="3-2-äºŒåˆ†æŸ¥æ‰¾"><a href="#3-2-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="3.2 äºŒåˆ†æŸ¥æ‰¾"></a>3.2 äºŒåˆ†æŸ¥æ‰¾</h3><div class="note info modern no-icon flat"><p>äºŒåˆ†æŸ¥æ‰¾ï¼Œä¹Ÿä¸ºæŠ˜åŠæŸ¥æ‰¾ï¼Œé¦–å…ˆè¦æ‰¾åˆ°ä¸€ä¸ªä¸­é—´å€¼ï¼Œé€šè¿‡ä¸ä¸­é—´å€¼çš„æ¯”è¾ƒï¼Œå¤§çš„æ”¾å³ï¼Œå°çš„æ”¾å·¦ã€‚å†å‘ä¸¤è¾¹ä¸­å¯»æ‰¾ä¸­é—´å€¼ï¼ŒæŒç»­ä»¥ä¸Šæ“ä½œã€‚ç›´åˆ°æ‰¾åˆ°å·¦å³ä½ç½®ä¸ºæ­¢ã€‚</p></div><h4 id="3-2-1-é€’å½’æ–¹å¼"><a href="#3-2-1-é€’å½’æ–¹å¼" class="headerlink" title="3.2.1 é€’å½’æ–¹å¼"></a>3.2.1 é€’å½’æ–¹å¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">data,dest,start,end</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> end=end || data.<span class="property">length</span>-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> start=start || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> m=<span class="title class_">Math</span>.<span class="title function_">floor</span>((start + end)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(data[m]==dest)&#123;</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dest &lt; data[m])&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">binarySearch</span>(data,dest,<span class="number">0</span>,m-<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">binarySearch</span>(data,dest,m+<span class="number">1</span>,end);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">binarySearch</span>(arr,<span class="number">4</span>));</span><br></pre></td></tr></table></figure><h4 id="3-2-2-éé€’å½’æ–¹å¼"><a href="#3-2-2-éé€’å½’æ–¹å¼" class="headerlink" title="3.2.2 éé€’å½’æ–¹å¼"></a>3.2.2 éé€’å½’æ–¹å¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">data,dest</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> h=data.<span class="property">length</span>-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> l=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l&lt;=h) &#123;</span><br><span class="line">        <span class="keyword">var</span> m=<span class="title class_">Math</span>.<span class="title function_">floor</span>((h+l)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(data[m] ==dest)&#123;</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dest &gt;data[m])&#123;</span><br><span class="line">            l=m+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            h=m-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">binarySearch</span>(arr,<span class="number">4</span>));</span><br></pre></td></tr></table></figure><h2 id="4-é€‰æ‹©æ’åº"><a href="#4-é€‰æ‹©æ’åº" class="headerlink" title="4. é€‰æ‹©æ’åº"></a>4. é€‰æ‹©æ’åº</h2><div class="note info modern no-icon flat"><p>é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å¤§ï¼ˆå°ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å¤§ï¼ˆå°ï¼‰å…ƒç´ ï¼Œæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åˆ—å®Œæ¯•ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">selectionSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> len=arr.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">var</span> minIndex,temp;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;é€‰æ‹©æ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;len-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        minIndex=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>;j&lt;len;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;arr[minIndex])&#123; <span class="comment">//å¯»æ‰¾æœ€å°æ•°</span></span><br><span class="line">                minIndex=j; <span class="comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp=arr[i];</span><br><span class="line">        arr[i]=arr[minIndex];</span><br><span class="line">        arr[minIndex]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;é€‰æ‹©æ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">selectionSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="5-å¸Œå°”æ’åº"><a href="#5-å¸Œå°”æ’åº" class="headerlink" title="5. å¸Œå°”æ’åº"></a>5. å¸Œå°”æ’åº</h2><div class="note info modern no-icon flat"><p>å…ˆå°†è¿™ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åº</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">shellSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> len=arr.<span class="property">length</span>,temp,gap=<span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;å¸Œå°”æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">while</span> (gap&lt;len/<span class="number">5</span>) &#123; <span class="comment">//åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—</span></span><br><span class="line">        gap=gap*<span class="number">5</span>+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(gap;gap&gt;<span class="number">0</span>;gap=<span class="title class_">Math</span>.<span class="title function_">floor</span>(gap /<span class="number">5</span>))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=gap;i&lt;len;i++)&#123;</span><br><span class="line">            temp=arr[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i-gap; j &gt;=<span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j-=gap)&#123;</span><br><span class="line">                arr[j+gap]=arr[j];</span><br><span class="line">            &#125;</span><br><span class="line">            arr[j+gap]=temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;å¸Œå°”æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">shellSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="6-å½’å¹¶æ’åº"><a href="#6-å½’å¹¶æ’åº" class="headerlink" title="6. å½’å¹¶æ’åº"></a>6. å½’å¹¶æ’åº</h2><div class="note info modern no-icon flat"><p>å½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹æ³•ï¼Œå°†ä»¥æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼Œå³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µæœ‰åºã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSort</span>(<span class="params">arr</span>)&#123; <span class="comment">//é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> len=arr.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">if</span>(len &lt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> middle=<span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>),</span><br><span class="line">          left=arr.<span class="title function_">slice</span>(<span class="number">0</span>,middle),</span><br><span class="line">          right=arr.<span class="title function_">slice</span>(middle);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">merge</span>(<span class="title function_">mergeSort</span>(left),<span class="title function_">mergeSort</span>(right));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">left,right</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> result=[];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;å½’å¹¶æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">while</span>(left.<span class="property">length</span> &amp;&amp; right.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(left[<span class="number">0</span>]&lt;=right[<span class="number">0</span>])&#123;</span><br><span class="line">            result.<span class="title function_">push</span>(left.<span class="title function_">shift</span>());</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result.<span class="title function_">push</span>(right.<span class="title function_">shift</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">while</span>(left.<span class="property">length</span>) &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(left.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (right.<span class="property">length</span>) &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(right.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;å½’å¹¶æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">mergeSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="7-å †æ’åº"><a href="#7-å †æ’åº" class="headerlink" title="7. å †æ’åº"></a>7. å †æ’åº</h2><div class="note info modern no-icon flat"><p>å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§ã€ã€‘æ’åºç®—æ³•ã€‚å †ç§¯æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼Œå³å­èŠ‚ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„èŠ‚ç‚¹ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">heapSort</span>(<span class="params">array</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å †æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(array).<span class="title function_">slice</span>(<span class="number">8</span>,-<span class="number">1</span>)===<span class="string">&#x27;Array&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> heapSize=array.<span class="property">length</span>,temp;<span class="comment">//å»ºå †</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="title class_">Math</span>.<span class="title function_">floor</span>(heapSize / <span class="number">2</span>) -<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="title function_">heapify</span>(array,i,heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=heapSize-<span class="number">1</span>;j&gt;=<span class="number">1</span>;j--)&#123;<span class="comment">//å †æ’åº</span></span><br><span class="line">            temp=array[<span class="number">0</span>];</span><br><span class="line">            array[<span class="number">0</span>]=array[j];</span><br><span class="line">            array[j]=temp;</span><br><span class="line">            <span class="title function_">heapify</span>(array,<span class="number">0</span>,--heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å †æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;array is not an Array!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">heapify</span>(<span class="params">arr,x,len</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(arr).<span class="title function_">slice</span>(<span class="number">8</span>,-<span class="number">1</span>)===<span class="string">&#x27;Array&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> x===<span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> l = <span class="number">2</span> * x + <span class="number">1</span>,</span><br><span class="line">            r = <span class="number">2</span> * x + <span class="number">2</span>,</span><br><span class="line">            largest = x,</span><br><span class="line">            temp;</span><br><span class="line">        <span class="keyword">if</span>(l &lt; len &amp;&amp; arr[l] &gt; arr[largest])&#123;</span><br><span class="line">            largest = l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(r &lt; len &amp;&amp; arr[r] &gt; arr[largest])&#123;</span><br><span class="line">            largest = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(largest != x)&#123;</span><br><span class="line">            temp = arr[x];</span><br><span class="line">            arr[x] = arr[largest];</span><br><span class="line">            arr[largest] = temp;</span><br><span class="line">            <span class="title function_">heapify</span>(arr,largest,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;arr is not Array or x is not a number!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">91</span>,<span class="number">60</span>,<span class="number">96</span>,<span class="number">86</span>,<span class="number">13</span>,<span class="number">73</span>,<span class="number">63</span>,<span class="number">40</span>,<span class="number">30</span>,<span class="number">71</span>,<span class="number">88</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">heapSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="8-è®¡æ•°æ’åº"><a href="#8-è®¡æ•°æ’åº" class="headerlink" title="8. è®¡æ•°æ’åº"></a>8. è®¡æ•°æ’åº</h2><div class="note info modern no-icon flat"><p>è®¡æ•°æ’åºä½¿ç”¨ä¸€ç§é¢å¤–çš„æ•°ç»„C,å…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å¾…æ’åºæ•°ç»„Aä¸­å€¼ç­‰äºiçš„å…ƒç´ çš„ä¸ªæ•°ã€‚ç„¶åæ ¹æ®æ•°ç»„Cæ¥å°†æ•°ç»„Aä¸­çš„å…ƒç´ æ’åºåˆ°æ­£ç¡®çš„ä½ç½®ã€‚å®ƒåªèƒ½å¯¹æ•´æ•°è¿›è¡Œæ’åºã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">countingSort</span>(<span class="params">array</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> len = array.<span class="property">length</span>, B = [],C = [],</span><br><span class="line">         min = max =array[<span class="number">0</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;è®¡æ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        min = min &lt;= array[i] ? min : array[i];</span><br><span class="line">        max = max &gt;= array[i] ? max : array[i];</span><br><span class="line">        C[array[i]] = C[array[i]] ? C[array[i]] + <span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = min; j &lt; max; j++) &#123;</span><br><span class="line">        C[j+<span class="number">1</span>] = (C[j + <span class="number">1</span>] || <span class="number">0</span>) + (C[j] || <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k = len - <span class="number">1</span>; k &gt; <span class="number">0</span>; k--) &#123;</span><br><span class="line">        B[C[array[k]] - <span class="number">1</span>] =array[k];</span><br><span class="line">        C[array[k]]--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;è®¡æ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> B;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">69</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">6</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">countingSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="9-æ¡¶æ’åº"><a href="#9-æ¡¶æ’åº" class="headerlink" title="9. æ¡¶æ’åº"></a>9. æ¡¶æ’åº</h2><div class="note info modern no-icon flat"><p>å‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒ,å°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯yidiguiä»¥é€’å½’çš„æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’ï¼‰ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bucketSort</span>(<span class="params">array,num</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(array.<span class="property">length</span> &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len = array.<span class="property">length</span>,buckets = [],result = [],</span><br><span class="line">    min = max =array[<span class="number">0</span>],regex =<span class="string">&#x27;/^[1-9]+[0-9]*$/&#x27;</span>,space,n=<span class="number">0</span>;</span><br><span class="line">    num = num || ((num &gt; <span class="number">1</span> &amp;&amp; regex.<span class="title function_">test</span>(num))?num : <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++)&#123;</span><br><span class="line">        min = min &lt;= array[i] ? min :array[i];</span><br><span class="line">        max = max &gt;=array[i] ? max : array[i];</span><br><span class="line">    &#125;</span><br><span class="line">    space = (max - min + <span class="number">1</span>) / num;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j =<span class="number">0</span>; j &lt; len; j++)&#123;</span><br><span class="line">        <span class="keyword">var</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>((array[j] - min) / space);</span><br><span class="line">        <span class="keyword">if</span>(buckets[index])&#123;<span class="comment">//éç©ºæ¡¶ï¼Œæ’å…¥æ’åº</span></span><br><span class="line">            <span class="keyword">var</span> k = buckets[index].<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (k &gt;= <span class="number">0</span> &amp;&amp; buckets[index][k] &gt; array[j]) &#123;</span><br><span class="line">                buckets[index][k+<span class="number">1</span>] = buckets[index][k];</span><br><span class="line">                k--;</span><br><span class="line">            &#125;</span><br><span class="line">            buckets[index][k+<span class="number">1</span>]=array[j];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//ç©ºæ¡¶ï¼Œåˆå§‹åŒ–</span></span><br><span class="line">            buckets[index] = [];</span><br><span class="line">            buckets[index].<span class="title function_">push</span>(array[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (n &lt; num) &#123;</span><br><span class="line">        result = result.<span class="title function_">concat</span>(buckets[n]);</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">55</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">45</span>,<span class="number">33</span>,<span class="number">87</span>,<span class="number">98</span>,<span class="number">68</span>,<span class="number">58</span>,<span class="number">70</span>,<span class="number">66</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">bucketSort</span>(arr,<span class="number">4</span>));</span><br></pre></td></tr></table></figure><h2 id="10-åŸºæ•°æ’åº"><a href="#10-åŸºæ•°æ’åº" class="headerlink" title="10. åŸºæ•°æ’åº"></a>10. åŸºæ•°æ’åº</h2><div class="note info modern no-icon flat"><p>åŸºæ•°æ’åºæ˜¯æŒ‰ç…§ä½ä½å…ˆæ’åºï¼Œç„¶åæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æ’åºï¼Œç„¶åå†æ”¶é›†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æœ€é«˜ä½ï¼Œæœ‰æ—¶å€™æœ‰äº›å±æ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æ’åºï¼Œæœ€åçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½ä¼˜å…ˆçº§é«˜çš„æ’åœ¨å‰é¢ï¼ŒåŸºæ•°æ’åºåŸºäºåˆ†åˆ«æ’åºï¼Œåˆ†åˆ«æ”¶é›†ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šçš„ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">radixSort</span>(<span class="params">arr,maxDight</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> mod = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> dev =<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> counter = [];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;åŸºæ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxDight; i++, dev *= <span class="number">10</span>, mod *= <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arr.<span class="property">length</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">var</span> bucket= <span class="built_in">parseInt</span>((arr[j] % mod) / dev);</span><br><span class="line">            <span class="keyword">if</span>(counter[bucket] == <span class="literal">null</span>)&#123;</span><br><span class="line">                counter[bucket] = [];</span><br><span class="line">            &#125;</span><br><span class="line">            counter[bucket].<span class="title function_">push</span>(arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> pos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j&lt; counter.<span class="property">length</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">var</span> value = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">if</span>(counter[j] != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">while</span> ((value = counter[j].<span class="title function_">shift</span>())!=<span class="literal">null</span>) &#123;</span><br><span class="line">                    arr[pos++] = value;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;åŸºæ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">55</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">45</span>,<span class="number">33</span>,<span class="number">87</span>,<span class="number">98</span>,<span class="number">68</span>,<span class="number">58</span>,<span class="number">70</span>,<span class="number">66</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">radixSort</span>(arr,<span class="number">2</span>));</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ­JSåå¤§æ’åºç®—æ³•</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>vueé¡¹ç›®ä½¿ç”¨Base64åŠ å¯†è§£å¯†</title>
    <link href="https://www.axcode.cn/posts/57e6be25.html"/>
    <id>https://www.axcode.cn/posts/57e6be25.html</id>
    <published>2024-06-10T14:36:00.000Z</published>
    <updated>2024-06-12T13:15:47.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info flat"><p>æœ¬æ–‡æ¥è‡ªç®€ä¹¦<a href='https://www.jianshu.com/u/5cc9c8608284'>5cc9c8608284</a>ï¼Œæœ¬ç«™åªåšè®°å½•ï¼Œå·²æ ‡æ˜å‡ºå¤„ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><h2 id="ä¸€ã€å‰ç½®çŸ¥è¯†"><a href="#ä¸€ã€å‰ç½®çŸ¥è¯†" class="headerlink" title="ä¸€ã€å‰ç½®çŸ¥è¯†"></a>ä¸€ã€å‰ç½®çŸ¥è¯†</h2><h3 id="1-window-btoa-æ–¹æ³•"><a href="#1-window-btoa-æ–¹æ³•" class="headerlink" title="1.window btoa() æ–¹æ³•"></a>1.<code>window btoa()</code> æ–¹æ³•</h3><div class="note success no-icon flat"><p><code>btoa()</code>æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª base-64 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ã€‚<br> è¯¥æ–¹æ³•ä½¿ç”¨ â€œA-Zâ€, â€œa-zâ€, â€œ0-9â€, â€œ+â€, â€œ/â€œ å’Œ â€œ=â€ å­—ç¬¦æ¥ç¼–ç å­—ç¬¦ä¸²ã€‚<br> ä¾‹å¦‚:</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;i love coding&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> enc = <span class="variable language_">window</span>.<span class="title function_">btoa</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(enc);<span class="comment">//æ‰“å°ç»“æœä¸º &#x27;aSBsb3ZlIGNvZGluZw==&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="2-window-atob-æ–¹æ³•"><a href="#2-window-atob-æ–¹æ³•" class="headerlink" title="2.window atob() æ–¹æ³•"></a>2.<code>window atob()</code> æ–¹æ³•</h3><div class="note success no-icon flat"><p>å¯¹åº”çš„ï¼Œatob() æ–¹æ³•ç”¨äºè§£ç ä½¿ç”¨ base-64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚<br>atob() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªé€šè¿‡ btoa() æ–¹æ³•ç¼–ç çš„å­—ç¬¦ä¸².<br>ä¾‹å¦‚:</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> encStr=<span class="string">&#x27;aSBsb3ZlIGNvZGluZw==&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> decStr=<span class="variable language_">window</span>.<span class="title function_">atob</span>(encStr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(decStr);<span class="comment">//æ‰“å°ç»“æœä¸º i love coding</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€ä½¿ç”¨js-base64è¿›è¡ŒåŠ å¯†è§£å¯†"><a href="#äºŒã€ä½¿ç”¨js-base64è¿›è¡ŒåŠ å¯†è§£å¯†" class="headerlink" title="äºŒã€ä½¿ç”¨js-base64è¿›è¡ŒåŠ å¯†è§£å¯†"></a>äºŒã€ä½¿ç”¨js-base64è¿›è¡ŒåŠ å¯†è§£å¯†</h2><h3 id="1-å®‰è£…ä¾èµ–"><a href="#1-å®‰è£…ä¾èµ–" class="headerlink" title="1.å®‰è£…ä¾èµ–"></a>1.å®‰è£…ä¾èµ–</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save js-base64</span><br></pre></td></tr></table></figure><h3 id="2-å¼•å…¥ä¾èµ–"><a href="#2-å¼•å…¥ä¾èµ–" class="headerlink" title="2.å¼•å…¥ä¾èµ–"></a>2.å¼•å…¥ä¾èµ–</h3><p>ä¸€èˆ¬æ˜¯åœ¨å¤„ç†ç™»å½•è¯·æ±‚çš„é¡µé¢å¼•å…¥<code>js-base64</code>,ä¸è¿‡å¦‚æœä½ çš„é¡µé¢ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ç”¨åˆ°åŠ å¯†è§£å¯†ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨<code>main.js</code>ä¸­å¼•å…¥ä¾èµ–<br>ï¼ˆ1ï¼‰åœ¨å•ä¸ªé¡µé¢å¼•å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Base64</span> = <span class="built_in">require</span>(<span class="string">&#x27;js-base64&#x27;</span>).<span class="property">Base64</span></span><br><span class="line"><span class="comment">//æˆ–è€…import &#123;Base64&#125; from &#x27;js-base64&#x27;</span></span><br><span class="line"><span class="title class_">Base64</span>.<span class="title function_">encode</span>(password);<span class="comment">//åŠ å¯†</span></span><br><span class="line"><span class="title class_">Base64</span>.<span class="title function_">decode</span>(password);<span class="comment">//è§£å¯†</span></span><br></pre></td></tr></table></figure><p>(2)åœ¨<code>main.js</code>ä¸­å¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &quot;vue&quot;</span><br><span class="line">import &#123;Base64&#125; from &#x27;js-base64&#x27;</span><br><span class="line">Vue.prototype.$Base64 = Base64;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨å•é¡µé¢ç»„ä»¶ä¸­ä½¿ç”¨:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">let</span> encPass=<span class="variable language_">this</span>.<span class="property">$Base64</span>.<span class="title function_">encode</span>(password);<span class="comment">//åŠ å¯†</span></span><br><span class="line"><span class="keyword">let</span> decPass=<span class="variable language_">this</span>.<span class="property">$Base64</span>.<span class="title function_">decode</span>(encPass);<span class="comment">//è§£å¯†</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ‡vueé¡¹ç›®ä½¿ç”¨Base64åŠ å¯†è§£å¯†</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>JSæ ¹æ®èº«ä»½è¯å·ç è®¡ç®—å¹´é¾„å’Œæ€§åˆ«</title>
    <link href="https://www.axcode.cn/posts/4e9b3be9.html"/>
    <id>https://www.axcode.cn/posts/4e9b3be9.html</id>
    <published>2024-06-10T11:11:20.000Z</published>
    <updated>2024-06-12T08:45:09.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">analyzeIDCard</span>(<span class="params">IDCord</span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> sexAndAge = &#123;&#125;;</span><br><span class="line">   <span class="comment">//è·å–ç”¨æˆ·èº«ä»½è¯å·ç </span></span><br><span class="line">   <span class="keyword">var</span> userCard = <span class="title class_">IDCord</span>;</span><br><span class="line">   <span class="comment">//å¦‚æœç”¨æˆ·èº«ä»½è¯å·ç ä¸ºundefinedåˆ™è¿”å›ç©º</span></span><br><span class="line">   <span class="keyword">if</span>(!userCard)&#123;</span><br><span class="line">     <span class="keyword">return</span> sexAndAge;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// è·å–æ€§åˆ«</span></span><br><span class="line">   <span class="keyword">if</span>(<span class="built_in">parseInt</span>(userCard.<span class="title function_">substr</span>(<span class="number">16</span>,<span class="number">1</span>)) % <span class="number">2</span> == <span class="number">1</span>)&#123;</span><br><span class="line">     sexAndAge.<span class="property">sex</span> = <span class="string">&#x27;1 ç”·&#x27;</span></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     sexAndAge.<span class="property">sex</span> = <span class="string">&#x27;0 å¥³&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// è·å–å‡ºç”Ÿæ—¥æœŸ</span></span><br><span class="line">   <span class="comment">// userCard.substring(6,10) + &quot;-&quot; + userCard.substring(10,12) + &quot;-&quot; + userCard.substring(12,14)</span></span><br><span class="line">   <span class="keyword">var</span> yearBirth = userCard.<span class="title function_">substring</span>(<span class="number">6</span>,<span class="number">10</span>)ã€‘</span><br><span class="line">   <span class="keyword">var</span> monthBirth = userCard.<span class="title function_">substring</span>(<span class="number">10</span>,<span class="number">12</span>);</span><br><span class="line">   <span class="keyword">var</span> dayBirth = userCard.<span class="title function_">substring</span>(<span class="number">12</span>,<span class="number">14</span>);</span><br><span class="line">   <span class="comment">// è·å–å½“å‰å¹´æœˆæ—¥å¹¶è®¡ç®—å¹´é¾„</span></span><br><span class="line">   <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">   <span class="keyword">var</span> monthNow = myDate.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">var</span> dayNow = myDate.<span class="title function_">getDate</span>();</span><br><span class="line">   <span class="keyword">var</span> age = myDate.<span class="title function_">getFullYear</span>() - yearBirth;</span><br><span class="line">   <span class="keyword">if</span>(monthNow &lt; monthBirth || (monthNow == monthBirth &amp;&amp; dayNow &lt; dayBirth))&#123;</span><br><span class="line">     age --;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// å¾—åˆ°å¹´é¾„</span></span><br><span class="line">   sexAndAge.<span class="property">age</span> = age;</span><br><span class="line">   <span class="comment">// è¿”å› æ€§åˆ«å’Œå¹´é¾„</span></span><br><span class="line">   <span class="keyword">return</span> sexAndAge;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**æµ‹è¯• */</span></span><br><span class="line"> <span class="keyword">var</span> <span class="variable constant_">ID</span> = <span class="title function_">analyzeIDCard</span>(<span class="string">&#x27;510612199004174732&#x27;</span>);</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">ID</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ‚JSæ ¹æ®èº«ä»½è¯å·ç è®¡ç®—å¹´é¾„å’Œæ€§åˆ«</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>JOSN.parse(JSON.stringify(obj))å®ç°æ·±æ‹·è´çš„å¼Šç«¯</title>
    <link href="https://www.axcode.cn/posts/fc808795.html"/>
    <id>https://www.axcode.cn/posts/fc808795.html</id>
    <published>2024-06-10T06:31:31.000Z</published>
    <updated>2024-08-08T10:43:29.946Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-å¦‚æœobjé‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™JSON-stringifyåå†JSON-parseçš„ç»“æœï¼Œæ—¶é—´å°†åªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼›è€Œä¸æ˜¯æ—¶é—´å¯¹è±¡ã€‚"><a href="#1-å¦‚æœobjé‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™JSON-stringifyåå†JSON-parseçš„ç»“æœï¼Œæ—¶é—´å°†åªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼›è€Œä¸æ˜¯æ—¶é—´å¯¹è±¡ã€‚" class="headerlink" title="1. å¦‚æœobjé‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™JSON.stringifyåå†JSON.parseçš„ç»“æœï¼Œæ—¶é—´å°†åªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼›è€Œä¸æ˜¯æ—¶é—´å¯¹è±¡ã€‚"></a>1. å¦‚æœobjé‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™<code>JSON.stringify</code>åå†<code>JSON.parse</code>çš„ç»“æœï¼Œæ—¶é—´å°†åªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼›è€Œä¸æ˜¯æ—¶é—´å¯¹è±¡ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = &#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">   <span class="attr">date</span>:[<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">153662760000</span>), <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">15400476000000</span>)],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b;</span><br><span class="line">b = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(test));</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/10/66669f8fef426.webp" alt="testå’Œbçš„ç»“æœ"></p><p><img src="https://bu.dusays.com/2024/06/10/66669f8fde60c.webp" alt="æµ‹è¯•bå’Œtestç±»å‹"></p><h3 id="2-å¦‚æœobjé‡Œæœ‰RegExp-ã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœåªå¾—åˆ°ç©ºå¯¹è±¡ã€‚"><a href="#2-å¦‚æœobjé‡Œæœ‰RegExp-ã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœåªå¾—åˆ°ç©ºå¯¹è±¡ã€‚" class="headerlink" title="2. å¦‚æœobjé‡Œæœ‰RegExp ã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœåªå¾—åˆ°ç©ºå¯¹è±¡ã€‚"></a>2. å¦‚æœobjé‡Œæœ‰RegExp ã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœåªå¾—åˆ°ç©ºå¯¹è±¡ã€‚</h3><p><img src="https://bu.dusays.com/2024/06/10/66669f8fdd041.webp" alt=""></p><h3 id="3-å¦‚æœobjé‡Œæœ‰å‡½æ•°ï¼Œ-undefined-ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠå‡½æ•°æˆ–undefinedä¸¢å¤±ã€‚"><a href="#3-å¦‚æœobjé‡Œæœ‰å‡½æ•°ï¼Œ-undefined-ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠå‡½æ•°æˆ–undefinedä¸¢å¤±ã€‚" class="headerlink" title="3. å¦‚æœobjé‡Œæœ‰å‡½æ•°ï¼Œ undefined ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠå‡½æ•°æˆ–undefinedä¸¢å¤±ã€‚"></a>3. å¦‚æœobjé‡Œæœ‰å‡½æ•°ï¼Œ undefined ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠå‡½æ•°æˆ–undefinedä¸¢å¤±ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = &#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">   <span class="attr">date</span>:<span class="keyword">function</span> <span class="title function_">hehe</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è‚–æˆ˜&#x27;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> copyed = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(test));</span><br><span class="line">test.<span class="property">name</span> = <span class="string">&#x27;é­æ— ç¾¡&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;debugger&#x27;</span>,test,copyed);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/10/66669f8fb0fa7.webp" alt="å‡½æ•°"></p><p><img src="https://bu.dusays.com/2024/06/10/66669f8f9d08c.webp" alt="undefined"></p><h3 id="4-å¦‚æœobjé‡Œæœ‰NaNã€infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜ä¸ºnull"><a href="#4-å¦‚æœobjé‡Œæœ‰NaNã€infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜ä¸ºnull" class="headerlink" title="4. å¦‚æœobjé‡Œæœ‰NaNã€infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜ä¸ºnull"></a>4. å¦‚æœobjé‡Œæœ‰NaNã€infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜ä¸ºnull</h3><p><img src="https://bu.dusays.com/2024/06/10/66669f8f91736.webp" alt=""></p><h3 id="5-JSON-stringify-åªèƒ½åºåˆ—åŒ–å¯¹è±¡çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ï¼Œä¾‹å¦‚ï¼šå¦‚æœobjä¸­çš„å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™ä½¿ç”¨JSON-parse-JSON-stringify-obj-æ·±æ‹·è´åï¼Œä¼šä¸¢å¼ƒå¯¹è±¡constructor"><a href="#5-JSON-stringify-åªèƒ½åºåˆ—åŒ–å¯¹è±¡çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ï¼Œä¾‹å¦‚ï¼šå¦‚æœobjä¸­çš„å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™ä½¿ç”¨JSON-parse-JSON-stringify-obj-æ·±æ‹·è´åï¼Œä¼šä¸¢å¼ƒå¯¹è±¡constructor" class="headerlink" title="5. JSON.stringify()åªèƒ½åºåˆ—åŒ–å¯¹è±¡çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ï¼Œä¾‹å¦‚ï¼šå¦‚æœobjä¸­çš„å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™ä½¿ç”¨JSON.parse(JSON.stringify(obj))æ·±æ‹·è´åï¼Œä¼šä¸¢å¼ƒå¯¹è±¡constructor;"></a>5. <code>JSON.stringify()</code>åªèƒ½åºåˆ—åŒ–å¯¹è±¡çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ï¼Œä¾‹å¦‚ï¼šå¦‚æœobjä¸­çš„å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™ä½¿ç”¨<code>JSON.parse(JSON.stringify(obj))</code>æ·±æ‹·è´åï¼Œä¼šä¸¢å¼ƒå¯¹è±¡<code>constructor</code>;</h3><p><img src="https://bu.dusays.com/2024/06/10/66669f8fa5d57.webp" alt=""></p><h3 id="6-å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ˜¯æ— æ³•æ­£ç¡®å®ç°æ·±æ‹·è´ã€‚"><a href="#6-å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ˜¯æ— æ³•æ­£ç¡®å®ç°æ·±æ‹·è´ã€‚" class="headerlink" title="6. å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ˜¯æ— æ³•æ­£ç¡®å®ç°æ·±æ‹·è´ã€‚"></a>6. å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ˜¯æ— æ³•æ­£ç¡®å®ç°æ·±æ‹·è´ã€‚</h3><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>å¦‚æœæ‹·è´çš„å¯¹è±¡ä¸æ¶‰åŠä¸Šé¢çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨<code>JSON.parse(JSON.stringify(obj))</code>å®ç°æ·±æ‹·è´ï¼Œä½†æ˜¯æ¶‰åŠä¸Šé¢çš„æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å®ç°ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°æ·±æ‹·è´å‡½æ•°</span></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> type = <span class="variable language_">this</span>.<span class="title function_">judgeType</span>(data);</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(type === <span class="string">&#x27;array&#x27;</span>)&#123;</span><br><span class="line">        obj = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            obj.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="title function_">deepClone</span>(data[i]));                          </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>( type === <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">        obj =&#123;&#125;;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">                obj[key] = <span class="variable language_">this</span>.<span class="title function_">deepClone</span>(data[key])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line">                </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">judgeType</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> toString = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>;</span><br><span class="line">    <span class="keyword">const</span> map =&#123;</span><br><span class="line">        <span class="string">&#x27;[object Boolean]&#x27;</span>: <span class="string">&#x27;boolean&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Number]&#x27;</span>: <span class="string">&#x27;number&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object String]&#x27;</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Function]&#x27;</span>: <span class="string">&#x27;function&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Array]&#x27;</span>: <span class="string">&#x27;array&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Date]&#x27;</span>: <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object RegExp]&#x27;</span>: <span class="string">&#x27;regExp&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Undefined]&#x27;</span>: <span class="string">&#x27;undefined&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Null]&#x27;</span>: <span class="string">&#x27;null&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Object]&#x27;</span>: <span class="string">&#x27;object&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="title class_">Element</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;element&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map[toString.<span class="title function_">call</span>(obj)];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> test =&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="attr">date</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">deepClone</span>(test));</span><br><span class="line">test.<span class="property">date</span>[<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ‰JOSN.parse(JSON.stringify(obj))å®ç°æ·±æ‹·è´çš„å¼Šç«¯</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>Vueä¸­ä½¿ç”¨Fullcalendaræ—¥å†å¼€å‘æ—¥ç¨‹å®‰æ’</title>
    <link href="https://www.axcode.cn/posts/c16a7e1e.html"/>
    <id>https://www.axcode.cn/posts/c16a7e1e.html</id>
    <published>2024-06-10T06:01:06.000Z</published>
    <updated>2024-06-12T13:16:14.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h3><details class="folding-tag" blue><summary> æ•ˆæœé¢„è§ˆ </summary>              <div class='content'>              <p><img src="https://bu.dusays.com/2024/06/10/6666993da4c5f.png" alt=""></p><p>å®˜ç½‘åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Ffullcalendar.io%2Fdocs%2Fvue">Vue Component - Docs | FullCalendar</a></p>              </div>            </details><h3 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h3><ul><li><p>å®‰è£…å¦‚ä¸‹ä¾èµ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;@fullcalendar/core&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/daygrid&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/interactib&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/list&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/timegrid&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/vue&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨éœ€è¦ä½¿ç”¨çš„é¡µé¢å¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;FullCalendar ref=&quot;fullCalendar&quot; :options=&quot;calendarOptions&quot;&gt;&lt;/FullCalendar&gt;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨é¡µé¢ä¸­å¼•å…¥éœ€è¦çš„æ’ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">FullCalendar</span> <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> dayGridPlugin <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/daygrid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> timeGridPlugin <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/timegrid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> interactionPlugin <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/interaction&#x27;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p>åœ¨<code>data</code>ä¸­è®¾ç½®æ—¥å†çš„ä¸€äº›é…ç½®å’ŒåŠå±æ€§</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">     calendarOptions:&#123;</span><br><span class="line">        plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],</span><br><span class="line">        initialView: &#x27;dayGridMonth&#x27;,</span><br><span class="line">        locale: &#x27;zh&#x27;,</span><br><span class="line">        firstDay: 1,</span><br><span class="line">        buttonText: &#123;</span><br><span class="line">          today: &quot;ä»Šå¤©&quot;,</span><br><span class="line">          month: &quot;æœˆ&quot;,</span><br><span class="line">          week: &quot;å‘¨&quot;,</span><br><span class="line">          day: &quot;æ—¥&quot;,</span><br><span class="line">          // list: &quot;åˆ—è¡¨&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        headerToolbar: &#123;</span><br><span class="line">          left: &#x27;prev,next today&#x27;,</span><br><span class="line">          center: &#x27;title&#x27;,</span><br><span class="line">          right: &#x27;dayGridMonth,timeGridWeek,timeGridDay&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        weekNumberCalculation: &#x27;ISO&#x27;,</span><br><span class="line">        nowIndicator: true,</span><br><span class="line">        height:500,</span><br><span class="line">        validRange: this.validRange,  //è®¾ç½®å¯æ˜¾ç¤ºçš„æ€»æ—¥æœŸèŒƒå›´</span><br><span class="line">        eventTimeFormat: &#123; // åœ¨æ¯ä¸ªäº‹ä»¶ä¸Šæ˜¾ç¤ºçš„æ—¶é—´çš„æ ¼å¼</span><br><span class="line">          hour: &#x27;numeric&#x27;, // numeric:2022,2-digit:22</span><br><span class="line">          minute: &#x27;2-digit&#x27;,</span><br><span class="line">          meridiem: false,</span><br><span class="line">          hour12: false // è®¾ç½®æ—¶é—´ä¸º24å°æ—¶</span><br><span class="line">        &#125;,</span><br><span class="line">        customButtons: &#123;</span><br><span class="line">          next: &#123;</span><br><span class="line">            click: this.nextClick</span><br><span class="line">          &#125;,</span><br><span class="line">          prev: &#123;</span><br><span class="line">            click: this.prevClick</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        editable: false, //å…è®¸æ‹–åŠ¨ç¼©æ”¾ï¼Œä¸å†™é»˜è®¤å°±æ˜¯false</span><br><span class="line">        overlap: false, //å…è®¸æ—¶é—´é‡å ï¼Œå³å¯ä»¥ä¸å…¶ä»–äº‹ä»¶å¹¶å­˜ï¼Œä¸å†™é»˜è®¤å°±æ˜¯false</span><br><span class="line">        events: [], //èƒŒæ™¯è‰² (æ·»åŠ ç›¸åŒæ—¶é—´çš„èƒŒæ™¯è‰²æ—¶é¢œè‰²ä¼šé‡å )</span><br><span class="line">        datesSet: this.datesSet, //æ—¥æœŸæ¸²æŸ“ï¼›ä¿®æ”¹æ—¥æœŸèŒƒå›´åè§¦å‘</span><br><span class="line">        eventClick: this.handleEventClick, //ç‚¹å‡»æ—¥ç¨‹è§¦å‘</span><br><span class="line">        dateClick: this.handleDateClick, //ç‚¹å‡»æ—¥æœŸè§¦å‘</span><br><span class="line">        eventDrop: this.calendarEventDropOrResize, //æ‹–åŠ¨äº‹ä»¶è§¦å‘</span><br><span class="line">        eventResize: this.calendarEventDropOrResize, //ç¼©æ”¾äº‹ä»¶è§¦å‘</span><br><span class="line">        displayEventTime: false, //ä¸æ˜¾ç¤ºå…·ä½“æ—¶é—´</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">ğŸˆVueä¸­ä½¿ç”¨Fullcalendaræ—¥å†å¼€å‘æ—¥ç¨‹å®‰æ’</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
</feed>
