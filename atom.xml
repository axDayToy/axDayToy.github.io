<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é˜¿ç¾¡ã®ç©ºé—´ç«™</title>
  
  
  <link href="https://www.axcode.cn/atom.xml" rel="self"/>
  
  <link href="https://www.axcode.cn/"/>
  <updated>2025-05-26T08:08:29.325Z</updated>
  <id>https://www.axcode.cn/</id>
  
  <author>
    <name>é˜¿ç¾¡</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>PythonåŸºç¡€å­¦ä¹ </title>
    <link href="https://www.axcode.cn/posts/624e0a2.html"/>
    <id>https://www.axcode.cn/posts/624e0a2.html</id>
    <published>2025-05-26T05:49:14.000Z</published>
    <updated>2025-05-26T08:08:29.325Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ³¨é‡Š">æ³¨é‡Š</h2><h3 id="å—æ³¨é‡Š">å—æ³¨é‡Š</h3><p><img src="https://bu.dusays.com/2025/05/26/68341d555cd07.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å°æ•°å­—</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2025</span>)</span><br></pre></td></tr></table></figure><h3 id="è¡Œå†…æ³¨é‡Š">è¡Œå†…æ³¨é‡Š</h3><p><img src="https://bu.dusays.com/2025/05/26/68341d5470bf6.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æˆ‘åœ¨å­¦ä¹ python&#x27;</span>)  <span class="comment"># è¡Œå†…æ³¨é‡Š</span></span><br></pre></td></tr></table></figure><h3 id="å¤šè¡Œæ³¨é‡Š">å¤šè¡Œæ³¨é‡Š</h3><p>ä»¥ä¸‰å¯¹åŒå¼•å· <span class='p red'>or</span> ä¸‰å¯¹å•å¼•å·å¼€å§‹å’Œç»“å°¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æˆ‘æ˜¯å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="string">1111</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æˆ‘æ˜¯å¤šè¡Œæ³¨é‡Š &#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ³¨é‡Šçš„ä½œç”¨">æ³¨é‡Šçš„ä½œç”¨</h3><p><img src="https://bu.dusays.com/2025/05/26/68341d55731b3.png" alt=""></p><h2 id="print-å‡½æ•°ï¼šè¾“å‡º-æ‰“å°æŒ‡å®šå†…å®¹">print()å‡½æ•°ï¼šè¾“å‡º/æ‰“å°æŒ‡å®šå†…å®¹</h2><p><img src="https://bu.dusays.com/2025/05/26/68341d5575a7d.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">year = <span class="number">2025</span></span><br><span class="line">month = <span class="number">5</span></span><br><span class="line">day = <span class="number">26</span></span><br><span class="line">week = <span class="string">&#x27;ä¸€&#x27;</span></span><br><span class="line">weather = <span class="string">&#x27;æ™´&#x27;</span></span><br><span class="line">temp = <span class="number">34.5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä»Šå¤©æ˜¯ %d å¹´ %02d æœˆ %d æ—¥, æ˜ŸæœŸ %s, å¤©æ°” %s, æ°”æ¸© %.1f æ‘„æ°åº¦&#x27;</span> % (year, month, day, week, weather, temp))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2025/05/26/6834215a31bd3.png" alt=""></p>]]></content>
    
    
    <summary type="html">ğŸ‹â€ğŸŸ©PythonåŸºç¡€å­¦ä¹ </summary>
    
    
    
    <category term="Python" scheme="https://www.axcode.cn/categories/Python/"/>
    
    
    <category term="Python" scheme="https://www.axcode.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>vue3åœ¨ä½¿ç”¨elementPlusè¡¨æ ¼å¤„ç†ä¸è§„åˆ™æ•°æ®</title>
    <link href="https://www.axcode.cn/posts/55cb2194.html"/>
    <id>https://www.axcode.cn/posts/55cb2194.html</id>
    <published>2024-08-31T09:48:53.000Z</published>
    <updated>2024-08-31T10:39:19.107Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><p>æ­¤æ–‡ä¸»è¦è®°å½•<code>el-table</code>å¾ªç¯è¡¨å¤´ä»¥åŠæ•°æ®æ—¶ï¼Œå¯¹äºåå°è¿”å›ä¸è§„åˆ™æ•°æ®å¦‚ä½•å¤„ç†çš„é—®é¢˜ã€‚</p><p>å½¢å¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å§“å&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°æ˜&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å§“å&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°çº¢&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å§“å&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°é»„&quot;</span> <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¹´é¾„&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;18&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span> <span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¹´é¾„&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;17&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;fieldName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¹´é¾„&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fieldNameValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;25&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>é‡åˆ°è¿™ç§ä¸è§„åˆ™çš„æ•°æ® å¯ä»¥è¯•ç€ä½¿ç”¨ä¸‹åˆ—çš„æ–¹å¼å¤„ç†ã€‚</p><h2 id="æ¨¡æ¿ä¸­çš„ä»£ç ">æ¨¡æ¿ä¸­çš„ä»£ç </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data=&quot;tableData&quot; border&gt;</span><br><span class="line">  &lt;el-table-column</span><br><span class="line">    v-for=&quot;col in columns&quot;</span><br><span class="line">    :key=&quot;col.prop&quot;</span><br><span class="line">    :label=&quot;col.label&quot;&gt;</span><br><span class="line">    &lt;template #default=&quot;&#123; row, column, $index &#125;&quot;&gt;</span><br><span class="line">      &lt;el-input</span><br><span class="line">        v-if=&quot;isEditable&quot;</span><br><span class="line">        v-model=&quot;row[col.prop]&quot;</span><br><span class="line">        size=&quot;small&quot;</span><br><span class="line">      &gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;span v-else&gt;&#123;&#123; row[col.prop] &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/el-table-column&gt;</span><br><span class="line">&lt;/el-table&gt;</span><br></pre></td></tr></table></figure><h2 id="Scriptæ¨¡æ¿ä¸­å¯¹åº”çš„æ•°æ®å¤„ç†">Scriptæ¨¡æ¿ä¸­å¯¹åº”çš„æ•°æ®å¤„ç†</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> columns = <span class="title function_">ref</span>([]);</span><br><span class="line"><span class="keyword">const</span> tableData = <span class="title function_">ref</span>([]);</span><br><span class="line"><span class="keyword">const</span> isEditable = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">processData</span> = (<span class="params">response</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ç”Ÿæˆåˆ—ä¿¡æ¯ response ä¸ºåå°è¯·æ±‚æˆåŠŸåè¿”å›çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> fields = response.<span class="property">data</span>.<span class="title function_">map</span>(<span class="function"><span class="params">column</span> =&gt;</span> column[<span class="number">0</span>].<span class="property">fieldName</span>);</span><br><span class="line">  <span class="keyword">const</span> columnsData = fields.<span class="title function_">map</span>(<span class="function"><span class="params">field</span> =&gt;</span> (&#123; <span class="attr">prop</span>: field, <span class="attr">label</span>: field &#125;));</span><br><span class="line">  columns.<span class="property">value</span> = columnsData;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç”Ÿæˆè¡¨æ ¼æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> numRows = response.<span class="property">data</span>[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: numRows &#125;, <span class="function">(<span class="params">_, rowIndex</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> row = &#123;&#125;;</span><br><span class="line">    response.<span class="property">data</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">column</span> =&gt;</span> &#123;</span><br><span class="line">      row[column[<span class="number">0</span>].<span class="property">fieldName</span>] = column.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">index</span> === rowIndex)?.<span class="property">fieldNameValue</span> || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> row;</span><br><span class="line">  &#125;);</span><br><span class="line">  tableData.<span class="property">value</span> = data;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">â˜ï¸vue3åœ¨ä½¿ç”¨elementPlusè¡¨æ ¼å¤„ç†ä¸è§„åˆ™æ•°æ®</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue3åŸºäºAxioså°è£…requestè¯·æ±‚</title>
    <link href="https://www.axcode.cn/posts/3f98be46.html"/>
    <id>https://www.axcode.cn/posts/3f98be46.html</id>
    <published>2024-08-08T09:48:46.000Z</published>
    <updated>2024-08-08T10:31:24.226Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</h2><p>ä½¿ç”¨<code>pnpm</code> or <code>cnpm</code> or <code>cnpm</code>å®‰è£…<code>axios</code>æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå°è£…è¯·æ±‚çš„Tsæˆ–Jsæ–‡ä»¶">åˆ›å»ºå°è£…è¯·æ±‚çš„Tsæˆ–Jsæ–‡ä»¶</h2><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>åœ¨<code>src</code>æ–‡ä»¶å¤¹ä¸‹çš„utilsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª<code>request.ts</code>æ–‡ä»¶</p>            </div><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿›è¡Œaxios äºŒæ¬¡å°è£… ä½¿ç”¨è¯·æ±‚ä¸å“åº”å™¨æ¥æˆª</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> useUserStroe <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/user&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€åˆ©ç”¨axioså¯¹è±¡çš„createæ–¹æ³• åˆ›å»ºaxios å®ä¾‹ ï¼ˆå¯ä»¥é…ç½®å…¶ä»–çš„é…ç½®ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="comment">// åŸºç¡€è·¯å¾„</span></span><br><span class="line">  <span class="attr">baseURL</span>: <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_BASE_API</span>, <span class="comment">//åŸºç¡€è·¯å¾„ä¸Šä¼šæºå¸¦/api</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span> <span class="comment">// è¶…æ—¶æ—¶é—´</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.ç¬¬äºŒæ­¥ request å®ä¾‹æ·»åŠ è¯·æ±‚ä¸å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//è·å–ç”¨æˆ·ç›¸å…³çš„å°ä»“åº“ è·å–ä»“åº“çš„token ç™»å½•æˆåŠŸåæºå¸¦ç»™æœåŠ¡å™¨</span></span><br><span class="line">  <span class="keyword">const</span> userStore = <span class="title function_">useUserStroe</span>();</span><br><span class="line">  <span class="keyword">if</span> (userStore.<span class="property">token</span>) &#123;</span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">token</span> = userStore.<span class="property">token</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// config é…ç½®å¯¹è±¡, headerå±æ€§è¯·æ±‚å¤´ç»å¸¸ç»™æœåŠ¡å™¨ç«¯æºå¸¦å…¬å…±å‚æ•°</span></span><br><span class="line">  <span class="comment">// è¿”å›é…ç½®å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æˆåŠŸå›è°ƒ</span></span><br><span class="line">  <span class="comment">// ç®€åŒ–æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">&#125;, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å¤±è´¥çš„å›è°ƒ å¤„ç†httpç½‘ç»œé”™è¯¯</span></span><br><span class="line">  <span class="comment">// å®šä¸€ä¸ªå˜é‡ å­˜å‚¨ç½‘ç»œä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="comment">// httpçŠ¶æ€ç </span></span><br><span class="line">  <span class="keyword">let</span> status = error.<span class="property">response</span>.<span class="property">status</span>;</span><br><span class="line">  <span class="keyword">switch</span> (status) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">      message = <span class="string">&#x27;TOKENè¿‡æœŸ&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">      message = <span class="string">&#x27;æ— æƒè®¿é—®&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">      message = <span class="string">&#x27;è¯·æ±‚åœ°å€é”™è¯¯&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">      message = <span class="string">&#x27;æœåŠ¡å™¨é”™è¯¯&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      message = <span class="string">&#x27;ç½‘ç»œå‡ºç°é”™è¯¯&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">    message</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹å¤–æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å°è£…åçš„è¯·æ±‚">ä½¿ç”¨å°è£…åçš„è¯·æ±‚</h2><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»Ÿä¸€ç®¡ç†ç”¨æˆ·ç›¸å…³çš„æ¥å£</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="variable constant_">API</span> &#123;</span><br><span class="line">  <span class="variable constant_">LOGIN_URL</span> = <span class="string">&#x27;/admin/acl/index/login&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç™»å½•æ¥å£</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">login</span> = (<span class="params"><span class="attr">data</span>: loginFomData</span>) =&gt; request.<span class="property">post</span>&lt;<span class="built_in">any</span>, loginResponseData&gt;(<span class="variable constant_">API</span>.<span class="property">LOGIN_URL</span>, data);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨éœ€è¦ä½¿ç”¨æ¥å£çš„é¡µé¢å¼•å…¥</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•ç”¨æ¥å£</span></span><br><span class="line"><span class="keyword">import</span> &#123; login &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/user&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æˆ·ç™»å½•çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">userLogin</span>(<span class="params"><span class="attr">data</span>: loginFomData</span>) &#123;</span><br><span class="line">  <span class="comment">// ç”¨æˆ·ç™»å½•è¯·æ±‚</span></span><br><span class="line">  <span class="keyword">let</span> <span class="attr">result</span>: loginResponseData = <span class="keyword">await</span> <span class="title function_">login</span>(data);</span><br><span class="line">  <span class="keyword">if</span> (result.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ†Vue3åŸºäºAxioså°è£…requestè¯·æ±‚</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Reactä¸‰å¤§æ ¸å¿ƒå±æ€§</title>
    <link href="https://www.axcode.cn/posts/385b8e20.html"/>
    <id>https://www.axcode.cn/posts/385b8e20.html</id>
    <published>2024-07-23T13:41:19.000Z</published>
    <updated>2024-07-24T05:37:59.466Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-stateå±æ€§">1.stateå±æ€§</h2><h3 id="ç®€ä»‹">ç®€ä»‹</h3><ul><li>stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªkey-valueçš„ç»„åˆ)</li><li>æŠŠç»„ä»¶çœ‹æˆæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼ˆState Machinesï¼‰ é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</li></ul><h3 id="åŸºç¡€å®ä¾‹">åŸºç¡€å®ä¾‹</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Weather</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">isHot</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">changeWeather</span> = <span class="variable language_">this</span>.<span class="property">changeWeather</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;isHot&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeWeather&#125;</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot?&#x27;ç‚çƒ­&#x27;:&#x27;å‡‰çˆ½&#x27;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">changeWeather</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> isHot = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">isHot</span>;</span><br><span class="line">    <span class="comment">// æ›´æ–°state æ˜¯ä¸€ç§åˆå¹¶ ä¸æ˜¯æ›¿æ¢</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">isHot</span>:!isHot&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Weather</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>));</span><br></pre></td></tr></table></figure><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p><code>changeWeather</code> æ”¾åœ¨å“ªé‡Œï¼Ÿ?</p>            </div><ul><li><p><code>Weather</code> çš„åŸå‹å¯¹è±¡ä¸Š ä¾›å®ä¾‹ä½¿ç”¨</p></li><li><p>ç”±äº<code>changeWeather</code> æ˜¯ä¸º<code>onClick</code>åšä¸ºçš„å›è°ƒ æ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹çš„å›è°ƒæ˜¯ç›´æ¥ä½¿ç”¨</p></li><li><p>ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ æ‰€ä»¥<code>changeWeather</code> ä¸­çš„<code>this</code>ä¸º<code>undefined </code></p><ul><li><p>å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">changeWeather</span> = <span class="variable language_">this</span>.<span class="property">changeWeather</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ç®­å¤´å‡½æ•°</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">changeWeather = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;isHot&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">isHot</span>:!isHot&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>çŠ¶æ€æ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–°éœ€è¦ä½¿ç”¨ <code>this.setState()</code>;</p></li></ul></li></ul><h3 id="stateç®€å†™æ–¹å¼">stateç®€å†™æ–¹å¼</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DemoName</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123; <span class="attr">key</span>: value &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;key&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handle&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  handle = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;key&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">key</span>:!key&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Propså±æ€§">Propså±æ€§</h2><h3 id="ç®€ä»‹-2">ç®€ä»‹</h3><ul><li>æ¯ä¸ªç»„ä»¶å¯¹è±¡éƒ½ä¼šæœ‰<code>props</code>(propertiesçš„ç®€å†™)å±æ€§</li><li>ç»„ä»¶æ ‡ç­¾çš„æ‰€æœ‰å±æ€§éƒ½ä¿å­˜åœ¨propsä¸­</li><li>å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼ <code>this.props.propertyName</code></li><li>ä½œç”¨ï¼šé€šè¿‡æ ‡ç­¾å±æ€§ä»ç»„ä»¶å¤– å‘ç»„ä»¶å†…ä¼ é€’æ•°æ®ï¼ˆåªè¯» read onlyï¼‰</li><li>å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶</li></ul><h3 id="åŸºç¡€å®ä¾‹-2">åŸºç¡€å®ä¾‹</h3><h4 id="ç±»ç»„ä»¶">ç±»ç»„ä»¶</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name,sex,age &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°ç»„ä»¶">å‡½æ•°ç»„ä»¶</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">props</span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;name,age,sex&#125; = props;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="å¯¹Propsè¿›è¡Œçº¦æŸé™åˆ¶">å¯¹Propsè¿›è¡Œçº¦æŸé™åˆ¶</h3><h4 id="ç±»ç»„ä»¶çš„çº¦æŸå½¢å¼">ç±»ç»„ä»¶çš„çº¦æŸå½¢å¼</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// å¯¹æ ‡ç­¾å±æ€§å€¼è¿›è¡Œç±»å‹ biå¿…è¦æ€§çš„é™åˆ¶</span></span><br><span class="line">  <span class="keyword">static</span> propTypes =&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æŒ‡å®šé»˜è®¤çš„å±æ€§å€¼</span></span><br><span class="line">  <span class="keyword">static</span> defaultProps =&#123;</span><br><span class="line">    <span class="attr">sex</span>:<span class="string">&#x27;ä¿å¯†&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name,sex,age &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h4 id="å¯¹å‡½æ•°ç»„ä»¶çš„çº¦æŸå½¢å¼">å¯¹å‡½æ•°ç»„ä»¶çš„çº¦æŸå½¢å¼</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">props</span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;name,age,sex&#125; = props;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹æ ‡ç­¾å±æ€§å€¼è¿›è¡Œç±»å‹ biå¿…è¦æ€§çš„é™åˆ¶</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">propTypes</span> =&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŒ‡å®šé»˜è®¤çš„å±æ€§å€¼</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">defaultProps</span> =&#123;</span><br><span class="line">  <span class="attr">sex</span>:<span class="string">&#x27;ä¿å¯†&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = &#123; <span class="attr">name</span>:<span class="string">&#x27;Jarry&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="propsä¸stateçš„åŒºåˆ«">propsä¸stateçš„åŒºåˆ«</h3><div class='checkbox red'><input type="checkbox" />            <p>propsä¸­çš„æ•°æ®éƒ½æ˜¯å¤–ç•Œä¼ é€’è¿‡æ¥çš„</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>stateä¸­çš„æ•°æ®éƒ½æ˜¯ç»„ä»¶ç§æœ‰çš„ï¼›ï¼ˆé€šè¿‡Ajaxè·å–å›æ¥çš„æ•°æ®ï¼Œä¸€èˆ¬éƒ½æ˜¯ç§æœ‰æ•°æ®ï¼‰</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>propsä¸­çš„æ•°æ®éƒ½æ˜¯åªè¯»çš„ï¼Œä¸èƒ½é‡æ–°èµ‹å€¼</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>stateä¸­çš„æ•°æ®ï¼Œéƒ½æ˜¯å¯è¯»å¯å†™çš„</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>å­ç»„ä»¶åªèƒ½é€šè¿‡propsä¼ é€’æ•°æ®</p>            </div><h2 id="Refså±æ€§">Refså±æ€§</h2><h3 id="ç®€ä»‹-3">ç®€ä»‹</h3><ul><li>ç»„ä»¶å†…çš„æ ‡ç­¾å¯ä»¥å®šä¹‰refå±æ€§ç±»æ ‡è¯†è‡ªå·±ï¼Œæœ‰ç‚¹ç±»ä¼¼ä¸JSä¸­çš„id</li><li>Reactæ–‡æ¡£ä¸­å†ä¸‰å¼ºè°ƒï¼Œè¯·ä¸è¦è¿‡åº¦ä½¿ç”¨refsï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å¯ä»¥ç”¨domåŸç”Ÿå¯¹è±¡è§£å†³æ—¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨refs ä¾ç…§ä¹‹å‰çš„å†™æ³•ï¼Œé¦–å…ˆæ˜¯ç»™å‡ºç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¸­refsçš„å†™æ³•</li></ul><h3 id="ä¸‰ç§ç¼–ç å½¢å¼">ä¸‰ç§ç¼–ç å½¢å¼</h3><h4 id="1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆå®˜æ–¹ä¸æ¨èï¼‰">1.å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆå®˜æ–¹ä¸æ¨èï¼‰</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  showblurData = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">refs</span>.<span class="property">input</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#x27;input&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;å¤±å»ç„¦ç‚¹å±•ç¤ºæ•°æ®&#x27;</span> <span class="attr">onBlur</span>=<span class="string">&#123;this.showblurData&#125;</span> /&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h4 id="2-å‡½æ•°å›è°ƒå½¢å¼çš„ref">2.å‡½æ•°å›è°ƒå½¢å¼çš„ref</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">/** å±•ç¤ºå¤±å»ç„¦ç‚¹çš„æ•°æ® */</span></span><br><span class="line">  showblurData = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">input2</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;</span> <span class="attr">c</span>=&gt;</span> this.input2 = c&#125; type=&#x27;text&#x27; placeholder=&#x27;å¤±å»ç„¦ç‚¹å±•ç¤ºæ•°æ®&#x27; </span></span><br><span class="line"><span class="language-xml">        onBlur=&#123;this.showblurData&#125; /&gt;</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h4 id="3-createRefåˆ›å»ºrefå®¹å™¨ï¼ˆå®˜æ–¹æ¨èï¼‰">3.createRefåˆ›å»ºrefå®¹å™¨ï¼ˆå®˜æ–¹æ¨èï¼‰</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * React.createRef è°ƒç”¨å‡½æ•°åå¯ä»¥è¿”å›ä¸€ä¸ªå®¹å™¨ è¯¥å®¹å™¨å¯ä»¥å­˜å‚¨è¢«refæ‰€æ ‡è¯†çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  myRef = <span class="title class_">React</span>.<span class="title function_">createRef</span>();</span><br><span class="line">  <span class="comment">/** å±•ç¤ºå·¦ä¾§æ•°æ® */</span></span><br><span class="line">  showData = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">myRef</span>.<span class="property">current</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;this.myRef&#125;</span> <span class="attr">placeholder</span>=<span class="string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹å‡»æˆ‘æç¤ºå·¦è¾¹çš„æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ…Reactä¸‰å¤§æ ¸å¿ƒå±æ€§</summary>
    
    
    
    <category term="React" scheme="https://www.axcode.cn/categories/React/"/>
    
    
    <category term="React" scheme="https://www.axcode.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>Reactä¸­å®šä¹‰ç»„ä»¶çš„æ–¹å¼</title>
    <link href="https://www.axcode.cn/posts/7c5a67e6.html"/>
    <id>https://www.axcode.cn/posts/7c5a67e6.html</id>
    <published>2024-07-19T05:35:11.000Z</published>
    <updated>2024-07-19T06:25:27.933Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-å‡½æ•°å¼ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰">1.å‡½æ•°å¼ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰</h2><h3 id="ç®€ä»‹">ç®€ä»‹</h3><p>å‡½æ•°å¼ç»„ä»¶æ˜¯ä½¿ç”¨çº¯ç²¹çš„JavaScriptå‡½æ•°æ¥å®šä¹‰çš„ã€‚å®ƒæ¥æ”¶ä¸€ä¸ª<code>props</code>å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºæè¿°ç»„ä»¶UIçš„Reactå…ƒç´ ã€‚å‡½æ•°å¼ç»„ä»¶æ˜¯Reactä¸­æœ€ç®€å•å’Œæœ€å¸¸è§çš„æ–¹å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. åˆ›å»ºå‡½æ•°æ—¶å¼ç»„ä»¶</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params">props</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯ç”¨å‡½æ•°å®šä¹‰çš„ç»„ä»¶&#123;props&#125;ï¼ˆé€‚ç”¨äºã€ç®€å•ç»„ä»¶ã€‘çš„å®šä¹‰ï¼‰<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2. æŒ‚è½½ç»„ä»¶åˆ°é¡µé¢</span></span><br><span class="line">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>æ‰§è¡Œ<code>ReactDOM.render(ï¼‰</code>ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ?</p>            </div><ul><li><code>React</code> è§£æç»„ä»¶æ ‡ç­¾ æ‰¾åˆ°äº†<code>MyComponent</code>ç»„ä»¶</li><li>å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨å‡½æ•°å®šä¹‰çš„ éšåè°ƒç”¨è¯¥å‡½æ•° å°†è¿”å›çš„è™šæ‹Ÿ<code>DOM</code>è½¬åŒ–ä¸ºçœŸå®çš„<code>DOM</code>éšåå‘ˆç°åœ¨é¡µé¢ä¸Šã€‚</li></ul><h3 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h3><ul><li>ç®€æ´ï¼šç›¸å¯¹äºç±»ç»„ä»¶ï¼Œå‡½æ•°å¼ç»„ä»¶é€šå¸¸å…·æœ‰æ›´çŸ­ã€æ›´æ˜“è¯»çš„ä»£ç ã€‚</li><li>æ— çŠ¶æ€ï¼šå‡½æ•°å¼ç»„ä»¶æ²¡æœ‰å†…éƒ¨çŠ¶æ€ï¼ˆstateï¼‰ï¼Œå®ƒåªæ¥æ”¶propså¹¶è¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚å› æ­¤ï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯æ— çŠ¶æ€ç»„ä»¶ã€‚</li><li>é€‚ç”¨æ€§å¹¿æ³›ï¼šå‡½æ•°å¼ç»„ä»¶é€‚ç”¨äºç®€å•çš„é™æ€UIå±•ç¤ºï¼Œæˆ–è€…å½“ä¸éœ€è¦å†…éƒ¨çŠ¶æ€ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ã€‚</li></ul><h2 id="2-ç±»å¼ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰">2.ç±»å¼ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰</h2><h3 id="ç®€ä»‹-2">ç®€ä»‹</h3><p>ç±»ç»„ä»¶æ˜¯é€šè¿‡ç»§æ‰¿<code>React</code>çš„<code>Component</code>ç±»å¹¶ä½¿ç”¨ES6ç±»è¯­æ³•æ¥å®šä¹‰çš„ã€‚ç±»ç»„ä»¶å…·æœ‰æ›´å¤šçš„åŠŸèƒ½å’Œçµæ´»æ€§ï¼Œå¯ä»¥ä½¿ç”¨å†…éƒ¨çŠ¶æ€ï¼ˆ<code>state</code>ï¼‰å’Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. åˆ›å»ºç±»å¼ç»„ä»¶</span></span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">MyComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">     <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">       <span class="variable language_">super</span>(props);</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;;</span><br><span class="line">     &#125;</span><br><span class="line">      <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">const</span> &#123;count&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">       <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 2 æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span></span><br><span class="line">   <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>));</span><br></pre></td></tr></table></figure><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>æ‰§è¡Œ<code>render</code>æ”¾åœ¨å“ªé‡Œ?</p>            </div><ul><li>æ”¾åœ¨<code>MyCOmponent</code> çš„åŸå‹å¯¹è±¡ä¸Š ä¾›å®ä¾‹ä½¿ç”¨ã€‚</li></ul><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p><code>render</code>ä¸­çš„<code>this</code>æ˜¯è°ï¼Ÿ?</p>            </div><ul><li><code>MyComponent</code> çš„å®ä¾‹å¯¹è±¡  &lt;==&gt; <code>MyComponent</code> ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</li></ul><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>æ‰§è¡Œ<code>ReactDOM.render(ï¼‰</code>ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ?</p>            </div><ul><li><code>React</code> è§£æç»„ä»¶æ ‡ç­¾ æ‰¾åˆ°äº†<code>MyComponent</code>ç»„ä»¶</li><li>å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨ç±»å®šä¹‰çš„ éšå<code>new</code>å‡ºæ¥è¯¥ç±»çš„å®ä¾‹  å¹¶ç”¨è¯¥å®ä¾‹è°ƒç”¨åˆ°åŸå‹ä¸Šçš„<code>render</code>æ–¹æ³•</li><li>å°†<code>rander</code>è¿”å›çš„è™šæ‹Ÿ<code>DOM</code>è½¬ä¸ºçœŸå®<code>DOM</code>å‘ˆç°åˆ°é¡µé¢ä¸Šã€‚</li></ul><h3 id="ç‰¹ç‚¹-2">ç‰¹ç‚¹</h3><ul><li>å†…éƒ¨çŠ¶æ€ç®¡ç†ï¼šç±»ç»„ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨<code>this.state</code>å¯¹è±¡æ¥ç®¡ç†å†…éƒ¨çŠ¶æ€ï¼Œå¹¶é€šè¿‡<code>setState</code>æ–¹æ³•æ›´æ–°çŠ¶æ€ã€‚</li><li>ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šç±»ç»„ä»¶æä¾›äº†ä¸€ç³»åˆ—ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå¦‚<code>componentDidMount</code>ã€<code>componentDidUpdate</code>ç­‰ï¼‰ï¼Œå¯ä»¥ç”¨äºåœ¨ä¸åŒçš„é˜¶æ®µæ‰§è¡Œç‰¹å®šçš„é€»è¾‘ã€‚</li><li>é€‚ç”¨äºå¤æ‚é€»è¾‘ï¼šå½“ç»„ä»¶éœ€è¦å¤„ç†å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œæ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œç±»ç»„ä»¶æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ã€‚</li></ul>]]></content>
    
    
    <summary type="html">ğŸŠReactä¸­å®šä¹‰ç»„ä»¶çš„æ–¹å¼</summary>
    
    
    
    <category term="React" scheme="https://www.axcode.cn/categories/React/"/>
    
    
    <category term="React" scheme="https://www.axcode.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>vue3æœ‰å…³é‰´æƒç›¸å…³é—®é¢˜</title>
    <link href="https://www.axcode.cn/posts/e7ddffb7.html"/>
    <id>https://www.axcode.cn/posts/e7ddffb7.html</id>
    <published>2024-07-15T12:28:04.000Z</published>
    <updated>2024-08-31T10:34:31.906Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><div class="note blue no-icon flat"><p>éœ€è¦åç«¯åŒå­¦é…åˆï¼Œä¸åŒçš„ç”¨æˆ·ç™»å½•ï¼Œéœ€è¦æ ¹æ®ç”¨æˆ·ä¿¡æ¯å¯¹èœå•ã€æŒ‰é’®ç­‰æƒé™è¿›è¡Œå¤„ç†ã€‚</p><p><img src="https://bu.dusays.com/2024/07/15/66951bc75943f.png" alt=""></p></div><h2 id="1-è·¯ç”±é‰´æƒæ–‡ä»¶">1.è·¯ç”±é‰´æƒæ–‡ä»¶</h2><div class="note blue no-icon flat"><p>åœ¨src ä¸‹æ–°å»ºæ–‡ä»¶permission.ts åœ¨å…¥å£æ–‡ä»¶main.tså¼•å…¥å¹¶å†™å…¥ä»¥ä¸‹ä»£ç </p></div><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·¯ç”±é‰´æƒ:é‰´æƒ,é¡¹ç›®å½“ä¸­è·¯ç”±èƒ½ä¸èƒ½è¢«çš„æƒé™çš„è®¾ç½®(æŸä¸€ä¸ªè·¯ç”±ä»€ä¹ˆæ¡ä»¶ä¸‹å¯ä»¥è®¿é—®ã€ä»€ä¹ˆæ¡ä»¶ä¸‹ä¸å¯ä»¥è®¿é—®)</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"><span class="comment">//setting ä¸ºå…¬å…±å¤´éƒ¨æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> setting <span class="keyword">from</span> <span class="string">&#x27;./setting&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> nprogress <span class="keyword">from</span> <span class="string">&#x27;nprogress&#x27;</span>;</span><br><span class="line"><span class="comment">//å¼•å…¥è¿›åº¦æ¡æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;nprogress/nprogress.css&quot;</span>;</span><br><span class="line">nprogress.<span class="title function_">configure</span>(&#123; <span class="attr">showSpinner</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="comment">//è·å–ç”¨æˆ·ç›¸å…³çš„å°ä»“åº“å†…éƒ¨tokenæ•°æ®,å»åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•æˆåŠŸ</span></span><br><span class="line"><span class="keyword">import</span> useUserStore <span class="keyword">from</span> <span class="string">&#x27;./store/modules/user&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> userStore = <span class="title function_">useUserStore</span>(pinia);</span><br><span class="line"><span class="comment">//å…¨å±€å®ˆå«:é¡¹ç›®å½“ä¸­ä»»æ„è·¯ç”±åˆ‡æ¢éƒ½ä¼šè§¦å‘çš„é’©å­</span></span><br><span class="line"><span class="comment">//å…¨å±€å‰ç½®å®ˆå«</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="title function_">async</span> (<span class="attr">to</span>: <span class="built_in">any</span>, <span class="attr">from</span>: <span class="built_in">any</span>, <span class="attr">next</span>: <span class="built_in">any</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">`<span class="subst">$&#123;setting.title&#125;</span> - <span class="subst">$&#123;to.meta.title&#125;</span>`</span></span><br><span class="line">  <span class="comment">//to:ä½ å°†è¦è®¿é—®é‚£ä¸ªè·¯ç”±</span></span><br><span class="line">  <span class="comment">//from:ä½ ä»æ¥ä¸ªè·¯ç”±è€Œæ¥</span></span><br><span class="line">  <span class="comment">//next:è·¯ç”±çš„æ”¾è¡Œå‡½æ•°</span></span><br><span class="line">  nprogress.<span class="title function_">start</span>();</span><br><span class="line">  <span class="comment">//è·å–token,å»åˆ¤æ–­ç”¨æˆ·ç™»å½•ã€è¿˜æ˜¯æœªç™»å½•</span></span><br><span class="line">  <span class="keyword">let</span> token = userStore.<span class="property">token</span>;</span><br><span class="line">  <span class="comment">//è·å–ç”¨æˆ·åå­—</span></span><br><span class="line">  <span class="keyword">let</span> username = userStore.<span class="property">username</span>;</span><br><span class="line">  <span class="comment">//ç”¨æˆ·ç™»å½•åˆ¤æ–­</span></span><br><span class="line">  <span class="keyword">if</span> (token) &#123;</span><br><span class="line">    <span class="comment">//ç™»å½•æˆåŠŸ,è®¿é—®login,ä¸èƒ½è®¿é—®,æŒ‡å‘é¦–é¡µ</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span> &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//ç™»å½•æˆåŠŸè®¿é—®å…¶ä½™å…­ä¸ªè·¯ç”±(ç™»å½•æ’é™¤)</span></span><br><span class="line">      <span class="comment">//æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">      <span class="keyword">if</span> (username) &#123;</span><br><span class="line">        <span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœæ²¡æœ‰ç”¨æˆ·ä¿¡æ¯,åœ¨å®ˆå«è¿™é‡Œå‘è¯·æ±‚è·å–åˆ°äº†ç”¨æˆ·ä¿¡æ¯å†æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">//è·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">          <span class="keyword">await</span> userStore.<span class="title function_">userInfo</span>();</span><br><span class="line">          <span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">          <span class="comment">//ä¸‡ä¸€:åˆ·æ–°çš„æ—¶å€™æ˜¯å¼‚æ­¥è·¯ç”±,æœ‰å¯èƒ½è·å–åˆ°ç”¨æˆ·ä¿¡æ¯ã€å¼‚æ­¥è·¯ç”±è¿˜æ²¡æœ‰åŠ è½½å®Œæ¯•,å‡ºç°ç©ºç™½çš„æ•ˆæœ</span></span><br><span class="line">          <span class="title function_">next</span>(&#123; ...to &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="comment">//tokenè¿‡æœŸ:è·å–ä¸åˆ°ç”¨æˆ·ä¿¡æ¯äº†</span></span><br><span class="line">          <span class="comment">//ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹æœ¬åœ°å­˜å‚¨token</span></span><br><span class="line">          <span class="comment">//é€€å‡ºç™»å½•-&gt;ç”¨æˆ·ç›¸å…³çš„æ•°æ®æ¸…ç©º</span></span><br><span class="line">          <span class="keyword">await</span> userStore.<span class="title function_">userLogOut</span>();</span><br><span class="line">          <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">redirect</span>: to.<span class="property">path</span> &#125; &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//ç”¨æˆ·æœªç™»å½•åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">redirect</span>: to.<span class="property">path</span> &#125; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//å…¨å±€åç½®å®ˆå«</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params"><span class="attr">to</span>: <span class="built_in">any</span>, <span class="attr">from</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">  nprogress.<span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="2-è·¯ç”±æ‹†åˆ†">2.è·¯ç”±æ‹†åˆ†</h2><div class="tip info"><p>å°†è·¯ç”±æ–‡ä»¶æ‹†åˆ†ä¸ºå¸¸é‡è·¯ç”±ã€å¼‚æ­¥è·¯ç”±</p></div><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡è·¯ç”±</span></span><br><span class="line">exprot <span class="keyword">const</span> constantRoute=[&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/login.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Login&#x27;</span>, <span class="comment">// å‘½åè·¯ç”±</span></span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;ç™»å½•&#x27;</span>,</span><br><span class="line">      <span class="attr">hidden</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼‚æ­¥è·¯ç”±</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> asyncRoute = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/layout/index.vue&#x27;</span>),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">   &#125;,</span><br><span class="line">    <span class="attr">children</span>:[]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-é€šè¿‡vue-routeræ’ä»¶å®ç°è·¯ç”±é…ç½®">3.é€šè¿‡vue-routeræ’ä»¶å®ç°è·¯ç”±é…ç½®</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** æ­¤æ–‡ä»¶ä¸ºè·¯ç”±æ€»æ–‡ä»¶ index */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; constantRoute &#125; <span class="keyword">from</span> <span class="string">&quot;./routes&quot;</span>; <span class="comment">// å®šä¹‰è·¯ç”±çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// æ¨¡å¼é»˜è®¤ä¸º hash</span></span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  <span class="attr">routes</span>: constantRoute,</span><br><span class="line">  <span class="comment">// æ»šåŠ¨è¡Œä¸º</span></span><br><span class="line">  <span class="title function_">scrollBehavior</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">left</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">top</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><h2 id="4-åœ¨ç”¨æˆ·ä»“åº“ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†">4.åœ¨ç”¨æˆ·ä»“åº“ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†</h2><h3 id="4-1-åˆ›å»ºç”¨æˆ·è¿‡æ»¤å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±">4.1 åˆ›å»ºç”¨æˆ·è¿‡æ»¤å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filterAsyncRoute</span>(<span class="params"><span class="attr">asyncRoute</span>: <span class="built_in">any</span>, <span class="attr">routes</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> asyncRoute.<span class="title function_">filter</span>(<span class="function">(<span class="params"><span class="attr">item</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (routes.<span class="title function_">includes</span>(item.<span class="property">name</span>)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        item.<span class="property">children</span> = <span class="title function_">filterAsyncRoute</span>(item.<span class="property">children</span>, routes)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-2-è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£-è°ƒç”¨è¿‡æ»¤æ–¹æ³•å±•ç¤ºå½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±">4.2 è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ è°ƒç”¨è¿‡æ»¤æ–¹æ³•å±•ç¤ºå½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®‰è£…lodash ä½¿ç”¨cloneDeepå®ç°æ·±æ‹·è´ ä¸èƒ½ä½¿ç”¨JSONä¼šæœ‰é—®é¢˜</span></span><br><span class="line"><span class="keyword">import</span> cloneDeep <span class="keyword">from</span> <span class="string">&#x27;lodash/cloneDeep&#x27;</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">userInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">result</span>: userInfoResponseData = <span class="keyword">await</span> <span class="title function_">userInfo</span>();</span><br><span class="line">  <span class="keyword">if</span> (result.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="comment">//è®¡ç®—å½“å‰ç”¨æˆ·éœ€è¦å±•ç¤ºçš„å¼‚æ­¥è·¯ç”±</span></span><br><span class="line">    <span class="keyword">let</span> userAsyncRoute = <span class="title function_">filterAsyncRoute</span>(<span class="title function_">cloneDeep</span>(asyncRoute), result.<span class="property">data</span>.<span class="property">routes</span>);</span><br><span class="line">    <span class="comment">//èœå•éœ€è¦çš„æ•°æ®æ•´ç†å®Œæ¯•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">menuRoutes</span> = [...constantRoute, ...userAsyncRoute, ...anyRoute];</span><br><span class="line">    <span class="comment">//ç›®å‰è·¯ç”±å™¨ç®¡ç†çš„åªæœ‰å¸¸é‡è·¯ç”±:ç”¨æˆ·è®¡ç®—å®Œæ¯•å¼‚æ­¥è·¯ç”±ã€ä»»æ„è·¯ç”±åŠ¨æ€è¿½åŠ </span></span><br><span class="line">    [...userAsyncRoute, ...anyRoute].<span class="title function_">forEach</span>(<span class="function">(<span class="params"><span class="attr">route</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">      router.<span class="title function_">addRoute</span>(route);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Ok&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(result.<span class="property">message</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-3-åœ¨é€€å‡ºç™»å½•æ—¶-éœ€è¦è®©è·¯ç”±ä¿æŒå¸¸é‡è·¯ç”±">4.3 åœ¨é€€å‡ºç™»å½•æ—¶ éœ€è¦è®©è·¯ç”±ä¿æŒå¸¸é‡è·¯ç”±</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">menuRoutes = constantRoute ;</span><br></pre></td></tr></table></figure><h2 id="5-å…³äºå…¨å±€æŒ‰é’®çš„é‰´æƒ">5.å…³äºå…¨å±€æŒ‰é’®çš„é‰´æƒ</h2><div class="tip bell"><p>åœ¨è·å–ç”¨æˆ·ä¿¡æ¯ä¸€å¹¶æ‹¿åˆ°æŒ‰é’®çš„æƒé™ï¼Œç„¶åé€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤å¤„ç†</p></div><h3 id="5-1-ç”¨æˆ·ä»“åº“åˆå§‹åŒ–å¹¶è·å–ç”¨æˆ·ä¿¡æ¯">5.1 ç”¨æˆ·ä»“åº“åˆå§‹åŒ–å¹¶è·å–ç”¨æˆ·ä¿¡æ¯</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·ä»“åº“åˆå§‹åŒ–</span></span><br><span class="line"><span class="attr">state</span>: (): <span class="function"><span class="params">userState</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">buttons</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// è·å–ç”¨æˆ·ä¿¡æˆåŠŸåå¾—åˆ°æŒ‰é’®æƒé™ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">userInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">buttons</span> = result.<span class="property">data</span>.<span class="property">buttons</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="5-2-srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹-å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹">5.2 srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹ å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// srcä¸‹æ–°å»ºdirectiveæ–‡ä»¶å¤¹ å¹¶æ–°å»ºè‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶å¹¶å†™äºä»¥ä¸‹å†…å®¹</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&quot;@/store&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> useUserStroe <span class="keyword">from</span> <span class="string">&quot;@/store/modules/user&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> userState = <span class="title function_">useUserStroe</span>(pinia);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">isHasButton</span> = (<span class="params"><span class="attr">app</span>: <span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">/** è·å–å¯¹åº”çš„ä»“åº“ */</span></span><br><span class="line">  <span class="comment">/** å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ å®ç°æŒ‰é’®æƒé™ */</span></span><br><span class="line">  app.<span class="title function_">directive</span>(<span class="string">&#x27;has&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">/** å…¨å±€æŒ‡ä»¤æŒ‚è½½å®Œæ¯•åæ‰§è¡Œä¸€æ¬¡ */</span></span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"><span class="attr">el</span>: <span class="built_in">any</span>, <span class="attr">options</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">      <span class="comment">//è‡ªå®šä¹‰æŒ‡ä»¤å³ä¾§çš„æ•°å€¼:å¦‚æœåœ¨ç”¨æˆ·ä¿¡æ¯buttonsæ•°ç»„å½“ä¸­æ²¡æœ‰</span></span><br><span class="line">      <span class="comment">//ä»DOMæ ‘ä¸Šå¹²æ‰</span></span><br><span class="line">      <span class="keyword">if</span> (!userState.<span class="property">buttons</span>.<span class="title function_">includes</span>(options.<span class="property">value</span>)) &#123;</span><br><span class="line">        el.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-3-åœ¨main-tsä¸­å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤">5.3 åœ¨main.tsä¸­å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥è‡ªå®šä¹‰æŒ‡ä»¤</span></span><br><span class="line"><span class="keyword">import</span> &#123; isHasButton &#125; <span class="keyword">from</span> <span class="string">&quot;./directive/has&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"><span class="title function_">isHasButton</span>(app);</span><br></pre></td></tr></table></figure><h3 id="5-4-åœ¨é¡µé¢buttonæŒ‰é’®å¤„æ·»åŠ ä»¥ä¸‹ä»£ç ">5.4 åœ¨é¡µé¢buttonæŒ‰é’®å¤„æ·»åŠ ä»¥ä¸‹ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button v-has=&quot;`btn.Trademark.add`&quot;&gt;æ·»åŠ &lt;/el-button&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ’vue3æœ‰å…³é‰´æƒç›¸å…³é—®é¢˜</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>tsåŸºç¡€æ‰‹è®° (äºŒ)</title>
    <link href="https://www.axcode.cn/posts/370b9c5f.html"/>
    <id>https://www.axcode.cn/posts/370b9c5f.html</id>
    <published>2024-06-18T14:48:42.000Z</published>
    <updated>2024-06-18T15:22:14.000Z</updated>
    
    <content type="html"><![CDATA[<h1>ç¬¬äºŒç« ï¼šé¢å‘å¯¹è±¡</h1><h2 id="1-å…³äºé¢å‘å¯¹è±¡">1. å…³äºé¢å‘å¯¹è±¡</h2><div class="note blue no-icon flat"><p>é¢å‘å¯¹è±¡æ˜¯ç¨‹åºä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æ€æƒ³ï¼Œå®ƒè¢«å¾ˆå¤šåŒå­¦ç†è§£æˆäº†ä¸€ä¸ªæ¯”è¾ƒéš¾ï¼Œæ¯”è¾ƒæ·±å¥¥çš„é—®é¢˜ï¼Œå…¶å®ä¸ç„¶ã€‚é¢å‘å¯¹è±¡å¾ˆç®€å•ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ç¨‹åºä¹‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½éœ€è¦é€šè¿‡å¯¹è±¡æ¥å®Œæˆã€‚</p><ul><li>ä¸¾ä¾‹æ¥è¯´ï¼š<ul><li>æ“ä½œæµè§ˆå™¨è¦ä½¿ç”¨windowå¯¹è±¡</li><li>æ“ä½œç½‘é¡µè¦ä½¿ç”¨documentå¯¹è±¡</li><li>æ“ä½œæ§åˆ¶å°è¦ä½¿ç”¨consoleå¯¹è±¡</li></ul></li></ul><p>ä¸€åˆ‡æ“ä½œéƒ½è¦é€šè¿‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„é¢å‘å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±è¦å…ˆè¯´åˆ°ç¨‹åºæ˜¯ä»€ä¹ˆï¼Œè®¡ç®—æœºç¨‹åºçš„æœ¬è´¨å°±æ˜¯å¯¹ç°å®äº‹ç‰©çš„æŠ½è±¡ï¼ŒæŠ½è±¡çš„åä¹‰è¯æ˜¯å…·ä½“ï¼Œæ¯”å¦‚ï¼šç…§ç‰‡æ˜¯å¯¹ä¸€ä¸ªå…·ä½“çš„äººçš„æŠ½è±¡ï¼Œæ±½è½¦æ¨¡å‹æ˜¯å¯¹å…·ä½“æ±½è½¦çš„æŠ½è±¡ç­‰ç­‰ã€‚ç¨‹åºä¹Ÿæ˜¯å¯¹äº‹ç‰©çš„æŠ½è±¡ï¼Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬å¯ä»¥è¡¨ç¤ºä¸€ä¸ªäººã€ä¸€æ¡ç‹—ã€ä¸€æŠŠæªã€ä¸€é¢—å­å¼¹ç­‰ç­‰æ‰€æœ‰çš„äº‹ç‰©ã€‚ä¸€ä¸ªäº‹ç‰©åˆ°äº†ç¨‹åºä¸­å°±å˜æˆäº†ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>åœ¨ç¨‹åºä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†æ•°æ®å’ŒåŠŸèƒ½ï¼Œä»¥äººä¸ºä¾‹ï¼Œäººçš„å§“åã€æ€§åˆ«ã€å¹´é¾„ã€èº«é«˜ã€ä½“é‡ç­‰å±äºæ•°æ®ï¼Œäººå¯ä»¥è¯´è¯ã€èµ°è·¯ã€åƒé¥­ã€ç¡è§‰è¿™äº›å±äºäººçš„åŠŸèƒ½ã€‚æ•°æ®åœ¨å¯¹è±¡ä¸­è¢«æˆä¸ºå±æ€§ï¼Œè€ŒåŠŸèƒ½å°±è¢«ç§°ä¸ºæ–¹æ³•ã€‚æ‰€ä»¥ç®€è€Œè¨€ä¹‹ï¼Œåœ¨ç¨‹åºä¸­ä¸€åˆ‡çš†æ˜¯å¯¹è±¡ã€‚</p></div><h2 id="2-ç±»ï¼ˆclassï¼‰">2. ç±»ï¼ˆclassï¼‰</h2><p>è¦æƒ³é¢å‘å¯¹è±¡ï¼Œæ“ä½œå¯¹è±¡ï¼Œé¦–å…ˆä¾¿è¦æ‹¥æœ‰å¯¹è±¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•åˆ›å»ºå¯¹è±¡ã€‚è¦åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»è¦å…ˆå®šä¹‰ç±»ï¼Œæ‰€è°“çš„ç±»å¯ä»¥ç†è§£ä¸ºå¯¹è±¡çš„æ¨¡å‹ï¼Œç¨‹åºä¸­å¯ä»¥æ ¹æ®ç±»åˆ›å»ºæŒ‡å®šç±»å‹çš„å¯¹è±¡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼šå¯ä»¥é€šè¿‡Personç±»æ¥åˆ›å»ºäººçš„å¯¹è±¡ï¼Œé€šè¿‡Dogç±»åˆ›å»ºç‹—çš„å¯¹è±¡ï¼Œé€šè¿‡Carç±»æ¥åˆ›å»ºæ±½è½¦çš„å¯¹è±¡ï¼Œä¸åŒçš„ç±»å¯ä»¥ç”¨æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚</p><ul><li><p>å®šä¹‰ç±»ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> ç±»å &#123;</span><br><span class="line">å±æ€§å: ç±»å‹;</span><br><span class="line"></span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">å‚æ•°: ç±»å‹</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.å±æ€§å = å‚æ•°;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">æ–¹æ³•å()&#123;</span><br><span class="line">....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ç±»ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="title function_">sayHello</span>();</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹">3. é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹</h2><ul><li><p>å°è£…</p><ul><li><p>å¯¹è±¡å®è´¨ä¸Šå°±æ˜¯å±æ€§å’Œæ–¹æ³•çš„å®¹å™¨ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯å­˜å‚¨å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å°è£…</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„å±æ€§æ˜¯å¯ä»¥ä»»æ„çš„ä¿®æ”¹çš„ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨TSä¸­å¯ä»¥å¯¹å±æ€§çš„æƒé™è¿›è¡Œè®¾ç½®</p></li><li><p>åªè¯»å±æ€§ï¼ˆreadonlyï¼‰ï¼š</p><ul><li>å¦‚æœåœ¨å£°æ˜å±æ€§æ—¶æ·»åŠ ä¸€ä¸ªreadonlyï¼Œåˆ™å±æ€§ä¾¿æˆäº†åªè¯»å±æ€§æ— æ³•ä¿®æ”¹</li></ul></li><li><p>TSä¸­å±æ€§å…·æœ‰ä¸‰ç§ä¿®é¥°ç¬¦ï¼š</p><ul><li>publicï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»å’Œå¯¹è±¡ä¸­ä¿®æ”¹</li><li>protected ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»ä¸­ä¿®æ”¹</li><li>private ï¼Œå¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><ul><li><p>public</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>; <span class="comment">// å†™æˆ–ä»€ä¹ˆéƒ½ä¸å†™éƒ½æ˜¯public</span></span><br><span class="line">    <span class="keyword">public</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// å¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">//å­ç±»ä¸­å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="comment">// å¯ä»¥é€šè¿‡å¯¹è±¡ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li><li><p>protected</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">//å­ç±»ä¸­å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="comment">// ä¸èƒ½ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li><li><p>private</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">//å­ç±»ä¸­ä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">p.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="comment">// ä¸èƒ½ä¿®æ”¹</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>å±æ€§å­˜å–å™¨</p><ul><li><p>å¯¹äºä¸€äº›ä¸å¸Œæœ›è¢«ä»»æ„ä¿®æ”¹çš„å±æ€§ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºprivate</p></li><li><p>ç›´æ¥å°†å…¶è®¾ç½®ä¸ºprivateå°†å¯¼è‡´æ— æ³•å†é€šè¿‡å¯¹è±¡ä¿®æ”¹å…¶ä¸­çš„å±æ€§</p></li><li><p>æˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰ä¸€ç»„è¯»å–ã€è®¾ç½®å±æ€§çš„æ–¹æ³•ï¼Œè¿™ç§å¯¹å±æ€§è¯»å–æˆ–è®¾ç½®çš„å±æ€§è¢«ç§°ä¸ºå±æ€§çš„å­˜å–å™¨</p></li><li><p>è¯»å–å±æ€§çš„æ–¹æ³•å«åšsetteræ–¹æ³•ï¼Œè®¾ç½®å±æ€§çš„æ–¹æ³•å«åšgetteræ–¹æ³•</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">_name</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">name</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">name</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">name</span>); <span class="comment">// é€šè¿‡getterè¯»å–nameå±æ€§</span></span><br><span class="line">p1.<span class="property">name</span> = <span class="string">&#x27;çŒªå…«æˆ’&#x27;</span>; <span class="comment">// é€šè¿‡setterä¿®æ”¹nameå±æ€§</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>é™æ€å±æ€§</p><ul><li><p>é™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œä¹Ÿç§°ä¸ºç±»å±æ€§ã€‚ä½¿ç”¨é™æ€å±æ€§æ— éœ€åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡ç±»å³å¯ç›´æ¥ä½¿ç”¨</p></li><li><p>é™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä½¿ç”¨staticå¼€å¤´</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Tools</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="variable constant_">PI</span> = <span class="number">3.1415926</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">sum</span>(<span class="params"><span class="attr">num1</span>: <span class="built_in">number</span>, <span class="attr">num2</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> num1 + num2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Tools</span>.<span class="property">PI</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Tools</span>.<span class="title function_">sum</span>(<span class="number">123</span>, <span class="number">456</span>));</span><br></pre></td></tr></table></figure></li></ul></li><li><p>this</p><ul><li>åœ¨ç±»ä¸­ï¼Œä½¿ç”¨thisè¡¨ç¤ºå½“å‰å¯¹è±¡</li></ul></li></ul></li><li><p>ç»§æ‰¿</p><ul><li><p>ç»§æ‰¿æ—¶é¢å‘å¯¹è±¡ä¸­çš„åˆä¸€ä¸ªç‰¹æ€§</p></li><li><p>é€šè¿‡ç»§æ‰¿å¯ä»¥å°†å…¶ä»–ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•å¼•å…¥åˆ°å½“å‰ç±»ä¸­</p><ul><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>åœ¨æ±ªæ±ªå«ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;æ—ºè´¢&#x27;</span>, <span class="number">4</span>);</span><br><span class="line">dog.<span class="title function_">bark</span>();</span><br></pre></td></tr></table></figure></li></ul></li><li><p>é€šè¿‡ç»§æ‰¿å¯ä»¥åœ¨ä¸ä¿®æ”¹ç±»çš„æƒ…å†µä¸‹å®Œæˆå¯¹ç±»çš„æ‰©å±•</p></li><li><p>é‡å†™</p><ul><li><p>å‘ç”Ÿç»§æ‰¿æ—¶ï¼Œå¦‚æœå­ç±»ä¸­çš„æ–¹æ³•ä¼šæ›¿æ¢æ‰çˆ¶ç±»ä¸­çš„åŒåæ–¹æ³•ï¼Œè¿™å°±ç§°ä¸ºæ–¹æ³•çš„é‡å†™</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>åœ¨æ±ªæ±ªå«ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å­ç±»ä¸­çš„runæ–¹æ³•ï¼Œä¼šé‡å†™çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;æ—ºè´¢&#x27;</span>, <span class="number">4</span>);</span><br><span class="line">dog.<span class="title function_">bark</span>();</span><br></pre></td></tr></table></figure><ul><li>åœ¨å­ç±»ä¸­å¯ä»¥ä½¿ç”¨superæ¥å®Œæˆå¯¹çˆ¶ç±»çš„å¼•ç”¨</li></ul></li></ul></li><li><p>æŠ½è±¡ç±»ï¼ˆabstract classï¼‰</p><ul><li><p>æŠ½è±¡ç±»æ˜¯ä¸“é—¨ç”¨æ¥è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿çš„ç±»ï¼Œå®ƒåªèƒ½è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">run</span>(): <span class="built_in">void</span>;</span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åŠ¨ç‰©åœ¨å«~&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animals</span>&#123;</span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç‹—åœ¨è·‘~&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨abstractå¼€å¤´çš„æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“åªèƒ½å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­ï¼Œç»§æ‰¿æŠ½è±¡ç±»æ—¶æŠ½è±¡æ–¹æ³•å¿…é¡»è¦å®ç°ã€‚</p></li></ul></li></ul></li></ul><h2 id="4-æ¥å£ï¼ˆInterfaceï¼‰">4. æ¥å£ï¼ˆInterfaceï¼‰</h2><p>æ¥å£çš„ä½œç”¨ç±»ä¼¼äºæŠ½è±¡ç±»ï¼Œä¸åŒç‚¹åœ¨äºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§éƒ½æ˜¯æ²¡æœ‰å®å€¼çš„ï¼Œæ¢å¥è¯è¯´æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ã€‚æ¥å£ä¸»è¦è´Ÿè´£å®šä¹‰ä¸€ä¸ªç±»çš„ç»“æ„ï¼Œæ¥å£å¯ä»¥å»é™åˆ¶ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¯¹è±¡åªæœ‰åŒ…å«æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•æ—¶æ‰èƒ½åŒ¹é…æ¥å£ã€‚åŒæ—¶ï¼Œå¯ä»¥è®©ä¸€ä¸ªç±»å»å®ç°æ¥å£ï¼Œå®ç°æ¥å£æ—¶ç±»ä¸­è¦ä¿æŠ¤æ¥å£ä¸­çš„æ‰€æœ‰å±æ€§ã€‚</p><ul><li><p>ç¤ºä¾‹ï¼ˆæ£€æŸ¥å¯¹è±¡ç±»å‹ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">sayHello</span>():<span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"><span class="attr">per</span>: <span class="title class_">Person</span></span>)&#123;</span><br><span class="line">    per.<span class="title function_">sayHello</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, æˆ‘æ˜¯ <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>)&#125;&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹ï¼ˆå®ç°ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">sayHello</span>():<span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯&#x27;</span>+<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-æ³›å‹ï¼ˆGenericï¼‰">5. æ³›å‹ï¼ˆGenericï¼‰</h2><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–ç±»æ—¶ï¼Œæœ‰äº›æƒ…å†µä¸‹æ— æ³•ç¡®å®šå…¶ä¸­è¦ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼ˆè¿”å›å€¼ã€å‚æ•°ã€å±æ€§çš„ç±»å‹ä¸èƒ½ç¡®å®šï¼‰ï¼Œæ­¤æ—¶æ³›å‹ä¾¿èƒ½å¤Ÿå‘æŒ¥ä½œç”¨ã€‚</p><ul><li><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"><span class="attr">arg</span>: <span class="built_in">any</span></span>): <span class="built_in">any</span>&#123;</span><br><span class="line"><span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä¸Šä¾‹ä¸­ï¼Œtestå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ç±»å‹ä¸ç¡®å®šï¼Œä½†æ˜¯èƒ½ç¡®å®šçš„æ—¶å…¶è¿”å›å€¼çš„ç±»å‹å’Œå‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ï¼Œç”±äºç±»å‹ä¸ç¡®å®šæ‰€ä»¥å‚æ•°å’Œè¿”å›å€¼å‡ä½¿ç”¨äº†anyï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾è¿™æ ·åšæ˜¯ä¸åˆé€‚çš„ï¼Œé¦–å…ˆä½¿ç”¨anyä¼šå…³é—­TSçš„ç±»å‹æ£€æŸ¥ï¼Œå…¶æ¬¡è¿™æ ·è®¾ç½®ä¹Ÿä¸èƒ½ä½“ç°å‡ºå‚æ•°å’Œè¿”å›å€¼æ˜¯ç›¸åŒçš„ç±»å‹</p></li><li><p>ä½¿ç”¨æ³›å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> test&lt;T&gt;(<span class="attr">arg</span>: T): T&#123;</span><br><span class="line"><span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¿™é‡Œçš„<code>&lt;T&gt;</code>å°±æ˜¯æ³›å‹ï¼ŒTæ˜¯æˆ‘ä»¬ç»™è¿™ä¸ªç±»å‹èµ·çš„åå­—ï¼ˆä¸ä¸€å®šéå«Tï¼‰ï¼Œè®¾ç½®æ³›å‹åå³å¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨Tæ¥è¡¨ç¤ºè¯¥ç±»å‹ã€‚æ‰€ä»¥æ³›å‹å…¶å®å¾ˆå¥½ç†è§£ï¼Œå°±è¡¨ç¤ºæŸä¸ªç±»å‹ã€‚</p></li><li><p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ä¸Šè¾¹çš„å‡½æ•°å‘¢ï¼Ÿ</p><ul><li><p>æ–¹å¼ä¸€ï¼ˆç›´æ¥ä½¿ç”¨ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥ä¼ é€’å‚æ•°ä½¿ç”¨ï¼Œç±»å‹ä¼šç”±TSè‡ªåŠ¨æ¨æ–­å‡ºæ¥ï¼Œä½†æœ‰æ—¶ç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­æ—¶è¿˜éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</li></ul></li><li><p>æ–¹å¼äºŒï¼ˆæŒ‡å®šç±»å‹ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test&lt;<span class="built_in">number</span>&gt;(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><ul><li>ä¹Ÿå¯ä»¥åœ¨å‡½æ•°åæ‰‹åŠ¨æŒ‡å®šæ³›å‹</li></ul></li></ul></li><li><p>å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ³›å‹ï¼Œæ³›å‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> test&lt;T, K&gt;(<span class="attr">a</span>: T, <span class="attr">b</span>: K): K&#123;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test&lt;<span class="built_in">number</span>, <span class="built_in">string</span>&gt;(<span class="number">10</span>, <span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨æ³›å‹æ—¶ï¼Œå®Œå…¨å¯ä»¥å°†æ³›å‹å½“æˆæ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»å»ä½¿ç”¨</li></ul></li><li><p>ç±»ä¸­åŒæ ·å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="attr">prop</span>: T;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="attr">prop</span>: T</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">prop</span> = prop;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å¯¹æ³›å‹çš„èŒƒå›´è¿›è¡Œçº¦æŸ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInter</span>&#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> test&lt;T <span class="keyword">extends</span> <span class="title class_">MyInter</span>&gt;(<span class="attr">arg</span>: T): <span class="built_in">number</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨T extends MyInterè¡¨ç¤ºæ³›å‹Tå¿…é¡»æ˜¯MyInterçš„å­ç±»ï¼Œä¸ä¸€å®šéè¦ä½¿ç”¨æ¥å£ç±»å’ŒæŠ½è±¡ç±»åŒæ ·é€‚ç”¨ã€‚</li></ul></li></ul></li></ul>]]></content>
    
    
    <summary type="html">ğŸ¹tsåŸºç¡€æ‰‹è®° (äºŒ)</summary>
    
    
    
    <category term="Ts" scheme="https://www.axcode.cn/categories/Ts/"/>
    
    
    <category term="Ts" scheme="https://www.axcode.cn/tags/Ts/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºæ·±æµ…æ‹·è´çš„é‚£äº›äº‹</title>
    <link href="https://www.axcode.cn/posts/59d18d96.html"/>
    <id>https://www.axcode.cn/posts/59d18d96.html</id>
    <published>2024-06-15T09:29:32.000Z</published>
    <updated>2024-08-08T10:42:38.271Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><div class="tip "><p>æ­¤æ–‡éƒ¨åˆ†æ¥è‡ªäºå…¬ä¼—å·ä½œè€… <code>å¤§è¿ä¸–ç•Œ</code> æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><div class="note blue no-icon flat"><p>æ‰€è°“æ·±æµ…æ‹·è´ï¼Œå…¶å®éƒ½æ˜¯è¿›è¡Œå¤åˆ¶ï¼Œä¸»è¦åŒºåˆ«åœ¨äºå¤åˆ¶å‡ºæ¥çš„æ–°å¯¹è±¡å’ŒåŸæ¥çš„å¯¹è±¡æ—¶å€™ä¼šç›¸äº’å½±å“ã€‚<br>æ·±æµ…æ‹·è´çš„åŒºåˆ†ï¼šB å¤åˆ¶ Aï¼Œå¦‚ä½•A å‘ç”Ÿå˜åŒ– Bè·Ÿç€å˜åŒ– æµ…æ‹·è´<br>åä¹‹ï¼Œ å¦‚æœ B ä¸å‘ç”Ÿå˜åŒ– åˆ™ä¸ºæ·±æ‹·è´ã€‚<br>æµ…æ‹·è´ A B æŒ‡å‘åŒä¸€ä¸ªåœ°å€ æ‰€ä»¥ Aå—å½±å“ Bä¹Ÿä¼šå—å½±å“</p></div><h2 id="1-æ·±æµ…æ‹·è´å®ä¾‹">1. æ·±æµ…æ‹·è´å®ä¾‹</h2><h3 id="æµ…æ‹·è´">æµ…æ‹·è´</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> a_clone = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === a_clone);</span><br><span class="line">a_clone[<span class="number">0</span>] = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a_clone);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e871b04.webp" alt=""></p><h3 id="æ·±æ‹·è´">æ·±æ‹·è´</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]];</span><br><span class="line"><span class="keyword">var</span> obj_extend =$.<span class="title function_">extend</span>(<span class="literal">true</span>,&#123;&#125;,obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend === obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e8725ef.webp" alt=""></p><div class="tip "><p>è¦æ·±å…¥äº†è§£æ·±æµ…æ‹·è´å¿…é€‰å…ˆè¦äº†è§£å…¶åŸç†ï¼Œè¿™å°±ä¸å¾—ä¸è¯´åˆ°ECMAScriptä¸­çš„æ•°æ®ç±»å‹ã€‚</p></div><h2 id="2-åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹">2. åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h2><h3 id="2-1-åˆ†ç±»">2.1 åˆ†ç±»</h3><p>åŸºæœ¬ç±»å‹ï¼šundefined,null,å¸ƒå°”å€¼ï¼ˆBooleanï¼‰,å­—ç¬¦ä¸²(String),æ•°å€¼(Number)<br>å¼•ç”¨ç±»å‹ï¼šç»Ÿç§°ä¸ºObjectç±»å‹ï¼Œç»†åˆ†ä¸ºï¼šFunctionã€Dateã€Arrayã€Objectç±»å‹ç­‰ã€‚</p><h3 id="2-2-ä¸åŒçš„æ•°æ®å­˜å‚¨å½¢å¼">2.2 ä¸åŒçš„æ•°æ®å­˜å‚¨å½¢å¼</h3><p>ç®€å•æ¥è¯´, <code>åŸºæœ¬æ•°æ®ç±»å‹</code>ä¿å­˜åœ¨<code>æ ˆå†…å­˜</code> <code>å¼•ç”¨ç±»å‹</code>ä¿å­˜åœ¨<code>å †å†…å­˜</code></p><h4 id="2-2-1-æ ˆå†…å­˜">2.2.1 æ ˆå†…å­˜</h4><p>æ ˆå†…å­˜ä¸­åˆ†åˆ«å­˜å‚¨ç€å˜é‡çš„æ ‡è¯†ç¬¦ä»¥åŠå˜é‡çš„å€¼</p><p><img src="https://bu.dusays.com/2024/06/15/666d60e871c6d.webp" alt=""></p><p>å³ï¼š<code>var a = &quot;A&quot;</code></p><p>åœ¨æ ˆå†…å­˜ä¸­æ˜¯è¿™æ ·çš„</p><p><img src="https://bu.dusays.com/2024/06/15/666d60e8704f6.webp" alt=""></p><h4 id="2-1-2-å †å†…å­˜">2.1.2 å †å†…å­˜</h4><p>æ ˆå†…å­˜å­˜å‚¨çš„æ˜¯å˜é‡çš„æ ‡è¯†ç¬¦ä»¥åŠå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å­˜å‚¨åœ°å€ï¼Œä½†éœ€è¦è®¿é—®å¼•ç”¨ç±»å‹ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰çš„å€¼æ—¶ï¼Œé¦–å…ˆéœ€è¦ä»æ ˆä¸­è·å¾—è¯¥å¯¹è±¡çš„åœ°å€æŒ‡é’ˆï¼Œç„¶åå†ä»å¯¹åº”çš„å †å†…å­˜ä¸­å–å¾—æ‰€éœ€çš„æ•°æ®ã€‚</p><p><img src="https://bu.dusays.com/2024/06/15/666d63b289425.webp" alt=""></p><p>å³ï¼š<code>var a = &#123;name:â€œjackâ€&#125;;</code><br>åœ¨å†…å­˜ä¸­æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://bu.dusays.com/2024/06/15/666d60e86ea7b.webp" alt=""></p><h2 id="3-ä¸åŒç±»å‹çš„å¤åˆ¶å½¢å¼">3. ä¸åŒç±»å‹çš„å¤åˆ¶å½¢å¼</h2><h3 id="3-1-åŸºæœ¬ç±»å‹çš„å¤åˆ¶">3.1 åŸºæœ¬ç±»å‹çš„å¤åˆ¶</h3><p>å½“ä½ åœ¨å¤åˆ¶æ—¶ï¼Œç›¸å½“äºæŠŠå€¼ä¹Ÿä¸€å¹¶å¤åˆ¶ç»™äº†æ–°çš„å˜é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e86dc69.webp" alt=""></p><p>æ”¹å˜açš„å€¼ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°bã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =<span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e861cae.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = a;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e86d0e8.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4bb526.webp" alt=""></p><h3 id="3-2-å¼•ç”¨ç±»å‹çš„å¤åˆ¶">3.2 å¼•ç”¨ç±»å‹çš„å¤åˆ¶</h3><p>å½“å¤åˆ¶å¼•ç”¨ç±»å‹æ—¶ï¼Œå®é™…ä¸Šåªæ˜¯èµ‹å€¼èµ·æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œå³åŸæ¥çš„å˜é‡ä¸å¤åˆ¶çš„æ–°å˜é‡æŒ‡å‘äº†åŒä¸€ä¸ªä¸œè¥¿</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =&#123;<span class="attr">name</span>:<span class="string">&quot;jack&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b);</span><br><span class="line">a.<span class="property">age</span> =<span class="number">30</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d65fa94b27.webp" alt=""></p><p>å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼šæ”¹å˜açš„å€¼ï¼Œä¹Ÿä¼šå½±å“bçš„å€¼<br>å†…å­˜ä¸­æ˜¯è¿™æ ·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">name</span>:<span class="string">&quot;jack&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60e86ea7b.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = a;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b5528.webp" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="property">age</span> = <span class="number">30</span>;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b83b3.webp" alt=""></p><div class="note blue no-icon flat"><p>çœ‹å®Œä¸Šé¢ä¹‹åï¼Œæ˜¯ä¸æ˜¯å°±æ˜ç™½äº†ã€‚æ‰€è°“æ·±æµ…æ‹·è´ï¼š<br>å¯¹äºä»…ä»…æ˜¯å¤åˆ¶äº†å¼•ç”¨ï¼ˆåœ°å€ï¼‰,æ¢è¨€ä¹‹ï¼ŒåŸæ¥çš„å˜é‡å’Œæ–°çš„å˜é‡æŒ‡å‘äº†åŒä¸€ä¸ªä¸œè¥¿ï¼Œå½¼æ­¤ä¹‹é—´çš„æ“ä½œä¼šäº’ç›¸å½±å“ï¼Œä¸º<code>æµ…æ‹·è´</code>ã€‚<br>åè¨€ä¹‹ã€‚å¦‚æœæ˜¯åœ¨å †ä¸­é‡æ–°åˆ†é…å†…å­˜ï¼Œæ‹¥æœ‰ä¸åŒçš„åœ°å€ï¼Œä½†æ˜¯å€¼æ˜¯ä¸€æ ·çš„ï¼Œå¤åˆ¶åçš„å¯¹è±¡ä¸åŸæ¥çš„å¯¹è±¡æ˜¯å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å½±å“çš„ï¼Œä¸º <code>æ·±æ‹·è´</code></p></div><div class="tip home"><p>æ·±æµ…æ‹·è´çš„ä¸»è¦åŒºåˆ«ï¼šå¤åˆ¶çš„æ˜¯å¼•ç”¨ï¼ˆåœ°å€ï¼‰è¿˜æ˜¯å¤åˆ¶çš„æ˜¯å®ä¾‹ã€‚</p><p>æ¥ä¸‹æ¥å°±å¯¹ä¸Šè¿°å®ä¾‹è¿›è¡Œæ·±æ‹·è´çš„å®ç°</p></div><h2 id="4-å®ç°æ·±æ‹·è´æ–¹å¼">4. å®ç°æ·±æ‹·è´æ–¹å¼</h2><h3 id="4-1-åˆ©ç”¨é€’å½’æ–¹å¼-å¯¹å±æ€§ä¸­æ‰€æœ‰çš„å¼•ç”¨ç±»å‹çš„å€¼ï¼Œéå†åˆ°æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¸ºæ­¢ã€‚">4.1 åˆ©ç”¨é€’å½’æ–¹å¼ å¯¹å±æ€§ä¸­æ‰€æœ‰çš„å¼•ç”¨ç±»å‹çš„å€¼ï¼Œéå†åˆ°æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¸ºæ­¢ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCLone</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> targetObj = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)?[]:&#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> keys <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.<span class="title function_">hasOwnProperty</span>(keys))&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj[keys] &amp;&amp; <span class="keyword">typeof</span> obj[keys] === <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">                targetObj[keys] = <span class="title function_">deepCLone</span>(obj[keys])</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                targetObj[keys] = obj[keys]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> targetObj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a =&#123;<span class="attr">name</span>:<span class="string">&quot;jack&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b = <span class="title function_">deepCLone</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b ===a);</span><br><span class="line">a.<span class="property">age</span> = <span class="number">30</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b70bb.webp" alt=""></p><h3 id="4-2-jQueryä¸­çš„-extendå¤åˆ¶æ–¹æ³•">4.2 jQueryä¸­çš„ extendå¤åˆ¶æ–¹æ³•</h3><div class="tip home"><p>å¯ä»¥ç”¨æ¥æ‰©å±•å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼šdeep(true or<br>false),è¡¨ç¤ºæ˜¯å¦æ‰§è¡Œæ·±å¤åˆ¶(å¦‚æœæ‰§è¡Œæ·±å¤åˆ¶åˆ™ä¼šæ‰§è¡Œé€’å½’å¤åˆ¶)</p></div><ul><li><p>æ·±æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">&quot;xixi&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">company</span>:&#123;<span class="attr">name</span>:<span class="string">&quot;è…¾è®¯&quot;</span>,<span class="attr">address</span>:<span class="string">&quot;æ·±åœ³&quot;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj_extend =$.<span class="title function_">extend</span>(<span class="literal">true</span>,&#123;&#125;,obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj_extend);</span><br><span class="line">obj.<span class="property">company</span>.<span class="property">name</span>=<span class="string">&quot;é˜¿é‡Œ&quot;</span>;</span><br><span class="line">obj.<span class="property">name</span>=<span class="string">&quot;albabba&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b6700.webp" alt=""></p></li><li><p>æµ…æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">&quot;xixi&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">company</span>:&#123;<span class="attr">name</span>:<span class="string">&quot;è…¾è®¯&quot;</span>,<span class="attr">address</span>:<span class="string">&quot;æ·±åœ³&quot;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj_extend =$.<span class="title function_">extend</span>(<span class="literal">false</span>,&#123;&#125;,obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj_extend);</span><br><span class="line">obj.<span class="property">company</span>.<span class="property">name</span>=<span class="string">&quot;é˜¿é‡Œ&quot;</span>;</span><br><span class="line">obj.<span class="property">name</span>=<span class="string">&quot;albabba&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_extend);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4af9db.webp" alt=""></p></li></ul><div class="tip bolt"><p>ä»companyçš„å˜åŒ–å¯ä»¥çœ‹å‡ºï¼Œè²Œä¼¼æ˜¯æµ…æ‹·è´ï¼Œä½†æ˜¯nameåˆè²Œä¼¼æ˜¯æ·±æ‹·è´ï¼Œè¿™æ˜¯ä½•è§£ã€‚</p></div><div class="note blue no-icon flat"><p>å…¶å®ï¼ŒArrayçš„slice å’Œconcatæ–¹æ³•å’ŒjQueryä¸­çš„extendå¤åˆ¶æ–¹æ³•ï¼Œéƒ½æ˜¯ä¼šå¤åˆ¶ç¬¬ä¸€å±‚çš„å€¼ï¼Œå¯¹äºç¬¬ä¸€å±‚çš„å€¼éƒ½æ˜¯æ·±æ‹·è´ï¼Œè€Œåˆ°ç¬¬äºŒå±‚çš„æ—¶å€™ Arrayçš„sliceå’Œconcatæ–¹æ³•å°±æ˜¯å¤åˆ¶å¼•ç”¨ï¼ŒjQueryä¸­çš„extendå¤åˆ¶æ–¹æ³•åˆ™å–å†³äºä½ çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ—¶å€™è¿›è¡Œé€’å½’å¤åˆ¶ã€‚<br>æ‰€è°“ç¬¬ä¸€å±‚ å°±æ˜¯ keyæ‰€å¯¹åº”çš„valueå€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åƒå®ä¾‹ä¸­çš„nameï¼Œageï¼Œè€Œå¯¹äºvalueå€¼æ˜¯å¼•ç”¨ç±»å‹ åˆ™ä¸ºç¬¬äºŒå±‚ï¼Œä¹Ÿå°±æ˜¯åƒä¸Šé¢çš„companyã€‚</p></div><div class="tip cogs"><p>é¡ºä¾¿ æˆ‘ä»¬å¯ä»¥è¯•ä¸€ä¸‹ slice å’Œconcat</p></div><h4 id="slice">slice</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span>  b = a.<span class="title function_">slice</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b === a);</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4a7a02.webp" alt=""></p><h4 id="concat">concat</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span>  b = a.<span class="title function_">concat</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b === a);</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4a7a02.webp" alt=""></p><p>çœ‹ä¼¼æ˜¯æ·±æ‹·è´ï¼Œå…¶å®ä¸ç„¶ï¼Œä¸‹é¢çš„ä¾‹å­å°±è¯´æ˜äº†ä¸€åˆ‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> b= a.<span class="title function_">slice</span>();</span><br><span class="line">a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">6</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4ab243.webp" alt=""></p><p class='p red'>è¿™å°±å¾ˆæ˜æ˜¾çš„çœ‹å‡ºæ¥äº†ï¼Œä¸Šé¢æ‰€è¿°ï¼Œç¬¬ä¸€å±‚æ˜¯æ·±æ‹·è´ ç¬¬äºŒå±‚ æ˜¯å¼•ç”¨ã€‚</p><h3 id="4-3-JSONå¯¹è±¡çš„parseå’Œstringify">4.3 JSONå¯¹è±¡çš„parseå’Œstringify</h3><ul><li>JSONå¯¹è±¡ä¸­çš„stringifyå¯ä»¥æŠŠä¸€ä¸ªjså¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸²</li><li>parseå¯ä»¥æŠŠJSONå­—ç¬¦ä¸²ååºåŒ–ä¸ºä¸€ä¸ªjså¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å®ç°çš„æ˜¯æ·±æ‹·è´</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj =&#123;<span class="attr">name</span>:<span class="string">&#x27;xixi&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">company</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;TX&#x27;</span>,<span class="attr">address</span>:<span class="string">&#x27;æ·±åœ³&#x27;</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj_json = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj_json);</span><br><span class="line">obj.<span class="property">name</span>=<span class="string">&quot;ali&quot;</span>;</span><br><span class="line">obj.<span class="property">company</span>.<span class="property">name</span>=<span class="string">&quot;AL&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj_json);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666d60d4b310f.webp" alt=""></p><h2 id="5-å¦‚ä½•å®ç°å¯¹å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´">5. å¦‚ä½•å®ç°å¯¹å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">address</span>: &#123;<span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">100</span>&#125;&#125;</span><br><span class="line">obj.<span class="property">o</span> = obj</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note blue no-icon flat"><p>objä¸­çš„å±æ€§oæŒ‡å‘objæœ¬èº«ï¼Œåœ¨æ·±æ‹·è´è¿‡ç¨‹ä¸­å°±ä¼šå‡ºç°å¾ªç¯å¼•ç”¨é—®é¢˜<br>å¦‚æœè¿˜ä½¿ç”¨ä¸Šè¿°çš„ç®—æ³•ï¼Œå°±ä¼šå‡ºç°è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜</p><p>å› æ­¤ï¼Œè¦è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ª<code>Map</code>/<code>WeakMap</code>æ¥å­˜æ”¾å·²ç»æ‹·è´è¿‡çš„å¯¹è±¡<br>keyä¸ºæ—§å¯¹è±¡ï¼Œvalueä¸ºæ–°å¯¹è±¡<br>åœ¨å…ˆæ‹·è´å±æ€§ä¹‹å‰ï¼Œå…ˆå»mapä¸­æŸ¥æ‰¾æ˜¯å¦å·²ç»è¢«å¤„ç†è¿‡ï¼Œå¦‚æœè¢«å¤„ç†è¿‡ï¼Œç›´æ¥è¿”å›valueå€¼<br>åœ¨æ‹·è´å±æ€§ä¹‹å‰ï¼ŒæŠŠæ–°ã€æ—§å¯¹è±¡ä¿å­˜åˆ°mapä¸­</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj = &#123;&#125;, hash = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœä¼ å…¥çš„æ˜¯å€¼ç±»å‹/nullï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj != <span class="string">&#x27;object&#x27;</span> || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (hash.<span class="title function_">get</span>(obj)) &#123;</span><br><span class="line">    <span class="keyword">return</span> hash.<span class="title function_">get</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result</span><br><span class="line">  <span class="keyword">if</span> (result <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    result = []</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  hash.<span class="title function_">set</span>(obj, result)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="property">hasOwnProperty</span>.<span class="title function_">call</span>(obj, key)) &#123;</span><br><span class="line">      result[key] = <span class="title function_">deepClone</span>(obj[key], hash)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">address</span>: &#123;<span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">100</span>&#125;&#125;</span><br><span class="line">  obj.<span class="property">o</span> = obj</span><br><span class="line">  obj.<span class="property">address</span>.<span class="property">z</span> = obj</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">deepClone</span>(obj))</span><br><span class="line">  obj.<span class="property">address</span>.<span class="property">x</span> = <span class="number">140</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/15/666da84737b0f.png" alt=""></p><h2 id="6-structuredClone">6. structuredClone()</h2><div class="tip info"><p>JavaScriptä¸­æ·±æ‹·è´å¯¹è±¡çš„æœ€ç®€å•æ–¹æ³•,å¯ä»¥æ·±åº¦å¤åˆ¶ä»»ä½•å¯¹è±¡ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Tari&#x27;</span>, <span class="attr">friends</span>: [&#123; <span class="attr">name</span>: <span class="string">&#x27;Messi&#x27;</span> &#125;] &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> clonedObj = <span class="title function_">structuredClone</span>(obj);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span> === clonedObj); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">friends</span> === clonedObj.<span class="property">friends</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="6-1-è½»æ¾å…‹éš†å¾ªç¯å¼•ç”¨">6.1 è½»æ¾å…‹éš†å¾ªç¯å¼•ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&#x27;Toyota&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‘† å¾ªç¯å¼•ç”¨</span></span><br><span class="line">car.<span class="property">basedOn</span> = car;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cloned = <span class="title function_">structuredClone</span>(car);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car.<span class="property">basedOn</span> === cloned.<span class="property">basedOn</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‘‡ å¾ªç¯å¼•ç”¨è¢«å…‹éš†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car === car.<span class="property">basedOn</span>); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ°¸è¿œæ— æ³•ç”¨<code>JSON</code> <code>stringify</code>/<code>parse</code>æŠ€å·§å®ç°çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&#x27;Toyota&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">car.<span class="property">basedOn</span> = car;</span><br><span class="line"><span class="keyword">const</span> cloned = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(car));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car.<span class="property">basedOn</span> === cloned.<span class="property">basedOn</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car === car.<span class="property">basedOn</span>); </span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/08/06/66b1d36067f1c.png" alt=""></p><h3 id="6-2-å¯å¯¹ä¸é™å±‚æ¬¡çš„å¯¹è±¡è¿›è¡Œæ‹·è´">6.2 å¯å¯¹ä¸é™å±‚æ¬¡çš„å¯¹è±¡è¿›è¡Œæ‹·è´</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">      <span class="attr">c</span>: &#123;</span><br><span class="line">        <span class="attr">d</span>: &#123;</span><br><span class="line">          <span class="attr">e</span>: <span class="string">&#x27;Coding Beauty&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> clone = <span class="title function_">structuredClone</span>(obj);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone.<span class="property">a</span>.<span class="property">b</span>.<span class="property">c</span>.<span class="property">d</span> === obj.<span class="property">a</span>.<span class="property">b</span>.<span class="property">c</span>.<span class="property">d</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone.<span class="property">a</span>.<span class="property">b</span>.<span class="property">c</span>.<span class="property">d</span>.<span class="property">e</span>); <span class="comment">// Coding Beauty</span></span><br></pre></td></tr></table></figure><h3 id="6-3-structuredClone-çš„å±€é™æ€§">6.3 <code>structuredClone()</code>çš„å±€é™æ€§</h3><h4 id="6-3-1-æ— æ³•å…‹éš†å‡½æ•°æˆ–æ–¹æ³•">6.3.1 æ— æ³•å…‹éš†å‡½æ•°æˆ–æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&#x27;Toyota&#x27;</span>,</span><br><span class="line">  <span class="title function_">move</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;vroom vroom...&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">car.<span class="property">basedOn</span> = car;</span><br><span class="line"><span class="keyword">const</span> cloned = <span class="title function_">structuredClone</span>(car);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/08/06/66b1d6881c177.png" alt=""></p><p>æŠ¥é”™ä¿¡æ¯ï¼š&quot;Failed to execute â€˜structuredCloneâ€™ on â€˜Windowâ€™: move()â€™ è¡¨ç¤ºåœ¨å°è¯•ä½¿ç”¨ <code>structuredClone</code> æ–¹æ³•å¤åˆ¶æˆ–åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶é‡åˆ°äº†é—®é¢˜ã€‚<code>structuredClone</code> æ˜¯ä¸€ä¸ªç”¨äºæ·±åº¦å¤åˆ¶å¯¹è±¡çš„æ–¹æ³•ï¼Œå®ƒèƒ½å¤Ÿæ­£ç¡®å¤åˆ¶åŒ…æ‹¬å‡½æ•°åœ¨å†…çš„æ‰€æœ‰å€¼ã€‚</p><p>é—®é¢˜å¯èƒ½å‡ºç°åœ¨ <code>move()</code> å‡½æ•°ä¸Šï¼Œå› ä¸ºåœ¨å°è¯•åºåˆ—åŒ–æˆ–å¤åˆ¶è¯¥å‡½æ•°æ—¶é‡åˆ°äº†é—®é¢˜ã€‚<code>structuredClone</code> ä¸èƒ½å¤åˆ¶ä¸å¯åºåˆ—åŒ–çš„å€¼ï¼Œæ¯”å¦‚å‡½æ•°æˆ– DOM èŠ‚ç‚¹ã€‚</p><h4 id="6-3-2-æ— æ³•å…‹éš†DOMå…ƒç´ ">6.3.2 æ— æ³•å…‹éš†DOMå…ƒç´ </h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;test&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testClone = <span class="title function_">structuredClone</span>(test);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testClone);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/08/06/66b1d7ee6037d.png" alt=""></p><h4 id="6-3-3-ä¸ä¿ç•™RegExpçš„lastIndexå±æ€§">6.3.3 ä¸ä¿ç•™<code>RegExp</code>çš„<code>lastIndex</code>å±æ€§</h4><p>è™½ç„¶ä¸ä¼šå»å…‹éš†<code>æ­£åˆ™è¡¨è¾¾å¼</code>ï¼Œä½†è¿™æ˜¯å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> regex = <span class="regexp">/beauty/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;Coding Beauty: JS problems are solved at Coding Beauty&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regex.<span class="property">index</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regex.<span class="property">lastIndex</span>); <span class="comment">// 7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> regexClone = <span class="title function_">structuredClone</span>(regex);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexClone.<span class="property">lastIndex</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h3 id="6-4-å…¶ä»–çš„é™åˆ¶">6.4 å…¶ä»–çš„é™åˆ¶</h3><div class="tip warning"><p>äº†è§£è¿™äº›é™åˆ¶å¾ˆé‡è¦ï¼Œä»¥é¿å…ä½¿ç”¨è¯¥å‡½æ•°æ—¶å‡ºç°æ„å¤–è¡Œä¸ºã€‚</p></div><p><strong>éƒ¨åˆ†å…‹éš†ï¼Œéƒ¨åˆ†ç§»åŠ¨</strong></p><p>è¿™æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„æƒ…å†µã€‚</p><p>ä½ å°†å†…éƒ¨å¯¹è±¡ä»æºå¯¹è±¡è½¬ç§»åˆ°å…‹éš†å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¤åˆ¶ã€‚</p><p>è¿™æ„å‘³ç€æºå¯¹è±¡ä¸­æ²¡æœ‰ç•™ä¸‹ä»»ä½•å¯ä»¥æ”¹å˜çš„ä¸œè¥¿ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uInt8Array = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>(</span><br><span class="line">    &#123; <span class="attr">length</span>: <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">16</span> &#125;,</span><br><span class="line">    <span class="function">(<span class="params">v, i</span>) =&gt;</span> i</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> transferred = <span class="title function_">structuredClone</span>(uInt8Array, &#123;</span><br><span class="line">    <span class="attr">transfer</span>: [uInt8Array.<span class="property">buffer</span>],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(uInt8Array.<span class="property">byteLength</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>æ€»çš„æ¥è¯´ï¼Œ<code>structuredClone()</code>æ˜¯JavaScriptå¼€å‘è€…å·¥å…·ç®±ä¸­çš„ä¸€ä¸ªå®è´µè¡¥å……ï¼Œä½¿å¯¹è±¡å…‹éš†æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´å®¹æ˜“ã€‚</p>]]></content>
    
    
    <summary type="html">ğŸ¥­å…³äºæ·±æµ…æ‹·è´çš„é‚£äº›äº‹</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>Vueåˆ¤æ–­ç”¨æˆ·é•¿æ—¶é—´æœªæ“ä½œæ¸…é™¤tokenå¹¶é€€å‡ºç™»å½•</title>
    <link href="https://www.axcode.cn/posts/6263542e.html"/>
    <id>https://www.axcode.cn/posts/6263542e.html</id>
    <published>2024-06-14T14:50:10.000Z</published>
    <updated>2024-07-28T10:50:39.607Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">    &lt;div id =&quot;app&quot; @click=&quot;isDo()&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">exoprt default&#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">        lastTime:null, //ç¬¬ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶</span><br><span class="line">        currentTime:null,  //å½“å‰ç‚¹å‡»äº‹ä»¶</span><br><span class="line">        timeOut:30*60*1000 // è®¾ç½®è¶…æ—¶æ—¶é—´ï¼š30åˆ†é’Ÿ</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created()&#123;</span><br><span class="line">    this.lastTime  = new Date().getTime();  // ç½‘é¡µç¬¬ä¸€æ¬¡æ‰“å¼€æ—¶ï¼Œè®°å½•å½“å‰æ—¶é—´</span><br><span class="line">  &#125;,</span><br><span class="line">   mounted()&#123;</span><br><span class="line">      var quitTIme = window.setInterval(this.testTime,1000);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    isDo()&#123;</span><br><span class="line">      this.currentTime = new Date().getTime(); // è®°å½•å½“å‰ç‚¹å‡»çš„æ—¶é—´</span><br><span class="line">      if(this.currentTIme - this.lastTime &gt; this.timeOut)&#123; //åˆ¤æ–­ä¸Šæ¬¡æœ€åä¸€æ¬¡çš„ç‚¹å‡»æ—¶é—´å’Œæœ€æ–°çš„ç‚¹å‡»æ—¶é—´é—´éš”æ—¶å€™å¤§äº30åˆ†é’Ÿ</span><br><span class="line">      // è¿™é‡Œå†™çŠ¶æ€å·²è¿‡æœŸåæ‰§è¡Œçš„æ“ä½œ</span><br><span class="line">      localStorage.removeItem(&quot;token&quot;);</span><br><span class="line">       this.$router.push(&#123; path: &#x27;/login&#x27; &#125;);</span><br><span class="line">        // æ¸…é™¤å®šæ—¶å™¨</span><br><span class="line">       window.clearInterval(quitTIme);</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        this.lastTime  = new Date().getTime(); //å¦‚æœ30åˆ†ä¹‹å†…ç‚¹å‡»ï¼Œåˆ™æŠŠæœ€æ–°æ—¶é—´è®°å½•è¦†ç›–æ‰ä¹‹å‰å­˜çš„æœ€åä¸€æ¬¡ç‚¹å‡»æ—¶é—´</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸVueåˆ¤æ–­ç”¨æˆ·é•¿æ—¶é—´æœªæ“ä½œæ¸…é™¤tokenå¹¶é€€å‡ºç™»å½•</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>tsåŸºç¡€æ‰‹è®°ï¼ˆä¸€ï¼‰</title>
    <link href="https://www.axcode.cn/posts/8c4a663e.html"/>
    <id>https://www.axcode.cn/posts/8c4a663e.html</id>
    <published>2024-06-14T10:34:12.000Z</published>
    <updated>2024-06-15T14:50:59.000Z</updated>
    
    <content type="html"><![CDATA[<h1>ç¬¬ä¸€ç«  å¿«é€Ÿå…¥é—¨</h1><h2 id="1-TypeScriptç®€ä»‹">1. TypeScriptç®€ä»‹</h2><div class="note blue no-icon flat"><ol><li>TypeScriptæ˜¯JavaScriptçš„è¶…é›†ã€‚</li><li>å®ƒå¯¹JSè¿›è¡Œäº†æ‰©å±•ï¼Œå‘JSä¸­å¼•å…¥äº†ç±»å‹çš„æ¦‚å¿µï¼Œå¹¶æ·»åŠ äº†è®¸å¤šæ–°çš„ç‰¹æ€§ã€‚</li><li>TSä»£ç éœ€è¦é€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘ä¸ºJSï¼Œç„¶åå†äº¤ç”±JSè§£æå™¨æ‰§è¡Œã€‚</li><li>TSå®Œå…¨å…¼å®¹JSï¼Œæ¢è¨€ä¹‹ï¼Œä»»ä½•çš„JSä»£ç éƒ½å¯ä»¥ç›´æ¥å½“æˆJSä½¿ç”¨ã€‚</li><li>ç›¸è¾ƒäºJSè€Œè¨€ï¼ŒTSæ‹¥æœ‰äº†é™æ€ç±»å‹ï¼Œæ›´åŠ ä¸¥æ ¼çš„è¯­æ³•ï¼Œæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼›TSå¯ä»¥åœ¨ä»£ç æ‰§è¡Œå‰å°±å®Œæˆä»£ç çš„æ£€æŸ¥ï¼Œå‡å°äº†è¿è¡Œæ—¶å¼‚å¸¸çš„å‡ºç°çš„å‡ ç‡ï¼›TSä»£ç å¯ä»¥ç¼–è¯‘ä¸ºä»»æ„ç‰ˆæœ¬çš„JSä»£ç ï¼Œå¯æœ‰æ•ˆè§£å†³ä¸åŒJSè¿è¡Œç¯å¢ƒçš„å…¼å®¹é—®é¢˜ï¼›åŒæ ·çš„åŠŸèƒ½ï¼ŒTSçš„ä»£ç é‡è¦å¤§äºJSï¼Œä½†ç”±äºTSçš„ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œå˜é‡ç±»å‹æ›´åŠ æ˜ç¡®ï¼Œåœ¨åæœŸä»£ç çš„ç»´æŠ¤ä¸­TSå´è¿œè¿œèƒœäºJSã€‚</li></ol></div><h2 id="2-TypeScript-å¼€å‘ç¯å¢ƒæ­å»º">2. TypeScript å¼€å‘ç¯å¢ƒæ­å»º</h2><ol><li><p>ä¸‹è½½Node.js</p><ul><li>64ä½ï¼š<a href="https://nodejs.org/dist/v14.15.1/node-v14.15.1-x64.msi">https://nodejs.org/dist/v14.15.1/node-v14.15.1-x64.msi</a></li><li>32ä½ï¼š<a href="https://nodejs.org/dist/v14.15.1/node-v14.15.1-x86.msi">https://nodejs.org/dist/v14.15.1/node-v14.15.1-x86.msi</a></li></ul></li><li><p>å®‰è£…Node.js</p></li><li><p>ä½¿ç”¨npmå…¨å±€å®‰è£…typescript</p><ul><li>è¿›å…¥å‘½ä»¤è¡Œ</li><li>è¾“å…¥ï¼šnpm i -g typescript</li></ul></li><li><p>åˆ›å»ºä¸€ä¸ªtsæ–‡ä»¶</p></li><li><p>ä½¿ç”¨tscå¯¹tsæ–‡ä»¶è¿›è¡Œç¼–è¯‘</p><ul><li><p>è¿›å…¥å‘½ä»¤è¡Œ</p></li><li><p>è¿›å…¥tsæ–‡ä»¶æ‰€åœ¨ç›®å½•</p></li><li><p>æ‰§è¡Œå‘½ä»¤ï¼štsc xxx.ts</p></li></ul></li></ol><h2 id="3-åŸºç¡€ç±»å‹">3. åŸºç¡€ç±»å‹</h2><ul><li><p>ç±»å‹å£°æ˜</p><ul><li><p>ç±»å‹å£°æ˜æ˜¯TSéå¸¸é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹</p></li><li><p>é€šè¿‡ç±»å‹å£°æ˜å¯ä»¥æŒ‡å®šTSä¸­å˜é‡ï¼ˆå‚æ•°ã€å½¢å‚ï¼‰çš„ç±»å‹</p></li><li><p>æŒ‡å®šç±»å‹åï¼Œå½“ä¸ºå˜é‡èµ‹å€¼æ—¶ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å€¼æ˜¯å¦ç¬¦åˆç±»å‹å£°æ˜ï¼Œç¬¦åˆåˆ™èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™</p></li><li><p>ç®€è€Œè¨€ä¹‹ï¼Œç±»å‹å£°æ˜ç»™å˜é‡è®¾ç½®äº†ç±»å‹ï¼Œä½¿å¾—å˜é‡åªèƒ½å­˜å‚¨æŸç§ç±»å‹çš„å€¼</p></li><li><p>è¯­æ³•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> å˜é‡: ç±»å‹;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> å˜é‡: ç±»å‹ = å€¼;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">å‚æ•°: ç±»å‹, å‚æ•°: ç±»å‹</span>): ç±»å‹&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>è‡ªåŠ¨ç±»å‹åˆ¤æ–­</p><ul><li>TSæ‹¥æœ‰è‡ªåŠ¨çš„ç±»å‹åˆ¤æ–­æœºåˆ¶x</li><li>å½“å¯¹å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å˜é‡çš„ç±»å‹</li><li>æ‰€ä»¥å¦‚æœä½ çš„å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ—¶åŒæ—¶è¿›è¡Œçš„ï¼Œå¯ä»¥çœç•¥æ‰ç±»å‹å£°æ˜</li></ul></li><li><p>ç±»å‹ï¼š</p><table><thead><tr><th style="text-align:center">ç±»å‹</th><th style="text-align:center">ä¾‹å­</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">number</td><td style="text-align:center">1, -33, 2.5</td><td style="text-align:center">ä»»æ„æ•°å­—</td></tr><tr><td style="text-align:center">string</td><td style="text-align:center">â€˜hiâ€™, â€œhiâ€, <code>hi</code></td><td style="text-align:center">ä»»æ„å­—ç¬¦ä¸²</td></tr><tr><td style="text-align:center">boolean</td><td style="text-align:center">trueã€false</td><td style="text-align:center">å¸ƒå°”å€¼trueæˆ–false</td></tr><tr><td style="text-align:center">å­—é¢é‡</td><td style="text-align:center">å…¶æœ¬èº«</td><td style="text-align:center">é™åˆ¶å˜é‡çš„å€¼å°±æ˜¯è¯¥å­—é¢é‡çš„å€¼</td></tr><tr><td style="text-align:center">any</td><td style="text-align:center">*</td><td style="text-align:center">ä»»æ„ç±»å‹</td></tr><tr><td style="text-align:center">unknown</td><td style="text-align:center">*</td><td style="text-align:center">ç±»å‹å®‰å…¨çš„any</td></tr><tr><td style="text-align:center">void</td><td style="text-align:center">ç©ºå€¼ï¼ˆundefinedï¼‰</td><td style="text-align:center">æ²¡æœ‰å€¼ï¼ˆæˆ–undefinedï¼‰</td></tr><tr><td style="text-align:center">never</td><td style="text-align:center">æ²¡æœ‰å€¼</td><td style="text-align:center">ä¸èƒ½æ˜¯ä»»ä½•å€¼</td></tr><tr><td style="text-align:center">object</td><td style="text-align:center">{name:â€˜å­™æ‚Ÿç©ºâ€™}</td><td style="text-align:center">ä»»æ„çš„JSå¯¹è±¡</td></tr><tr><td style="text-align:center">array</td><td style="text-align:center">[1,2,3]</td><td style="text-align:center">ä»»æ„JSæ•°ç»„</td></tr><tr><td style="text-align:center">tuple</td><td style="text-align:center">[4,5]</td><td style="text-align:center">å…ƒç´ ï¼ŒTSæ–°å¢ç±»å‹ï¼Œå›ºå®šé•¿åº¦æ•°ç»„</td></tr><tr><td style="text-align:center">enum</td><td style="text-align:center">enum{A, B}</td><td style="text-align:center">æšä¸¾ï¼ŒTSä¸­æ–°å¢ç±»å‹</td></tr></tbody></table></li><li><p>number</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">decimal</span>: <span class="built_in">number</span> = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">hex</span>: <span class="built_in">number</span> = <span class="number">0xf00d</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">binary</span>: <span class="built_in">number</span> = <span class="number">0b1010</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">octal</span>: <span class="built_in">number</span> = <span class="number">0o744</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">big</span>: <span class="built_in">bigint</span> = <span class="number">100n</span>;</span><br></pre></td></tr></table></figure></li><li><p>boolean</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">isDone</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>string</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">color</span>: <span class="built_in">string</span> = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">fullName</span>: <span class="built_in">string</span> = <span class="string">`Bob Bobbington`</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">37</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">sentence</span>: <span class="built_in">string</span> = <span class="string">`Hello, my name is <span class="subst">$&#123;fullName&#125;</span>.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">I&#x27;ll be <span class="subst">$&#123;age + <span class="number">1</span>&#125;</span> years old next month.`</span>;</span><br></pre></td></tr></table></figure></li><li><p>å­—é¢é‡</p><ul><li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—é¢é‡å»æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œé€šè¿‡å­—é¢é‡å¯ä»¥ç¡®å®šå˜é‡çš„å–å€¼èŒƒå›´</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> | <span class="string">&#x27;blue&#x27;</span> | <span class="string">&#x27;black&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">num</span>: <span class="number">1</span> | <span class="number">2</span> | <span class="number">3</span> | <span class="number">4</span> | <span class="number">5</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>any</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">d</span>: <span class="built_in">any</span> = <span class="number">4</span>;</span><br><span class="line">d = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">d = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure></li><li><p>unknown</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">notSure</span>: <span class="built_in">unknown</span> = <span class="number">4</span>;</span><br><span class="line">notSure = <span class="string">&#x27;hello&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>void</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">unusable</span>: <span class="built_in">void</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure></li><li><p>never</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">error</span>(<span class="params"><span class="attr">message</span>: <span class="built_in">string</span></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>objectï¼ˆæ²¡å•¥ç”¨ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">obj</span>: <span class="built_in">object</span> = &#123;&#125;;</span><br></pre></td></tr></table></figure></li><li><p>array</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">list</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="attr">list</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure></li><li><p>tuple</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: [<span class="built_in">string</span>, <span class="built_in">number</span>];</span><br><span class="line">x = [<span class="string">&quot;hello&quot;</span>, <span class="number">10</span>]; </span><br></pre></td></tr></table></figure></li><li><p>enum</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="title class_">Red</span>,</span><br><span class="line">  <span class="title class_">Green</span>,</span><br><span class="line">  <span class="title class_">Blue</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="title class_">Red</span> = <span class="number">1</span>,</span><br><span class="line">  <span class="title class_">Green</span>,</span><br><span class="line">  <span class="title class_">Blue</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="title class_">Red</span> = <span class="number">1</span>,</span><br><span class="line">  <span class="title class_">Green</span> = <span class="number">2</span>,</span><br><span class="line">  <span class="title class_">Blue</span> = <span class="number">4</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>;</span><br></pre></td></tr></table></figure></li><li><p>ç±»å‹æ–­è¨€</p><ul><li><p>æœ‰äº›æƒ…å†µä¸‹ï¼Œå˜é‡çš„ç±»å‹å¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯å¾ˆæ˜ç¡®ï¼Œä½†æ˜¯TSç¼–è¯‘å™¨å´å¹¶ä¸æ¸…æ¥šï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹ï¼Œæ–­è¨€æœ‰ä¸¤ç§å½¢å¼ï¼š</p><ul><li><p>ç¬¬ä¸€ç§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">unknown</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (someValue <span class="keyword">as</span> <span class="built_in">string</span>).<span class="property">length</span>;</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">unknown</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (&lt;<span class="built_in">string</span>&gt;someValue).<span class="property">length</span>;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="4-ç¼–è¯‘é€‰é¡¹">4. ç¼–è¯‘é€‰é¡¹</h2><ul><li><p>è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶</p><ul><li><p>ç¼–è¯‘æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ -w æŒ‡ä»¤åï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç›‘è§†æ–‡ä»¶çš„å˜åŒ–ï¼Œå¹¶åœ¨æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶å¯¹æ–‡ä»¶è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tsc</span> <span class="string">xxx.ts -w</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>è‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®</p><ul><li><p>å¦‚æœç›´æ¥ä½¿ç”¨tscæŒ‡ä»¤ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨å°†å½“å‰é¡¹ç›®ä¸‹çš„æ‰€æœ‰tsæ–‡ä»¶ç¼–è¯‘ä¸ºjsæ–‡ä»¶ã€‚</p></li><li><p>ä½†æ˜¯èƒ½ç›´æ¥ä½¿ç”¨tscå‘½ä»¤çš„å‰ææ—¶ï¼Œè¦å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtsçš„é…ç½®æ–‡ä»¶ tsconfig.json</p></li><li><p>tsconfig.jsonæ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶åï¼Œåªéœ€åªéœ€ tsc å‘½ä»¤å³å¯å®Œæˆå¯¹æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘</p></li><li><p>é…ç½®é€‰é¡¹ï¼š</p><ul><li><p>include</p><ul><li><p>å®šä¹‰å¸Œæœ›è¢«ç¼–è¯‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</p></li><li><p>é»˜è®¤å€¼ï¼š[â€œ**/*â€]</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;include&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="string">&quot;src/**/*&quot;</span><span class="punctuation">,</span> <span class="string">&quot;tests/**/*&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰srcç›®å½•å’Œtestsç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šè¢«ç¼–è¯‘</li></ul></li></ul></li><li><p>exclude</p><ul><li><p>å®šä¹‰éœ€è¦æ’é™¤åœ¨å¤–çš„ç›®å½•</p></li><li></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;./src/hello/**/*&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œsrcä¸‹helloç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¸ä¼šè¢«ç¼–è¯‘</li></ul></li></ul></li><li><p>extends</p><ul><li><p>å®šä¹‰è¢«ç»§æ‰¿çš„é…ç½®æ–‡ä»¶</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./configs/base&quot;</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå½“å‰é…ç½®æ–‡ä»¶ä¸­ä¼šè‡ªåŠ¨åŒ…å«configç›®å½•ä¸‹base.jsonä¸­çš„æ‰€æœ‰é…ç½®ä¿¡æ¯</li></ul></li></ul></li><li><p>files</p><ul><li><p>æŒ‡å®šè¢«ç¼–è¯‘æ–‡ä»¶çš„åˆ—è¡¨ï¼Œåªæœ‰éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶å°‘æ—¶æ‰ä¼šç”¨åˆ°</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;core.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;sys.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;types.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;scanner.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;parser.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;utilities.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;binder.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;checker.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;tsc.ts&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br></pre></td></tr></table></figure><ul><li>åˆ—è¡¨ä¸­çš„æ–‡ä»¶éƒ½ä¼šè¢«TSç¼–è¯‘å™¨æ‰€ç¼–è¯‘</li></ul></li><li><p>compilerOptions</p><ul><li><p>ç¼–è¯‘é€‰é¡¹æ˜¯é…ç½®æ–‡ä»¶ä¸­éå¸¸é‡è¦ä¹Ÿæ¯”è¾ƒå¤æ‚çš„é…ç½®é€‰é¡¹</p></li><li><p>åœ¨compilerOptionsä¸­åŒ…å«å¤šä¸ªå­é€‰é¡¹ï¼Œç”¨æ¥å®Œæˆå¯¹ç¼–è¯‘çš„é…ç½®</p><ul><li><p>é¡¹ç›®é€‰é¡¹</p><ul><li><p>target</p><ul><li><p>è®¾ç½®tsä»£ç ç¼–è¯‘çš„ç›®æ ‡ç‰ˆæœ¬</p></li><li><p>å¯é€‰å€¼ï¼š</p><ul><li>ES3ï¼ˆé»˜è®¤ï¼‰ã€ES5ã€ES6/ES2015ã€ES7/ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNext</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES6&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚ä¸Šè®¾ç½®ï¼Œæˆ‘ä»¬æ‰€ç¼–å†™çš„tsä»£ç å°†ä¼šè¢«ç¼–è¯‘ä¸ºES6ç‰ˆæœ¬çš„jsä»£ç </li></ul></li></ul></li><li><p>lib</p><ul><li><p>æŒ‡å®šä»£ç è¿è¡Œæ—¶æ‰€åŒ…å«çš„åº“ï¼ˆå®¿ä¸»ç¯å¢ƒï¼‰</p></li><li><p>å¯é€‰å€¼ï¼š</p><ul><li>ES5ã€ES6/ES2015ã€ES7/ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNextã€DOMã€WebWorkerã€ScriptHost â€¦</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span> <span class="string">&quot;DOM&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/aa.js&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>module</p><ul><li><p>è®¾ç½®ç¼–è¯‘åä»£ç ä½¿ç”¨çš„æ¨¡å—åŒ–ç³»ç»Ÿ</p></li><li><p>å¯é€‰å€¼ï¼š</p><ul><li>CommonJSã€UMDã€AMDã€Systemã€ES2020ã€ESNextã€None</li></ul></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CommonJS&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>outDir</p><ul><li><p>ç¼–è¯‘åæ–‡ä»¶çš„æ‰€åœ¨ç›®å½•</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘åçš„jsæ–‡ä»¶ä¼šå’Œtsæ–‡ä»¶ä½äºç›¸åŒçš„ç›®å½•ï¼Œè®¾ç½®outDiråå¯ä»¥æ”¹å˜ç¼–è¯‘åæ–‡ä»¶çš„ä½ç½®</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®åç¼–è¯‘åçš„jsæ–‡ä»¶å°†ä¼šç”Ÿæˆåˆ°distç›®å½•</li></ul></li></ul></li><li><p>outFile</p><ul><li><p>å°†æ‰€æœ‰çš„æ–‡ä»¶ç¼–è¯‘ä¸ºä¸€ä¸ªjsæ–‡ä»¶</p></li><li><p>é»˜è®¤ä¼šå°†æ‰€æœ‰çš„ç¼–å†™åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„ä»£ç åˆå¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¦‚æœmoduleåˆ¶å®šäº†Noneã€Systemæˆ–AMDåˆ™ä¼šå°†æ¨¡å—ä¸€èµ·åˆå¹¶åˆ°æ–‡ä»¶ä¹‹ä¸­</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;outFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/app.js&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>rootDir</p><ul><li><p>æŒ‡å®šä»£ç çš„æ ¹ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘åæ–‡ä»¶çš„ç›®å½•ç»“æ„ä¼šä»¥æœ€é•¿çš„å…¬å…±ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œé€šè¿‡rootDirå¯ä»¥æ‰‹åŠ¨æŒ‡å®šæ ¹ç›®å½•</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;rootDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./src&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>allowJs</p><ul><li>æ˜¯å¦å¯¹jsæ–‡ä»¶ç¼–è¯‘</li></ul></li><li><p>checkJs</p><ul><li><p>æ˜¯å¦å¯¹jsæ–‡ä»¶è¿›è¡Œæ£€æŸ¥</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;allowJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;checkJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>removeComments</p><ul><li>æ˜¯å¦åˆ é™¤æ³¨é‡Š</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li><li><p>noEmit</p><ul><li>ä¸å¯¹ä»£ç è¿›è¡Œç¼–è¯‘</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li><li><p>sourceMap</p><ul><li>æ˜¯å¦ç”ŸæˆsourceMap</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li></ul></li><li><p>ä¸¥æ ¼æ£€æŸ¥</p><ul><li>strict<ul><li>å¯ç”¨æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼Œè®¾ç½®åç›¸å½“äºå¼€å¯äº†æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥</li></ul></li><li>alwaysStrict<ul><li>æ€»æ˜¯ä»¥ä¸¥æ ¼æ¨¡å¼å¯¹ä»£ç è¿›è¡Œç¼–è¯‘</li></ul></li><li>noImplicitAny<ul><li>ç¦æ­¢éšå¼çš„anyç±»å‹</li></ul></li><li>noImplicitThis<ul><li>ç¦æ­¢ç±»å‹ä¸æ˜ç¡®çš„this</li></ul></li><li>strictBindCallApply<ul><li>ä¸¥æ ¼æ£€æŸ¥bindã€callå’Œapplyçš„å‚æ•°åˆ—è¡¨</li></ul></li><li>strictFunctionTypes<ul><li>ä¸¥æ ¼æ£€æŸ¥å‡½æ•°çš„ç±»å‹</li></ul></li><li>strictNullChecks<ul><li>ä¸¥æ ¼çš„ç©ºå€¼æ£€æŸ¥</li></ul></li><li>strictPropertyInitialization<ul><li>ä¸¥æ ¼æ£€æŸ¥å±æ€§æ˜¯å¦åˆå§‹åŒ–</li></ul></li></ul></li><li><p>é¢å¤–æ£€æŸ¥</p><ul><li>noFallthroughCasesInSwitch<ul><li>æ£€æŸ¥switchè¯­å¥åŒ…å«æ­£ç¡®çš„break</li></ul></li><li>noImplicitReturns<ul><li>æ£€æŸ¥å‡½æ•°æ²¡æœ‰éšå¼çš„è¿”å›å€¼</li></ul></li><li>noUnusedLocals<ul><li>æ£€æŸ¥æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡</li></ul></li><li>noUnusedParameters<ul><li>æ£€æŸ¥æœªä½¿ç”¨çš„å‚æ•°</li></ul></li></ul></li><li><p>é«˜çº§</p><ul><li>allowUnreachableCode<ul><li>æ£€æŸ¥ä¸å¯è¾¾ä»£ç </li><li>å¯é€‰å€¼ï¼š<ul><li>trueï¼Œå¿½ç•¥ä¸å¯è¾¾ä»£ç </li><li>falseï¼Œä¸å¯è¾¾ä»£ç å°†å¼•èµ·é”™è¯¯</li></ul></li></ul></li><li>noEmitOnError<ul><li>æœ‰é”™è¯¯çš„æƒ…å†µä¸‹ä¸è¿›è¡Œç¼–è¯‘</li><li>é»˜è®¤å€¼ï¼šfalse</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="5-webpack">5. webpack</h2><ul><li><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨æ„å»ºå·¥å…·å¯¹ä»£ç è¿›è¡Œæ‰“åŒ…ï¼ŒTSåŒæ ·ä¹Ÿå¯ä»¥ç»“åˆæ„å»ºå·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œä¸‹è¾¹ä»¥webpackä¸ºä¾‹ä»‹ç»ä¸€ä¸‹å¦‚ä½•ç»“åˆæ„å»ºå·¥å…·ä½¿ç”¨TSã€‚</p></li><li><p>æ­¥éª¤ï¼š</p><ol><li><p>åˆå§‹åŒ–é¡¹ç›®</p><ul><li>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ <code> npm init -y</code><ul><li>ä¸»è¦ä½œç”¨ï¼šåˆ›å»ºpackage.jsonæ–‡ä»¶</li></ul></li></ul></li><li><p>ä¸‹è½½æ„å»ºå·¥å…·</p><ul><li><code>npm i -D webpack webpack-cli webpack-dev-server typescript ts-loader clean-webpack-plugin</code><ul><li>å…±å®‰è£…äº†7ä¸ªåŒ…<ul><li>webpack<ul><li>æ„å»ºå·¥å…·webpack</li></ul></li><li>webpack-cli<ul><li>webpackçš„å‘½ä»¤è¡Œå·¥å…·</li></ul></li><li>webpack-dev-server<ul><li>webpackçš„å¼€å‘æœåŠ¡å™¨</li></ul></li><li>typescript<ul><li>tsç¼–è¯‘å™¨</li></ul></li><li>ts-loader<ul><li>tsåŠ è½½å™¨ï¼Œç”¨äºåœ¨webpackä¸­ç¼–è¯‘tsæ–‡ä»¶</li></ul></li><li>html-webpack-plugin<ul><li>webpackä¸­htmlæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨åˆ›å»ºhtmlæ–‡ä»¶</li></ul></li><li>clean-webpack-plugin<ul><li>webpackä¸­çš„æ¸…é™¤æ’ä»¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½ä¼šå…ˆæ¸…é™¤ç›®å½•</li></ul></li></ul></li></ul></li></ul></li><li><p>æ ¹ç›®å½•ä¸‹åˆ›å»ºwebpackçš„é…ç½®æ–‡ä»¶webpack.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;clean-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">optimization</span>:&#123;</span><br><span class="line">        <span class="attr">minimize</span>: <span class="literal">false</span> <span class="comment">// å…³é—­ä»£ç å‹ç¼©ï¼Œå¯é€‰</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/index.ts&quot;</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="attr">devtool</span>: <span class="string">&quot;inline-source-map&quot;</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">contentBase</span>: <span class="string">&#x27;./dist&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>,</span><br><span class="line">        <span class="attr">environment</span>: &#123;</span><br><span class="line">            <span class="attr">arrowFunction</span>: <span class="literal">false</span> <span class="comment">// å…³é—­webpackçš„ç®­å¤´å‡½æ•°ï¼Œå¯é€‰</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">extensions</span>: [<span class="string">&quot;.ts&quot;</span>, <span class="string">&quot;.js&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">                <span class="attr">use</span>: &#123;</span><br><span class="line">                   <span class="attr">loader</span>: <span class="string">&quot;ts-loader&quot;</span>     </span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>(),</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;TSæµ‹è¯•&#x27;</span></span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ ¹ç›®å½•ä¸‹åˆ›å»ºtsconfig.jsonï¼Œé…ç½®å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;target&quot;</span>: <span class="string">&quot;ES2015&quot;</span>,</span><br><span class="line">        <span class="string">&quot;module&quot;</span>: <span class="string">&quot;ES2015&quot;</span>,</span><br><span class="line">        <span class="string">&quot;strict&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹package.jsonæ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...ç•¥...</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span>,</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;webpack serve --open chrome.exe&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...ç•¥...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨srcä¸‹åˆ›å»ºtsæ–‡ä»¶ï¼Œå¹¶åœ¨å¹¶å‘½ä»¤è¡Œæ‰§è¡Œ<code>npm run build</code>å¯¹ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œæˆ–è€…æ‰§è¡Œ<code>npm start</code>æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚</p></li></ol></li></ul><h2 id="6-Babel">6. Babel</h2><p>ç»è¿‡ä¸€ç³»åˆ—çš„é…ç½®ï¼Œä½¿å¾—TSå’Œwebpackå·²ç»ç»“åˆåˆ°äº†ä¸€èµ·ï¼Œé™¤äº†webpackï¼Œå¼€å‘ä¸­è¿˜ç»å¸¸éœ€è¦ç»“åˆbabelæ¥å¯¹ä»£ç è¿›è¡Œè½¬æ¢ä»¥ä½¿å…¶å¯ä»¥å…¼å®¹åˆ°æ›´å¤šçš„æµè§ˆå™¨ï¼Œåœ¨ä¸Šè¿°æ­¥éª¤çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å†å°†babelå¼•å…¥åˆ°é¡¹ç›®ä¸­ã€‚</p><ol><li><p>å®‰è£…ä¾èµ–åŒ…ï¼š</p><ul><li><code>npm i -D @babel/core @babel/preset-env babel-loader core-js</code></li><li>å…±å®‰è£…äº†4ä¸ªåŒ…ï¼Œåˆ†åˆ«æ˜¯ï¼š<ul><li>@babel/core<ul><li>babelçš„æ ¸å¿ƒå·¥å…·</li></ul></li><li>@babel/preset-env<ul><li>babelçš„é¢„å®šä¹‰ç¯å¢ƒ</li></ul></li><li>@babel-loader<ul><li>babelåœ¨webpackä¸­çš„åŠ è½½å™¨</li></ul></li><li>core-js<ul><li>core-jsç”¨æ¥ä½¿è€ç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒæ–°ç‰ˆESè¯­æ³•</li></ul></li></ul></li></ul></li><li><p>ä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">...ç•¥...</span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">            <span class="attr">use</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                    <span class="attr">options</span>:&#123;</span><br><span class="line">                        <span class="attr">presets</span>: [</span><br><span class="line">                            [</span><br><span class="line">                                <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">                                &#123;</span><br><span class="line">                                    <span class="string">&quot;targets&quot;</span>:&#123;</span><br><span class="line">                                        <span class="string">&quot;chrome&quot;</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">                                        <span class="string">&quot;ie&quot;</span>: <span class="string">&quot;11&quot;</span></span><br><span class="line">                                    &#125;,</span><br><span class="line">                                    <span class="string">&quot;corejs&quot;</span>:<span class="string">&quot;3&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;useBuiltIns&quot;</span>: <span class="string">&quot;usage&quot;</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            ]</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&quot;ts-loader&quot;</span>,</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">...ç•¥...</span><br></pre></td></tr></table></figure><ul><li>å¦‚æ­¤ä¸€æ¥ï¼Œä½¿ç”¨tsç¼–è¯‘åçš„æ–‡ä»¶å°†ä¼šå†æ¬¡è¢«babelå¤„ç†ï¼Œä½¿å¾—ä»£ç å¯ä»¥åœ¨å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥åœ¨é…ç½®é€‰é¡¹çš„targetsä¸­æŒ‡å®šè¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚</li></ul></li></ol><h2 id=""></h2>]]></content>
    
    
    <summary type="html">ğŸ‹â€ğŸŸ©tsåŸºç¡€æ‰‹è®° (ä¸€)</summary>
    
    
    
    <category term="Ts" scheme="https://www.axcode.cn/categories/Ts/"/>
    
    
    <category term="Ts" scheme="https://www.axcode.cn/tags/Ts/"/>
    
  </entry>
  
  <entry>
    <title>å½»åº•ææ‡‚æµè§ˆå™¨Event-loop</title>
    <link href="https://www.axcode.cn/posts/aedb9f78.html"/>
    <id>https://www.axcode.cn/posts/aedb9f78.html</id>
    <published>2024-06-12T10:37:07.000Z</published>
    <updated>2024-08-08T10:43:02.909Z</updated>
    
    <content type="html"><![CDATA[<div class="tip "><p>æ­¤æ–‡æ¥è‡ªäºæ˜é‡‘ä½œè€… <a href="https://juejin.cn/user/3368559358523944/posts">æ— åä¹‹è‹</a> æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><h2 id="1-é¢„å¤‡çŸ¥è¯†">1. é¢„å¤‡çŸ¥è¯†</h2><div class="note blue no-icon flat"><p>JavaScriptçš„è¿è¡Œæœºåˆ¶:</p><ol><li><p>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚</p></li><li><p>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;(task queue)ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</p></li><li><p>ä¸€æ—¦&quot;æ‰§è¡Œæ ˆ&quot;ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</p></li><li><p>ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥</p><p>æ¦‚æ‹¬å³æ˜¯: è°ƒç”¨æ ˆä¸­çš„åŒæ­¥ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œæ ˆå†…è¢«æ¸…ç©ºäº†ï¼Œå°±ä»£è¡¨ä¸»çº¿ç¨‹ç©ºé—²äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºè¯»å–ä¸€ä¸ªä»»åŠ¡æ”¾å…¥åˆ°æ ˆä¸­æ‰§è¡Œã€‚æ¯æ¬¡æ ˆå†…è¢«æ¸…ç©ºï¼Œéƒ½ä¼šå»è¯»å–ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä»»åŠ¡ï¼Œæœ‰å°±è¯»å–æ‰§è¡Œï¼Œä¸€ç›´å¾ªç¯è¯»å–-æ‰§è¡Œçš„æ“ä½œ</p></li></ol></div><div class="note blue no-icon flat"><p>ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­æœ‰ä¸€ä¸ªæˆ–è€…æ˜¯å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—</p></div><div class="note blue no-icon flat"><p>JavaScriptä¸­æœ‰ä¸¤ç§å¼‚æ­¥ä»»åŠ¡</p><ol><li>å®ä»»åŠ¡: scriptï¼ˆæ•´ä½“ä»£ç ï¼‰, setTimeout, setInterval, setImmediate, I/O, UI rendering</li><li>å¾®ä»»åŠ¡: process.nextTickï¼ˆNodejsï¼‰, Promises, Object.observe, MutationObserver</li></ol></div><h2 id="2-äº‹ä»¶å¾ªç¯-event-loop-æ˜¯ä»€ä¹ˆ">2. äº‹ä»¶å¾ªç¯(event-loop)æ˜¯ä»€ä¹ˆ?</h2><p>ä¸»çº¿ç¨‹ä»&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ä¸­è¯»å–æ‰§è¡Œäº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œè¿™ä¸ªæœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚æ­¤æœºåˆ¶å…·ä½“å¦‚ä¸‹:ä¸»çº¿ç¨‹ä¼šä¸æ–­ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰é¡ºåºå–ä»»åŠ¡æ‰§è¡Œï¼Œæ¯æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡éƒ½ä¼šæ£€æŸ¥microtaské˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼ˆæ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡çš„å…·ä½“æ ‡å¿—æ˜¯å‡½æ•°æ‰§è¡Œæ ˆä¸ºç©ºï¼‰ï¼Œå¦‚æœä¸ä¸ºç©ºåˆ™ä¼šä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ‰€æœ‰microtaskã€‚ç„¶åå†è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯å»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚</p><div class="note blue no-icon flat"><p>è¯¦ç»†è¯´æ˜</p><ol><li>é€‰æ‹©å½“å‰è¦æ‰§è¡Œçš„å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€å…ˆè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„å®ä»»åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å®ä»»åŠ¡å¯ä»¥é€‰æ‹©ï¼Œåˆ™ä¼šè·³è½¬è‡³microtaskçš„æ‰§è¡Œæ­¥éª¤ã€‚</li><li>å°†äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œå®ä»»åŠ¡è®¾ç½®ä¸ºå·²é€‰æ‹©çš„å®ä»»åŠ¡ã€‚</li><li>è¿è¡Œå®ä»»åŠ¡ã€‚</li><li>å°†äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œä»»åŠ¡è®¾ç½®ä¸ºnullã€‚</li><li>å°†è¿è¡Œå®Œçš„å®ä»»åŠ¡ä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ç§»é™¤ã€‚</li><li>microtasksæ­¥éª¤ï¼šè¿›å…¥microtaskæ£€æŸ¥ç‚¹ã€‚</li><li>æ›´æ–°ç•Œé¢æ¸²æŸ“ã€‚</li><li>è¿”å›ç¬¬ä¸€æ­¥ã€‚</li></ol></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p><strong>æ‰§è¡Œè¿›å…¥microtaskæ£€æŸ¥çš„çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹:</strong></p></div> <ol><li>è®¾ç½®è¿›å…¥microtaskæ£€æŸ¥ç‚¹çš„æ ‡å¿—ä¸ºtrueã€‚</li><li>å½“äº‹ä»¶å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼šé€‰æ‹©ä¸€ä¸ªæœ€å…ˆè¿›å…¥microtaské˜Ÿåˆ—çš„microtaskï¼›è®¾ç½®äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œä»»åŠ¡ä¸ºå·²é€‰æ‹©çš„microtaskï¼›è¿è¡Œmicrotaskï¼›è®¾ç½®äº‹ä»¶å¾ªç¯çš„å½“å‰è¿è¡Œä»»åŠ¡ä¸ºnullï¼›å°†è¿è¡Œç»“æŸçš„microtaskä»microtaské˜Ÿåˆ—ä¸­ç§»é™¤ã€‚</li><li>å¯¹äºç›¸åº”äº‹ä»¶å¾ªç¯çš„æ¯ä¸ªç¯å¢ƒè®¾ç½®å¯¹è±¡ï¼ˆenvironment settings objectï¼‰,é€šçŸ¥å®ƒä»¬å“ªäº›promiseä¸ºrejectedã€‚</li><li>æ¸…ç†indexedDBçš„äº‹åŠ¡ã€‚</li><li>è®¾ç½®è¿›å…¥microtaskæ£€æŸ¥ç‚¹çš„æ ‡å¿—ä¸ºfalseã€‚</li></ol><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯:å½“å‰æ‰§è¡Œæ ˆæ‰§è¡Œå®Œæ¯•æ—¶ä¼šç«‹åˆ»å…ˆå¤„ç†æ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶, ç„¶åå†å»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶ã€‚åŒä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­, å¾®ä»»åŠ¡æ°¸è¿œåœ¨å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</strong></p></div> <p><img src="https://bu.dusays.com/2024/06/12/666985645ffc7.png" alt=""></p><h3 id="3-Event-loop-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ">3. Event-loop æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3><h3 id="å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹">å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;setTimeout1&quot;</span>);</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;setTimeout2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€è€ƒä¸€ä¸‹, è¿è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è¿è¡Œç»“æœä¸º:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">111</span></span><br><span class="line">setTimeout1</span><br><span class="line"><span class="number">222</span></span><br><span class="line">setTimeout2</span><br></pre></td></tr></table></figure><div class="tip bell"><p>ç»†è¯´ä¸€ä¸‹, JSå¼•æ“æ˜¯å¦‚ä½•æ‰§è¡Œè¿™æ®µä»£ç çš„:</p></div><div class="note blue no-icon flat"><ol><li>ä¸»çº¿ç¨‹ä¸Šæ²¡æœ‰éœ€è¦æ‰§è¡Œçš„ä»£ç </li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨å†ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>é¦–å…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—, å³ microtaské˜Ÿåˆ—ï¼Œå‘ç°æ­¤é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªpromiseçš„thenå›è°ƒï¼Œè¾“å‡º â€˜111â€™ã€‚</li><li>æ­¤æ—¶microtaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯, æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡º â€˜setTimeout1â€™,æ£€æŸ¥microtask é˜Ÿåˆ—ï¼Œå‘ç°é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œpromiseçš„thenå›è°ƒï¼Œè¾“å‡ºâ€™222â€™ï¼Œmicrotaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ã€‚</li><li>æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°, ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºâ€™setTimeout2â€™ã€‚</li></ol></div><h3 id="å†æ€è€ƒä¸€ä¸‹ä¸‹é¢ä»£ç çš„æ‰§è¡Œé¡ºåº">å†æ€è€ƒä¸€ä¸‹ä¸‹é¢ä»£ç çš„æ‰§è¡Œé¡ºåº</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout---0&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout---200&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;inner-setTimeout---0&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise5&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise3&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ€è€ƒä¸€ä¸‹, è¿è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è¿è¡Œç»“æœä¸º:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">script end</span><br><span class="line">promise1</span><br><span class="line">promise3</span><br><span class="line">promise2</span><br><span class="line"><span class="built_in">setTimeout</span>---<span class="number">0</span></span><br><span class="line"><span class="built_in">setTimeout</span>---<span class="number">200</span></span><br><span class="line">promise5</span><br><span class="line">inner-<span class="built_in">setTimeout</span>---<span class="number">0</span></span><br></pre></td></tr></table></figure><div class="tip bell"><p>æ¥è¯¦ç»†è¯´æ˜ä¸€ä¸‹, JSå¼•æ“æ˜¯å¦‚ä½•æ‰§è¡Œè¿™æ®µä»£ç çš„</p></div><div class="note blue no-icon flat"><ol><li>é¦–å…ˆé¡ºåºæ‰§è¡Œå®Œä¸»è¿›ç¨‹ä¸Šçš„åŒæ­¥ä»»åŠ¡ï¼Œç¬¬ä¸€å¥å’Œæœ€åä¸€å¥çš„console.logã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 200ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 200ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­(è¿™ä¸ªä»»åŠ¡åœ¨å†ä¸‹ä¸€æ¬¡çš„äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œ)ã€‚</li><li>åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œä¹‹åï¼Œé¦–å…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—, å³ microtaské˜Ÿåˆ—ï¼Œå‘ç°æ­¤é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªpromiseçš„thenå›è°ƒï¼Œè¾“å‡º â€˜promise1â€™ï¼Œç„¶åæ‰§è¡Œç¬¬äºŒä¸ªpromiseçš„thenå›è°ƒï¼Œè¾“å‡ºâ€™promise3â€™ï¼Œç”±äºç¬¬ä¸€ä¸ªpromiseçš„.then()çš„è¿”å›ä¾ç„¶æ˜¯promiseï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª.then()ä¼šæ”¾åˆ°microtaské˜Ÿåˆ—ç»§ç»­æ‰§è¡Œï¼Œè¾“å‡º â€˜promise2â€™ã€‚</li><li>æ­¤æ—¶microtaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯, æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡º â€˜setTimeoutâ€”0â€™,æ£€æŸ¥microtask é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ã€‚</li><li>æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeoutçš„å›è°ƒå‡½æ•°, ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºâ€™setTimeoutâ€”200â€™ã€‚</li><li>æ¥ç€é‡åˆ°setTimeout 0ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ 0ms åå°†å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå³ microtask é˜Ÿåˆ—ï¼Œå‘ç°æ­¤é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œpromiseçš„thenå›è°ƒï¼Œè¾“å‡ºâ€™promise5â€™ã€‚</li><li>æ­¤æ—¶microtaské˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œæ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ setTimeout çš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºï¼Œè¾“å‡ºâ€™inner-setTimeoutâ€”0â€™ã€‚ä»£ç æ‰§è¡Œç»“æŸã€‚</li></ol></div><h2 id="4-ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop">4. ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop?</h2><div class="note blue no-icon flat"><p>å› ä¸º JavaScript æ˜¯å•çº¿ç¨‹çš„ã€‚å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ï¼ˆeventï¼‰ï¼Œç”¨æˆ·äº¤äº’ï¼ˆuser interactionï¼‰ï¼Œè„šæœ¬ï¼ˆscriptï¼‰ï¼Œæ¸²æŸ“ï¼ˆrenderingï¼‰ï¼Œç½‘ç»œï¼ˆnetworkingï¼‰ç­‰ï¼Œç”¨æˆ·ä»£ç†ï¼ˆuser agentï¼‰å¿…é¡»ä½¿ç”¨äº‹ä»¶å¾ªç¯ï¼ˆevent loopsï¼‰ã€‚</p><p>æœ€åæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ¬æ–‡ä»‹ç»çš„æ˜¯æµè§ˆå™¨çš„Event-loopï¼Œå› æ­¤åœ¨æµ‹è¯•éªŒè¯æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨æµè§ˆå™¨ç¯å¢ƒè¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œå¦‚æœä½¿ç”¨äº†nodeç¯å¢ƒï¼Œé‚£ä¹ˆç»“æœä¸ä¸€å®šæ˜¯å¦‚ä¸Šæ‰€è¯´ã€‚</p></div><h2 id="5-å‚è€ƒæ–‡ç« ">5. å‚è€ƒæ–‡ç« </h2><p><a href="https://segmentfault.com/a/1190000013233792">ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€é˜Ÿåˆ—ä»¥åŠè°ƒåº¦</a></p><p><a href="https://segmentfault.com/a/1190000010622146">ä»€ä¹ˆæ˜¯æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿ</a></p><p><a href="https://segmentfault.com/a/1190000013861128">ä¸€ç¯‡æ–‡ç« æ•™ä¼šä½ Event loopâ€”â€”æµè§ˆå™¨å’ŒNode</a></p><p><a href="https://www.ruanyifeng.com/blog/2014/10/event-loop.html">JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a></p>]]></content>
    
    
    <summary type="html">ğŸ“å½»åº•ææ‡‚æµè§ˆå™¨Event-loop</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºMac ç”µè„‘è®¿é—®ä¸äº† github é—®é¢˜è§£å†³å®è·µ</title>
    <link href="https://www.axcode.cn/posts/e65223e7.html"/>
    <id>https://www.axcode.cn/posts/e65223e7.html</id>
    <published>2024-06-12T04:21:13.000Z</published>
    <updated>2024-06-12T10:44:45.000Z</updated>
    
    <content type="html"><![CDATA[<div class="tip "><p>æ­¤æ–‡æ¥è‡ªäºç®€ä¹¦ä½œè€… <a href="https://www.jianshu.com/u/f4f1f0438249">ç‰©è”ç™½èœ</a> æœ¬ç«™åªåšè®°å½•ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><div class="note blue no-icon flat"><p>å› ä¸ºåšå¼€å‘ï¼Œè®¿é—®githubç½‘ç«™æ˜¯å®¶å¸¸ä¾¿é¥­çš„äº‹ï¼Œä½†æ˜¯å› ä¸ºGitHubçš„IPåœ°å€æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å¯ä»¥è®¿é—®æœ‰æ—¶å€™åˆä¸è¡Œï¼Œè‹¦äºçƒ¦æ¼ç½‘ä¸Šæ‰¾äº†è§£å†³æ–¹æ¡ˆï¼Œè½¬è‡ªä»¥ä¸‹å¤§ä½¬çš„å‚è€ƒ ï¼š</p><p><a href="https://www.jianshu.com/p/b3559ac34590">githubè®¿é—®ä¸äº†é—®é¢˜è§£å†³</a> &amp;&amp; <a href="https://www.cnblogs.com/wanpi/p/14668174.html">å½»åº•è§£å†³å„ç§æµè§ˆå™¨è®¿é—®ä¸äº†GitHubé—®é¢˜</a></p><p><a href="https://blog.csdn.net/weixin_38629529/article/details/120788902">Macä¿®æ”¹hostsæ–‡ä»¶æ–¹æ³•é“¾æ¥</a></p><p>åŸºæœ¬æ“ä½œæ­¥éª¤å¦‚ä¸‹</p></div><h2 id="1-è·å–github-com">1. <a href="http://xn--github-255j7672a.com">è·å–github.com</a></h2><div class="note blue no-icon flat"><p>è®¿é—® <a href="https://www.ipaddress.com/website/github.com/">https://www.ipaddress.com/website/github.com/</a> è·å–ä¸€ä¸ªå¦‚ä¸‹å›¾çš„åœ°å€</p><p><img src="https://bu.dusays.com/2024/06/12/66692948896a5.png" alt=""></p></div><h2 id="2-è·å–github-global-ssl-fastly-net">2. <a href="http://xn--github-255j7672a.global.ssl.fastly.net">è·å–github.global.ssl.fastly.net</a></h2><div class="note blue no-icon flat"><p>è®¿é—® <a href="https://www.ipaddress.com/website/github.global.ssl.fastly.net/">https://www.ipaddress.com/website/github.global.ssl.fastly.net/</a> å–å¾—ä¸€ä¸ªæœ€æ–°çš„åœ°å€å¦‚ä¸‹</p><p><img src="https://bu.dusays.com/2024/06/12/666929e48155d.png" alt=""></p></div><h2 id="3-è·å–github-githubassets-com">3. <a href="http://xn--github-255j7672a.githubassets.com">è·å–github.githubassets.com</a></h2><div class="note blue no-icon flat"><p>è®¿é—®https://www.ipaddress.com/website/github.githubassets.com/ å–å¾—ä¸€ä¸ªæœ€æ–°çš„åœ°å€å¦‚ä¸‹</p><p><img src="https://bu.dusays.com/2024/06/12/66692ab2e807a.png" alt=""></p></div><h2 id="4-ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå°†è·å¾—çš„IP-åœ°å€é…ç½®è¿›å»å¹¶åˆ·æ–°DNS">4. ä¿®æ”¹hostsæ–‡ä»¶ï¼Œå°†è·å¾—çš„IP åœ°å€é…ç½®è¿›å»å¹¶åˆ·æ–°DNS</h2><div class="note blue no-icon flat"><p>æ­¤æ–‡åªé’ˆå¯¹Macï¼Œwindowsç³»ç»Ÿçš„åŒå­¦è¯·çœ‹ <a href="https://www.cnblogs.com/wanpi/p/14668174.html">å½»åº•è§£å†³å„ç§æµè§ˆå™¨è®¿é—®ä¸äº†GitHubé—®é¢˜</a>ã€‚</p><p>Macç‰ˆhostsæ–‡ä»¶ä¿®æ”¹è¦é€šè¿‡ VI æ“ä½œæ‰å¯ä»¥æ·»åŠ è¿›å»ï¼Œä¸ç„¶æ”¹ä¸äº†ã€‚</p><ol><li>ç»ˆç«¯è¾“å…¥ sudo vi /etc/hosts</li><li>è¾“å…¥ç”µè„‘ç”¨æˆ·å¯†ç </li><li>è¾“å…¥iï¼Œè¿›å…¥æ’å…¥æ¨¡å¼</li><li>å°†ä¸Šè¿°åœ°å€å¤åˆ¶ç²˜è´´è¿›å»</li><li>æŒ‰Escé€€å‡ºæ’å…¥æ¨¡å¼ï¼Œç„¶åè¾“å…¥ :wqï¼Œ Enterä¿å­˜é€€å‡º</li><li>ç»ˆç«¯æ‰§è¡Œ sudo killall -HUP mDNSResponder åˆ·æ–°dns</li></ol></div><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>è¿‡äº†ä¸€æ®µæ—¶é—´åªè¦æ„Ÿè§‰githubæœ‰æ—¶å€™éš¾è®¿é—®äº†ï¼Œé‡æ–°æ‰§è¡Œä¸€ä¸‹<code>sudo killall -HUP mDNSResponder</code> åˆ·æ–°dnså°±å¥½äº†ï¼Œå¯ä»¥æŠŠè¿™ä¸ªæŒ‡ä»¤ä¿å­˜ä¸€ä¸‹ã€‚</p><p>å› ä¸ºgithub IPåœ°å€ä¼šå˜åŒ–ï¼Œæ‰€ä»¥æˆ‘æˆªå›¾çš„IPåœ°å€ä¼šæœ‰ä¸åŒï¼Œä½†æ²¡å…³ç³»ï¼Œå¤åˆ¶ä½ è®¿é—®å¾—åˆ°çš„IPåœ°å€å°±å¯ä»¥äº†ï¼Œå¤§åŠŸå‘Šæˆã€‚</p><p>ä¼˜å…ˆè€ƒè™‘ç”¨Chromeæµè§ˆå™¨æ‰“å¼€å“ˆã€‚</p></div><h2 id="5-https-stackoverflow-com-è®¿é—®è¢«å¢™è§£å†³åŠæ³•">5. <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fstackoverflow.com%2F">https://stackoverflow.com/</a> è®¿é—®è¢«å¢™è§£å†³åŠæ³•</h2><div class="note blue no-icon flat"><p>å‚è€ƒ <a href="https://www.codetd.com/article/4947217">Stack Overflow æ‰“ä¸å¼€ï¼Œç™»å½•ä¸ä¸Šï¼Œç«ç‹å’ŒChromeæµè§ˆå™¨çš„å®Œç¾è§£å†³æ–¹æ¡ˆ</a></p><p><strong>Firefox</strong>æ’ä»¶ <a href="https://addons.mozilla.org/en-US/firefox/addon/replace-google-cdn/">æ’ä»¶1</a> <a href="https://addons.mozilla.org/en-US/firefox/addon/google-cdn-replace/">æ’ä»¶2</a></p><p><strong>Chrome</strong> <a href="https://imgurl.ninedvr.com/app/ReplaceGoogleCDN-master.zip">æ‹“å±•ç¨‹åºæ’ä»¶ä¸‹è½½</a> è§£å‹ä¹‹åå°†<code>extension``extension-v2</code>æ·»åŠ åˆ°æ‰©å±•ç¨‹åºä¸­ã€‚</p><p><a href="https://mirrors.ustc.edu.cn/">é«˜æ ¡å¼€æºé•œåƒæº</a></p></div>]]></content>
    
    
    <summary type="html">ğŸ¥å…³äºMac ç”µè„‘è®¿é—®ä¸äº† github é—®é¢˜è§£å†³å®è·µ</summary>
    
    
    
    <category term="Gt" scheme="https://www.axcode.cn/categories/Gt/"/>
    
    
    <category term="Git" scheme="https://www.axcode.cn/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>JSåå¤§æ’åºç®—æ³•</title>
    <link href="https://www.axcode.cn/posts/69b07b28.html"/>
    <id>https://www.axcode.cn/posts/69b07b28.html</id>
    <published>2024-06-11T07:12:18.000Z</published>
    <updated>2024-06-12T13:15:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ’åºç®—æ³•è¯´æ˜">æ’åºç®—æ³•è¯´æ˜</h2><div class="note blue no-icon flat"><p>1.å¯¹äºè¯„è¿°ç®—æ³•ä¼˜åŠ£æœ¯è¯­çš„è¯´æ˜</p><ul><li><strong>ç¨³å®š</strong>ï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œè€Œa=bï¼Œæ’åºåaä»ç„¶åœ¨bçš„å‰é¢ï¼›</li><li><strong>ä¸ç¨³å®š</strong>ï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œa=bï¼Œæ’åºåaå¯èƒ½ä¼šå‡ºç°åœ¨bçš„åé¢ï¼›</li><li><strong>å†…æ’åº</strong>ï¼šæ‰€æœ‰æ’åºæ“ä½œéƒ½åœ¨å†…å­˜ä¸­å®Œæˆï¼›</li><li><strong>å¤–æ’åº</strong>ï¼šç”±äºæ•°æ®å¤ªå¤§ï¼Œå› æ­¤æŠŠæ•°æ®æ”¾åœ¨ç£ç›˜ä¸­ï¼Œè€Œæ’åºé€šè¿‡ç£ç›˜å’Œå†…å­˜çš„æ•°æ®ä¼ è¾“æ‰èƒ½è¿›è¡Œï¼›</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šä¸€ä¸ªç®—æ³•æ‰§è¡Œæ‰€è€—è´¹çš„æ—¶é—´ï¼›</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šè¿è¡Œå®Œæˆä¸€ä¸ªç¨‹åºæ‰€éœ€å†…å­˜çš„å¤§å°ã€‚</li></ul><p>2.æ’åºç®—æ³•å›¾ç‰‡æ€»ç»“</p><p><img src="https://bu.dusays.com/2024/06/11/6667fab8e45a9.webp" alt=""></p></div><h2 id="1-å†’æ³¡æ’åº">1.å†’æ³¡æ’åº</h2><div class="note info modern no-icon flat"><ol><li>æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå‰ä¸€ä¸ªæ¯”åä¸€ä¸ªå¤§ï¼Œåˆ™äº¤æ¢ä½ç½®ã€‚</li><li>ç¬¬ä¸€è½®çš„æ—¶å€™æœ€åä¸€ä¸ªå…ƒç´ åº”è¯¥æ˜¯æœ€å¤§çš„ã€‚</li><li>æŒ‰ç…§æ­¥éª¤ä¸€çš„æ–¹æ³•ç»§ç»­è¿›è¡Œç›¸é‚»ä¸¤ä¸ªå…ƒç´ çš„æ¯”è¾ƒï¼Œè¿™ä¸ªæ—¶å€™ç”±äºæœ€åçš„ä¸€ä¸ªå…ƒç´ å·²ç»æ˜¯æœ€å¤§çš„äº†ï¼Œæ‰€ä»¥æœ€åä¸€ä¸ªå…ƒç´ ä¸ç”¨æ¯”è¾ƒã€‚</li></ol></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sort</span>(<span class="params">elements</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.<span class="property">length</span>;i++)&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;elements.<span class="property">length</span>-<span class="number">1</span>-i;j++)&#123;</span><br><span class="line">          <span class="keyword">if</span>(elements[j] &gt; elements[j+<span class="number">1</span>])&#123;</span><br><span class="line">               <span class="keyword">var</span>  swap=elements[j];</span><br><span class="line">               elements[j]=elements[j+<span class="number">1</span>];</span><br><span class="line">               elements[j+<span class="number">1</span>]=swap;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;before&#x27;</span>+elements);</span><br><span class="line"><span class="title function_">sort</span>(elements);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;after&#x27;</span>+elements);</span><br></pre></td></tr></table></figure><h2 id="2-å¿«é€Ÿæ’åº">2.å¿«é€Ÿæ’åº</h2><div class="note info modern no-icon flat"><p>å¿«é€Ÿæ’åºæ˜¯å¯¹å†’æ³¡æ’åºçš„ä¸€ç§æ”¹è¿›ï¼Œç¬¬ä¸€è¶Ÿæ’åºæ—¶å°†æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ¯”å¦ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åé€’å½’è°ƒç”¨ï¼Œåœ¨ä¸¤è¾¹éƒ½å®è¡Œå¿«é€Ÿæ’åºã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">elements</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(elements.<span class="property">length</span> &lt;=<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> elements;  </span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">var</span> pivotIndex=<span class="title class_">Math</span>.<span class="title function_">floor</span>(elements.<span class="property">length</span> / <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> pivot=elements.<span class="title function_">splice</span>(pivotIndex,<span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">var</span> left=[];</span><br><span class="line">  <span class="keyword">var</span> right=[];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.<span class="property">length</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(elements[i] &lt; pivot)&#123;</span><br><span class="line">        left.<span class="title function_">push</span>(elements[i]);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       right.<span class="title function_">push</span>(elements[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line"><span class="keyword">return</span>  <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot],<span class="title function_">quickSort</span>(right));</span><br><span class="line"><span class="comment">//concat()æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–è€…å¤šä¸ªæ•°ç»„ï¼›è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜ç°æœ‰çš„æ•°ç»„ï¼Œè€Œä»…ä»…ä¼šè¿”å›è¢«è¿æ¥æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">quickSort</span>(elements)); </span><br></pre></td></tr></table></figure><h2 id="3-æ’å…¥æ’åº">3.æ’å…¥æ’åº</h2><div class="note info modern no-icon flat"><ol><li>ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼›</li><li>å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼›</li><li>å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åŠ¨åˆ°ä¸‹ä¸€ä½ç½®ï¼›</li><li>é‡å¤æ­¥éª¤3ï¼Œç›´æ¥æ‰¾æ‰“å·²æ’åºçš„å…ƒç´ å¤§å°æˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼›</li><li>å°†æ–°å…ƒç´ æ’åˆ°ä¸‹ä¸€ä½ç½®ï¼›</li><li>é‡å¤æ­¥éª¤2</li></ol></div><h3 id="3-1-æ­£å¸¸çš„æ’å…¥æ’åº">3.1 æ­£å¸¸çš„æ’å…¥æ’åº</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sort</span>(<span class="params">elements</span>)&#123;</span><br><span class="line">    <span class="comment">// å‡è®¾ç¬¬0ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæœ‰åºæ•°åˆ—ï¼Œç¬¬1ä¸ªä»¥åçš„æ˜¯æ— åºæ•°åˆ—ï¼Œ</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥ä»ç¬¬1ä¸ªå…ƒç´ å¼€å§‹å°†æ— åºæ•°åˆ—çš„å…ƒç´ æ’å…¥åˆ°æœ‰åºæ•°åˆ—ä¸­å»</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">1</span>; i&lt;=elements.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// å‡åº</span></span><br><span class="line">        <span class="keyword">if</span>(elements[i] &lt; elements[i-<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="comment">// å–å‡ºæ— åºæ•°åˆ—ä¸­çš„ç¬¬iä¸ªä½œä¸ºè¢«æ’å…¥å…ƒç´ </span></span><br><span class="line">            <span class="keyword">var</span> guard=elements[i];</span><br><span class="line">            <span class="comment">//è®°ä½æœ‰åºæ•°åˆ—çš„æœ€åä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸”å°†æœ‰åºæ•°åˆ—çš„ä½ç½®æ‰©å¤§ä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">var</span> j=i-<span class="number">1</span>;</span><br><span class="line">            elements[i]=elements[j];</span><br><span class="line">            <span class="comment">// æ¯”å¤§å°;æ‰¾åˆ°è¢«æ’å…¥å…ƒç´ æ‰€åœ¨ä½ç½®</span></span><br><span class="line">            <span class="keyword">while</span> (j&gt;=<span class="number">0</span> &amp;&amp; guard &lt;elements[j]) &#123;</span><br><span class="line">                elements[j+<span class="number">1</span>]=elements[j];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            elements[j+<span class="number">1</span>]=guard; <span class="comment">//æ’å…¥</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> elements=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;æ²¡è°ƒç”¨ä¹‹å‰ï¼š&#x27;</span>+elements);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>);</span><br><span class="line"><span class="title function_">sort</span>(elements);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;è¢«è°ƒç”¨ä¹‹åï¼š&#x27;</span>+elements);</span><br></pre></td></tr></table></figure><h3 id="3-2-äºŒåˆ†æŸ¥æ‰¾">3.2 äºŒåˆ†æŸ¥æ‰¾</h3><div class="note info modern no-icon flat"><p>äºŒåˆ†æŸ¥æ‰¾ï¼Œä¹Ÿä¸ºæŠ˜åŠæŸ¥æ‰¾ï¼Œé¦–å…ˆè¦æ‰¾åˆ°ä¸€ä¸ªä¸­é—´å€¼ï¼Œé€šè¿‡ä¸ä¸­é—´å€¼çš„æ¯”è¾ƒï¼Œå¤§çš„æ”¾å³ï¼Œå°çš„æ”¾å·¦ã€‚å†å‘ä¸¤è¾¹ä¸­å¯»æ‰¾ä¸­é—´å€¼ï¼ŒæŒç»­ä»¥ä¸Šæ“ä½œã€‚ç›´åˆ°æ‰¾åˆ°å·¦å³ä½ç½®ä¸ºæ­¢ã€‚</p></div><h4 id="3-2-1-é€’å½’æ–¹å¼">3.2.1 é€’å½’æ–¹å¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">data,dest,start,end</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> end=end || data.<span class="property">length</span>-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> start=start || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> m=<span class="title class_">Math</span>.<span class="title function_">floor</span>((start + end)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(data[m]==dest)&#123;</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dest &lt; data[m])&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">binarySearch</span>(data,dest,<span class="number">0</span>,m-<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">binarySearch</span>(data,dest,m+<span class="number">1</span>,end);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">binarySearch</span>(arr,<span class="number">4</span>));</span><br></pre></td></tr></table></figure><h4 id="3-2-2-éé€’å½’æ–¹å¼">3.2.2 éé€’å½’æ–¹å¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">data,dest</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> h=data.<span class="property">length</span>-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> l=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l&lt;=h) &#123;</span><br><span class="line">        <span class="keyword">var</span> m=<span class="title class_">Math</span>.<span class="title function_">floor</span>((h+l)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(data[m] ==dest)&#123;</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dest &gt;data[m])&#123;</span><br><span class="line">            l=m+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            h=m-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">binarySearch</span>(arr,<span class="number">4</span>));</span><br></pre></td></tr></table></figure><h2 id="4-é€‰æ‹©æ’åº">4. é€‰æ‹©æ’åº</h2><div class="note info modern no-icon flat"><p>é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å¤§ï¼ˆå°ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å¤§ï¼ˆå°ï¼‰å…ƒç´ ï¼Œæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åˆ—å®Œæ¯•ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">selectionSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> len=arr.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">var</span> minIndex,temp;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;é€‰æ‹©æ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;len-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        minIndex=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>;j&lt;len;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;arr[minIndex])&#123; <span class="comment">//å¯»æ‰¾æœ€å°æ•°</span></span><br><span class="line">                minIndex=j; <span class="comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp=arr[i];</span><br><span class="line">        arr[i]=arr[minIndex];</span><br><span class="line">        arr[minIndex]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;é€‰æ‹©æ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">selectionSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="5-å¸Œå°”æ’åº">5. å¸Œå°”æ’åº</h2><div class="note info modern no-icon flat"><p>å…ˆå°†è¿™ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åº</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">shellSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> len=arr.<span class="property">length</span>,temp,gap=<span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;å¸Œå°”æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">while</span> (gap&lt;len/<span class="number">5</span>) &#123; <span class="comment">//åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—</span></span><br><span class="line">        gap=gap*<span class="number">5</span>+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(gap;gap&gt;<span class="number">0</span>;gap=<span class="title class_">Math</span>.<span class="title function_">floor</span>(gap /<span class="number">5</span>))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=gap;i&lt;len;i++)&#123;</span><br><span class="line">            temp=arr[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i-gap; j &gt;=<span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j-=gap)&#123;</span><br><span class="line">                arr[j+gap]=arr[j];</span><br><span class="line">            &#125;</span><br><span class="line">            arr[j+gap]=temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;å¸Œå°”æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">shellSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="6-å½’å¹¶æ’åº">6. å½’å¹¶æ’åº</h2><div class="note info modern no-icon flat"><p>å½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹æ³•ï¼Œå°†ä»¥æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼Œå³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µæœ‰åºã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSort</span>(<span class="params">arr</span>)&#123; <span class="comment">//é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> len=arr.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">if</span>(len &lt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> middle=<span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>),</span><br><span class="line">          left=arr.<span class="title function_">slice</span>(<span class="number">0</span>,middle),</span><br><span class="line">          right=arr.<span class="title function_">slice</span>(middle);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">merge</span>(<span class="title function_">mergeSort</span>(left),<span class="title function_">mergeSort</span>(right));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">left,right</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> result=[];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;å½’å¹¶æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">while</span>(left.<span class="property">length</span> &amp;&amp; right.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(left[<span class="number">0</span>]&lt;=right[<span class="number">0</span>])&#123;</span><br><span class="line">            result.<span class="title function_">push</span>(left.<span class="title function_">shift</span>());</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result.<span class="title function_">push</span>(right.<span class="title function_">shift</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">while</span>(left.<span class="property">length</span>) &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(left.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (right.<span class="property">length</span>) &#123;</span><br><span class="line">        result.<span class="title function_">push</span>(right.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;å½’å¹¶æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">10</span>];</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">mergeSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="7-å †æ’åº">7. å †æ’åº</h2><div class="note info modern no-icon flat"><p>å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§ã€ã€‘æ’åºç®—æ³•ã€‚å †ç§¯æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼Œå³å­èŠ‚ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„èŠ‚ç‚¹ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">heapSort</span>(<span class="params">array</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å †æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(array).<span class="title function_">slice</span>(<span class="number">8</span>,-<span class="number">1</span>)===<span class="string">&#x27;Array&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> heapSize=array.<span class="property">length</span>,temp;<span class="comment">//å»ºå †</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="title class_">Math</span>.<span class="title function_">floor</span>(heapSize / <span class="number">2</span>) -<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="title function_">heapify</span>(array,i,heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=heapSize-<span class="number">1</span>;j&gt;=<span class="number">1</span>;j--)&#123;<span class="comment">//å †æ’åº</span></span><br><span class="line">            temp=array[<span class="number">0</span>];</span><br><span class="line">            array[<span class="number">0</span>]=array[j];</span><br><span class="line">            array[j]=temp;</span><br><span class="line">            <span class="title function_">heapify</span>(array,<span class="number">0</span>,--heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å †æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;array is not an Array!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">heapify</span>(<span class="params">arr,x,len</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(arr).<span class="title function_">slice</span>(<span class="number">8</span>,-<span class="number">1</span>)===<span class="string">&#x27;Array&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> x===<span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> l = <span class="number">2</span> * x + <span class="number">1</span>,</span><br><span class="line">            r = <span class="number">2</span> * x + <span class="number">2</span>,</span><br><span class="line">            largest = x,</span><br><span class="line">            temp;</span><br><span class="line">        <span class="keyword">if</span>(l &lt; len &amp;&amp; arr[l] &gt; arr[largest])&#123;</span><br><span class="line">            largest = l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(r &lt; len &amp;&amp; arr[r] &gt; arr[largest])&#123;</span><br><span class="line">            largest = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(largest != x)&#123;</span><br><span class="line">            temp = arr[x];</span><br><span class="line">            arr[x] = arr[largest];</span><br><span class="line">            arr[largest] = temp;</span><br><span class="line">            <span class="title function_">heapify</span>(arr,largest,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;arr is not Array or x is not a number!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">91</span>,<span class="number">60</span>,<span class="number">96</span>,<span class="number">86</span>,<span class="number">13</span>,<span class="number">73</span>,<span class="number">63</span>,<span class="number">40</span>,<span class="number">30</span>,<span class="number">71</span>,<span class="number">88</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">heapSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="8-è®¡æ•°æ’åº">8. è®¡æ•°æ’åº</h2><div class="note info modern no-icon flat"><p>è®¡æ•°æ’åºä½¿ç”¨ä¸€ç§é¢å¤–çš„æ•°ç»„C,å…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å¾…æ’åºæ•°ç»„Aä¸­å€¼ç­‰äºiçš„å…ƒç´ çš„ä¸ªæ•°ã€‚ç„¶åæ ¹æ®æ•°ç»„Cæ¥å°†æ•°ç»„Aä¸­çš„å…ƒç´ æ’åºåˆ°æ­£ç¡®çš„ä½ç½®ã€‚å®ƒåªèƒ½å¯¹æ•´æ•°è¿›è¡Œæ’åºã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">countingSort</span>(<span class="params">array</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> len = array.<span class="property">length</span>, B = [],C = [],</span><br><span class="line">         min = max =array[<span class="number">0</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;è®¡æ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        min = min &lt;= array[i] ? min : array[i];</span><br><span class="line">        max = max &gt;= array[i] ? max : array[i];</span><br><span class="line">        C[array[i]] = C[array[i]] ? C[array[i]] + <span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = min; j &lt; max; j++) &#123;</span><br><span class="line">        C[j+<span class="number">1</span>] = (C[j + <span class="number">1</span>] || <span class="number">0</span>) + (C[j] || <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k = len - <span class="number">1</span>; k &gt; <span class="number">0</span>; k--) &#123;</span><br><span class="line">        B[C[array[k]] - <span class="number">1</span>] =array[k];</span><br><span class="line">        C[array[k]]--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;è®¡æ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> B;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">69</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">6</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">countingSort</span>(arr));</span><br></pre></td></tr></table></figure><h2 id="9-æ¡¶æ’åº">9. æ¡¶æ’åº</h2><div class="note info modern no-icon flat"><p>å‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒ,å°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯yidiguiä»¥é€’å½’çš„æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’ï¼‰ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bucketSort</span>(<span class="params">array,num</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(array.<span class="property">length</span> &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len = array.<span class="property">length</span>,buckets = [],result = [],</span><br><span class="line">    min = max =array[<span class="number">0</span>],regex =<span class="string">&#x27;/^[1-9]+[0-9]*$/&#x27;</span>,space,n=<span class="number">0</span>;</span><br><span class="line">    num = num || ((num &gt; <span class="number">1</span> &amp;&amp; regex.<span class="title function_">test</span>(num))?num : <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++)&#123;</span><br><span class="line">        min = min &lt;= array[i] ? min :array[i];</span><br><span class="line">        max = max &gt;=array[i] ? max : array[i];</span><br><span class="line">    &#125;</span><br><span class="line">    space = (max - min + <span class="number">1</span>) / num;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j =<span class="number">0</span>; j &lt; len; j++)&#123;</span><br><span class="line">        <span class="keyword">var</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>((array[j] - min) / space);</span><br><span class="line">        <span class="keyword">if</span>(buckets[index])&#123;<span class="comment">//éç©ºæ¡¶ï¼Œæ’å…¥æ’åº</span></span><br><span class="line">            <span class="keyword">var</span> k = buckets[index].<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (k &gt;= <span class="number">0</span> &amp;&amp; buckets[index][k] &gt; array[j]) &#123;</span><br><span class="line">                buckets[index][k+<span class="number">1</span>] = buckets[index][k];</span><br><span class="line">                k--;</span><br><span class="line">            &#125;</span><br><span class="line">            buckets[index][k+<span class="number">1</span>]=array[j];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//ç©ºæ¡¶ï¼Œåˆå§‹åŒ–</span></span><br><span class="line">            buckets[index] = [];</span><br><span class="line">            buckets[index].<span class="title function_">push</span>(array[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (n &lt; num) &#123;</span><br><span class="line">        result = result.<span class="title function_">concat</span>(buckets[n]);</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">55</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">45</span>,<span class="number">33</span>,<span class="number">87</span>,<span class="number">98</span>,<span class="number">68</span>,<span class="number">58</span>,<span class="number">70</span>,<span class="number">66</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">bucketSort</span>(arr,<span class="number">4</span>));</span><br></pre></td></tr></table></figure><h2 id="10-åŸºæ•°æ’åº">10. åŸºæ•°æ’åº</h2><div class="note info modern no-icon flat"><p>åŸºæ•°æ’åºæ˜¯æŒ‰ç…§ä½ä½å…ˆæ’åºï¼Œç„¶åæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æ’åºï¼Œç„¶åå†æ”¶é›†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æœ€é«˜ä½ï¼Œæœ‰æ—¶å€™æœ‰äº›å±æ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æ’åºï¼Œæœ€åçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½ä¼˜å…ˆçº§é«˜çš„æ’åœ¨å‰é¢ï¼ŒåŸºæ•°æ’åºåŸºäºåˆ†åˆ«æ’åºï¼Œåˆ†åˆ«æ”¶é›†ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šçš„ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">radixSort</span>(<span class="params">arr,maxDight</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> mod = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> dev =<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> counter = [];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;åŸºæ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxDight; i++, dev *= <span class="number">10</span>, mod *= <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arr.<span class="property">length</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">var</span> bucket= <span class="built_in">parseInt</span>((arr[j] % mod) / dev);</span><br><span class="line">            <span class="keyword">if</span>(counter[bucket] == <span class="literal">null</span>)&#123;</span><br><span class="line">                counter[bucket] = [];</span><br><span class="line">            &#125;</span><br><span class="line">            counter[bucket].<span class="title function_">push</span>(arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> pos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j&lt; counter.<span class="property">length</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">var</span> value = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">if</span>(counter[j] != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">while</span> ((value = counter[j].<span class="title function_">shift</span>())!=<span class="literal">null</span>) &#123;</span><br><span class="line">                    arr[pos++] = value;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;åŸºæ•°æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">55</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">45</span>,<span class="number">33</span>,<span class="number">87</span>,<span class="number">98</span>,<span class="number">68</span>,<span class="number">58</span>,<span class="number">70</span>,<span class="number">66</span>];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">radixSort</span>(arr,<span class="number">2</span>));</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ­JSåå¤§æ’åºç®—æ³•</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>vueé¡¹ç›®ä½¿ç”¨Base64åŠ å¯†è§£å¯†</title>
    <link href="https://www.axcode.cn/posts/57e6be25.html"/>
    <id>https://www.axcode.cn/posts/57e6be25.html</id>
    <published>2024-06-10T14:36:00.000Z</published>
    <updated>2024-06-12T13:15:47.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info flat"><p>æœ¬æ–‡æ¥è‡ªç®€ä¹¦<a href='https://www.jianshu.com/u/5cc9c8608284'>5cc9c8608284</a>ï¼Œæœ¬ç«™åªåšè®°å½•ï¼Œå·²æ ‡æ˜å‡ºå¤„ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤ï¼</p></div><h2 id="ä¸€ã€å‰ç½®çŸ¥è¯†">ä¸€ã€å‰ç½®çŸ¥è¯†</h2><h3 id="1-window-btoa-æ–¹æ³•">1.<code>window btoa()</code> æ–¹æ³•</h3><div class="note success no-icon flat"><p><code>btoa()</code>æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª base-64 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ã€‚<br>è¯¥æ–¹æ³•ä½¿ç”¨ â€œA-Zâ€, â€œa-zâ€, â€œ0-9â€, â€œ+â€, â€œ/â€ å’Œ â€œ=â€ å­—ç¬¦æ¥ç¼–ç å­—ç¬¦ä¸²ã€‚<br>ä¾‹å¦‚:</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;i love coding&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> enc = <span class="variable language_">window</span>.<span class="title function_">btoa</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(enc);<span class="comment">//æ‰“å°ç»“æœä¸º &#x27;aSBsb3ZlIGNvZGluZw==&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="2-window-atob-æ–¹æ³•">2.<code>window atob()</code> æ–¹æ³•</h3><div class="note success no-icon flat"><p>å¯¹åº”çš„ï¼Œatob() æ–¹æ³•ç”¨äºè§£ç ä½¿ç”¨ base-64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚<br>atob() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªé€šè¿‡ btoa() æ–¹æ³•ç¼–ç çš„å­—ç¬¦ä¸².<br>ä¾‹å¦‚:</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> encStr=<span class="string">&#x27;aSBsb3ZlIGNvZGluZw==&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> decStr=<span class="variable language_">window</span>.<span class="title function_">atob</span>(encStr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(decStr);<span class="comment">//æ‰“å°ç»“æœä¸º i love coding</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€ä½¿ç”¨js-base64è¿›è¡ŒåŠ å¯†è§£å¯†">äºŒã€ä½¿ç”¨js-base64è¿›è¡ŒåŠ å¯†è§£å¯†</h2><h3 id="1-å®‰è£…ä¾èµ–">1.å®‰è£…ä¾èµ–</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save js-base64</span><br></pre></td></tr></table></figure><h3 id="2-å¼•å…¥ä¾èµ–">2.å¼•å…¥ä¾èµ–</h3><p>ä¸€èˆ¬æ˜¯åœ¨å¤„ç†ç™»å½•è¯·æ±‚çš„é¡µé¢å¼•å…¥<code>js-base64</code>,ä¸è¿‡å¦‚æœä½ çš„é¡µé¢ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ç”¨åˆ°åŠ å¯†è§£å¯†ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨<code>main.js</code>ä¸­å¼•å…¥ä¾èµ–<br>ï¼ˆ1ï¼‰åœ¨å•ä¸ªé¡µé¢å¼•å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Base64</span> = <span class="built_in">require</span>(<span class="string">&#x27;js-base64&#x27;</span>).<span class="property">Base64</span></span><br><span class="line"><span class="comment">//æˆ–è€…import &#123;Base64&#125; from &#x27;js-base64&#x27;</span></span><br><span class="line"><span class="title class_">Base64</span>.<span class="title function_">encode</span>(password);<span class="comment">//åŠ å¯†</span></span><br><span class="line"><span class="title class_">Base64</span>.<span class="title function_">decode</span>(password);<span class="comment">//è§£å¯†</span></span><br></pre></td></tr></table></figure><p>(2)åœ¨<code>main.js</code>ä¸­å¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &quot;vue&quot;</span><br><span class="line">import &#123;Base64&#125; from &#x27;js-base64&#x27;</span><br><span class="line">Vue.prototype.$Base64 = Base64;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨å•é¡µé¢ç»„ä»¶ä¸­ä½¿ç”¨:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">let</span> encPass=<span class="variable language_">this</span>.<span class="property">$Base64</span>.<span class="title function_">encode</span>(password);<span class="comment">//åŠ å¯†</span></span><br><span class="line"><span class="keyword">let</span> decPass=<span class="variable language_">this</span>.<span class="property">$Base64</span>.<span class="title function_">decode</span>(encPass);<span class="comment">//è§£å¯†</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ‡vueé¡¹ç›®ä½¿ç”¨Base64åŠ å¯†è§£å¯†</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>JSæ ¹æ®èº«ä»½è¯å·ç è®¡ç®—å¹´é¾„å’Œæ€§åˆ«</title>
    <link href="https://www.axcode.cn/posts/4e9b3be9.html"/>
    <id>https://www.axcode.cn/posts/4e9b3be9.html</id>
    <published>2024-06-10T11:11:20.000Z</published>
    <updated>2024-06-12T08:45:09.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">analyzeIDCard</span>(<span class="params">IDCord</span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> sexAndAge = &#123;&#125;;</span><br><span class="line">   <span class="comment">//è·å–ç”¨æˆ·èº«ä»½è¯å·ç </span></span><br><span class="line">   <span class="keyword">var</span> userCard = <span class="title class_">IDCord</span>;</span><br><span class="line">   <span class="comment">//å¦‚æœç”¨æˆ·èº«ä»½è¯å·ç ä¸ºundefinedåˆ™è¿”å›ç©º</span></span><br><span class="line">   <span class="keyword">if</span>(!userCard)&#123;</span><br><span class="line">     <span class="keyword">return</span> sexAndAge;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// è·å–æ€§åˆ«</span></span><br><span class="line">   <span class="keyword">if</span>(<span class="built_in">parseInt</span>(userCard.<span class="title function_">substr</span>(<span class="number">16</span>,<span class="number">1</span>)) % <span class="number">2</span> == <span class="number">1</span>)&#123;</span><br><span class="line">     sexAndAge.<span class="property">sex</span> = <span class="string">&#x27;1 ç”·&#x27;</span></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     sexAndAge.<span class="property">sex</span> = <span class="string">&#x27;0 å¥³&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// è·å–å‡ºç”Ÿæ—¥æœŸ</span></span><br><span class="line">   <span class="comment">// userCard.substring(6,10) + &quot;-&quot; + userCard.substring(10,12) + &quot;-&quot; + userCard.substring(12,14)</span></span><br><span class="line">   <span class="keyword">var</span> yearBirth = userCard.<span class="title function_">substring</span>(<span class="number">6</span>,<span class="number">10</span>)ã€‘</span><br><span class="line">   <span class="keyword">var</span> monthBirth = userCard.<span class="title function_">substring</span>(<span class="number">10</span>,<span class="number">12</span>);</span><br><span class="line">   <span class="keyword">var</span> dayBirth = userCard.<span class="title function_">substring</span>(<span class="number">12</span>,<span class="number">14</span>);</span><br><span class="line">   <span class="comment">// è·å–å½“å‰å¹´æœˆæ—¥å¹¶è®¡ç®—å¹´é¾„</span></span><br><span class="line">   <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">   <span class="keyword">var</span> monthNow = myDate.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">var</span> dayNow = myDate.<span class="title function_">getDate</span>();</span><br><span class="line">   <span class="keyword">var</span> age = myDate.<span class="title function_">getFullYear</span>() - yearBirth;</span><br><span class="line">   <span class="keyword">if</span>(monthNow &lt; monthBirth || (monthNow == monthBirth &amp;&amp; dayNow &lt; dayBirth))&#123;</span><br><span class="line">     age --;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// å¾—åˆ°å¹´é¾„</span></span><br><span class="line">   sexAndAge.<span class="property">age</span> = age;</span><br><span class="line">   <span class="comment">// è¿”å› æ€§åˆ«å’Œå¹´é¾„</span></span><br><span class="line">   <span class="keyword">return</span> sexAndAge;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**æµ‹è¯• */</span></span><br><span class="line"> <span class="keyword">var</span> <span class="variable constant_">ID</span> = <span class="title function_">analyzeIDCard</span>(<span class="string">&#x27;510612199004174732&#x27;</span>);</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">ID</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ‚JSæ ¹æ®èº«ä»½è¯å·ç è®¡ç®—å¹´é¾„å’Œæ€§åˆ«</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>JOSN.parse(JSON.stringify(obj))å®ç°æ·±æ‹·è´çš„å¼Šç«¯</title>
    <link href="https://www.axcode.cn/posts/fc808795.html"/>
    <id>https://www.axcode.cn/posts/fc808795.html</id>
    <published>2024-06-10T06:31:31.000Z</published>
    <updated>2024-08-08T10:43:29.946Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-å¦‚æœobjé‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™JSON-stringifyåå†JSON-parseçš„ç»“æœï¼Œæ—¶é—´å°†åªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼›è€Œä¸æ˜¯æ—¶é—´å¯¹è±¡ã€‚">1. å¦‚æœobjé‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™<code>JSON.stringify</code>åå†<code>JSON.parse</code>çš„ç»“æœï¼Œæ—¶é—´å°†åªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼›è€Œä¸æ˜¯æ—¶é—´å¯¹è±¡ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = &#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">   <span class="attr">date</span>:[<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">153662760000</span>), <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">15400476000000</span>)],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b;</span><br><span class="line">b = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(test));</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/10/66669f8fef426.webp" alt="testå’Œbçš„ç»“æœ"></p><p><img src="https://bu.dusays.com/2024/06/10/66669f8fde60c.webp" alt="æµ‹è¯•bå’Œtestç±»å‹"></p><h3 id="2-å¦‚æœobjé‡Œæœ‰RegExp-ã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœåªå¾—åˆ°ç©ºå¯¹è±¡ã€‚">2. å¦‚æœobjé‡Œæœ‰RegExp ã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœåªå¾—åˆ°ç©ºå¯¹è±¡ã€‚</h3><p><img src="https://bu.dusays.com/2024/06/10/66669f8fdd041.webp" alt=""></p><h3 id="3-å¦‚æœobjé‡Œæœ‰å‡½æ•°ï¼Œ-undefined-ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠå‡½æ•°æˆ–undefinedä¸¢å¤±ã€‚">3. å¦‚æœobjé‡Œæœ‰å‡½æ•°ï¼Œ undefined ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠå‡½æ•°æˆ–undefinedä¸¢å¤±ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = &#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">   <span class="attr">date</span>:<span class="keyword">function</span> <span class="title function_">hehe</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è‚–æˆ˜&#x27;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> copyed = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(test));</span><br><span class="line">test.<span class="property">name</span> = <span class="string">&#x27;é­æ— ç¾¡&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;debugger&#x27;</span>,test,copyed);</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2024/06/10/66669f8fb0fa7.webp" alt="å‡½æ•°"></p><p><img src="https://bu.dusays.com/2024/06/10/66669f8f9d08c.webp" alt="undefined"></p><h3 id="4-å¦‚æœobjé‡Œæœ‰NaNã€infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜ä¸ºnull">4. å¦‚æœobjé‡Œæœ‰NaNã€infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜ä¸ºnull</h3><p><img src="https://bu.dusays.com/2024/06/10/66669f8f91736.webp" alt=""></p><h3 id="5-JSON-stringify-åªèƒ½åºåˆ—åŒ–å¯¹è±¡çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ï¼Œä¾‹å¦‚ï¼šå¦‚æœobjä¸­çš„å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™ä½¿ç”¨JSON-parse-JSON-stringify-obj-æ·±æ‹·è´åï¼Œä¼šä¸¢å¼ƒå¯¹è±¡constructor">5. <code>JSON.stringify()</code>åªèƒ½åºåˆ—åŒ–å¯¹è±¡çš„å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ï¼Œä¾‹å¦‚ï¼šå¦‚æœobjä¸­çš„å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™ä½¿ç”¨<code>JSON.parse(JSON.stringify(obj))</code>æ·±æ‹·è´åï¼Œä¼šä¸¢å¼ƒå¯¹è±¡<code>constructor</code>;</h3><p><img src="https://bu.dusays.com/2024/06/10/66669f8fa5d57.webp" alt=""></p><h3 id="6-å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ˜¯æ— æ³•æ­£ç¡®å®ç°æ·±æ‹·è´ã€‚">6. å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ˜¯æ— æ³•æ­£ç¡®å®ç°æ·±æ‹·è´ã€‚</h3><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>å¦‚æœæ‹·è´çš„å¯¹è±¡ä¸æ¶‰åŠä¸Šé¢çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨<code>JSON.parse(JSON.stringify(obj))</code>å®ç°æ·±æ‹·è´ï¼Œä½†æ˜¯æ¶‰åŠä¸Šé¢çš„æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å®ç°ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°æ·±æ‹·è´å‡½æ•°</span></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> type = <span class="variable language_">this</span>.<span class="title function_">judgeType</span>(data);</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(type === <span class="string">&#x27;array&#x27;</span>)&#123;</span><br><span class="line">        obj = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            obj.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="title function_">deepClone</span>(data[i]));                          </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>( type === <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">        obj =&#123;&#125;;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">                obj[key] = <span class="variable language_">this</span>.<span class="title function_">deepClone</span>(data[key])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line">                </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">judgeType</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> toString = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>;</span><br><span class="line">    <span class="keyword">const</span> map =&#123;</span><br><span class="line">        <span class="string">&#x27;[object Boolean]&#x27;</span>: <span class="string">&#x27;boolean&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Number]&#x27;</span>: <span class="string">&#x27;number&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object String]&#x27;</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Function]&#x27;</span>: <span class="string">&#x27;function&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Array]&#x27;</span>: <span class="string">&#x27;array&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Date]&#x27;</span>: <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object RegExp]&#x27;</span>: <span class="string">&#x27;regExp&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Undefined]&#x27;</span>: <span class="string">&#x27;undefined&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Null]&#x27;</span>: <span class="string">&#x27;null&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Object]&#x27;</span>: <span class="string">&#x27;object&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="title class_">Element</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;element&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map[toString.<span class="title function_">call</span>(obj)];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> test =&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="attr">date</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">deepClone</span>(test));</span><br><span class="line">test.<span class="property">date</span>[<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ‰JOSN.parse(JSON.stringify(obj))å®ç°æ·±æ‹·è´çš„å¼Šç«¯</summary>
    
    
    
    <category term="Js" scheme="https://www.axcode.cn/categories/Js/"/>
    
    
    <category term="Js" scheme="https://www.axcode.cn/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>Vueä¸­ä½¿ç”¨Fullcalendaræ—¥å†å¼€å‘æ—¥ç¨‹å®‰æ’</title>
    <link href="https://www.axcode.cn/posts/c16a7e1e.html"/>
    <id>https://www.axcode.cn/posts/c16a7e1e.html</id>
    <published>2024-06-10T06:01:06.000Z</published>
    <updated>2024-06-12T13:16:14.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ•ˆæœå±•ç¤º">æ•ˆæœå±•ç¤º</h3><details class="folding-tag" blue><summary> æ•ˆæœé¢„è§ˆ </summary>              <div class='content'>              <p><img src="https://bu.dusays.com/2024/06/10/6666993da4c5f.png" alt=""></p><p>å®˜ç½‘åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Ffullcalendar.io%2Fdocs%2Fvue">Vue Component - Docs | FullCalendar</a></p>              </div>            </details><h3 id="å®‰è£…ä½¿ç”¨">å®‰è£…ä½¿ç”¨</h3><ul><li><p>å®‰è£…å¦‚ä¸‹ä¾èµ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;@fullcalendar/core&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/daygrid&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/interactib&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/list&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/timegrid&quot;</span></span><br><span class="line"><span class="string">&quot;@fullcalendar/vue&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨éœ€è¦ä½¿ç”¨çš„é¡µé¢å¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;FullCalendar ref=&quot;fullCalendar&quot; :options=&quot;calendarOptions&quot;&gt;&lt;/FullCalendar&gt;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨é¡µé¢ä¸­å¼•å…¥éœ€è¦çš„æ’ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">FullCalendar</span> <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> dayGridPlugin <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/daygrid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> timeGridPlugin <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/timegrid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> interactionPlugin <span class="keyword">from</span> <span class="string">&#x27;@fullcalendar/interaction&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨<code>data</code>ä¸­è®¾ç½®æ—¥å†çš„ä¸€äº›é…ç½®å’ŒåŠå±æ€§</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">     calendarOptions:&#123;</span><br><span class="line">        plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],</span><br><span class="line">        initialView: &#x27;dayGridMonth&#x27;,</span><br><span class="line">        locale: &#x27;zh&#x27;,</span><br><span class="line">        firstDay: 1,</span><br><span class="line">        buttonText: &#123;</span><br><span class="line">          today: &quot;ä»Šå¤©&quot;,</span><br><span class="line">          month: &quot;æœˆ&quot;,</span><br><span class="line">          week: &quot;å‘¨&quot;,</span><br><span class="line">          day: &quot;æ—¥&quot;,</span><br><span class="line">          // list: &quot;åˆ—è¡¨&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        headerToolbar: &#123;</span><br><span class="line">          left: &#x27;prev,next today&#x27;,</span><br><span class="line">          center: &#x27;title&#x27;,</span><br><span class="line">          right: &#x27;dayGridMonth,timeGridWeek,timeGridDay&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        weekNumberCalculation: &#x27;ISO&#x27;,</span><br><span class="line">        nowIndicator: true,</span><br><span class="line">        height:500,</span><br><span class="line">        validRange: this.validRange,  //è®¾ç½®å¯æ˜¾ç¤ºçš„æ€»æ—¥æœŸèŒƒå›´</span><br><span class="line">        eventTimeFormat: &#123; // åœ¨æ¯ä¸ªäº‹ä»¶ä¸Šæ˜¾ç¤ºçš„æ—¶é—´çš„æ ¼å¼</span><br><span class="line">          hour: &#x27;numeric&#x27;, // numeric:2022,2-digit:22</span><br><span class="line">          minute: &#x27;2-digit&#x27;,</span><br><span class="line">          meridiem: false,</span><br><span class="line">          hour12: false // è®¾ç½®æ—¶é—´ä¸º24å°æ—¶</span><br><span class="line">        &#125;,</span><br><span class="line">        customButtons: &#123;</span><br><span class="line">          next: &#123;</span><br><span class="line">            click: this.nextClick</span><br><span class="line">          &#125;,</span><br><span class="line">          prev: &#123;</span><br><span class="line">            click: this.prevClick</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        editable: false, //å…è®¸æ‹–åŠ¨ç¼©æ”¾ï¼Œä¸å†™é»˜è®¤å°±æ˜¯false</span><br><span class="line">        overlap: false, //å…è®¸æ—¶é—´é‡å ï¼Œå³å¯ä»¥ä¸å…¶ä»–äº‹ä»¶å¹¶å­˜ï¼Œä¸å†™é»˜è®¤å°±æ˜¯false</span><br><span class="line">        events: [], //èƒŒæ™¯è‰² (æ·»åŠ ç›¸åŒæ—¶é—´çš„èƒŒæ™¯è‰²æ—¶é¢œè‰²ä¼šé‡å )</span><br><span class="line">        datesSet: this.datesSet, //æ—¥æœŸæ¸²æŸ“ï¼›ä¿®æ”¹æ—¥æœŸèŒƒå›´åè§¦å‘</span><br><span class="line">        eventClick: this.handleEventClick, //ç‚¹å‡»æ—¥ç¨‹è§¦å‘</span><br><span class="line">        dateClick: this.handleDateClick, //ç‚¹å‡»æ—¥æœŸè§¦å‘</span><br><span class="line">        eventDrop: this.calendarEventDropOrResize, //æ‹–åŠ¨äº‹ä»¶è§¦å‘</span><br><span class="line">        eventResize: this.calendarEventDropOrResize, //ç¼©æ”¾äº‹ä»¶è§¦å‘</span><br><span class="line">        displayEventTime: false, //ä¸æ˜¾ç¤ºå…·ä½“æ—¶é—´</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">ğŸˆVueä¸­ä½¿ç”¨Fullcalendaræ—¥å†å¼€å‘æ—¥ç¨‹å®‰æ’</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>vueä½¿ç”¨ElementUI tableå®ç°å±•å¼€è¡ŒåŠŸèƒ½</title>
    <link href="https://www.axcode.cn/posts/41b1953a.html"/>
    <id>https://www.axcode.cn/posts/41b1953a.html</id>
    <published>2024-06-09T14:10:05.000Z</published>
    <updated>2024-06-12T13:16:01.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ•ˆæœé¢„è§ˆ">æ•ˆæœé¢„è§ˆ</h3><p><img src="https://bu.dusays.com/2024/06/09/6665b854026be.webp" alt=""></p><h3 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</h3><p>å½“è¡Œå†…å®¹è¿‡å¤šå¹¶ä¸”ä¸æƒ³æ˜¾ç¤ºæ¨ªå‘æ»šåŠ¨æ¡æ—¶ æˆ–è€…æ˜¯éœ€è¦å±•ç¤ºå½“å‰ç‰©å“ä¸‹æ‰€å±çš„èµ„äº§æ—¶ å¯ä»¥ä½¿ç”¨ Table å±•å¼€è¡ŒåŠŸèƒ½ã€‚</p><h3 id="é‡ç‚¹å‚æ•°">é‡ç‚¹å‚æ•°</h3><ol><li>expand-changeï¼š å½“ç”¨æˆ·å¯¹æŸä¸€è¡Œå±•å¼€æˆ–è€…å…³é—­çš„æ—¶å€™ä¼šè§¦å‘è¯¥äº‹ä»¶ï¼ˆå±•å¼€è¡Œæ—¶ï¼Œå›è°ƒçš„ç¬¬äºŒä¸ªå‚æ•°ä¸º expandedRowsï¼šæ ‘å½¢è¡¨æ ¼æ—¶ç¬¬äºŒå‚æ•°ä¸º expandedï¼‰</li><li>expandedRowsï¼šå…¶å®å°±åªå½“å‰å±•å¼€è¡Œçš„åˆé›†ã€‚</li><li>typeï¼š å¯¹åº”åˆ—çš„ç±»å‹ã€‚å¦‚æœè®¾ç½®äº† selection åˆ™æ˜¾ç¤ºå¤šé€‰æ¡†ï¼›å¦‚æœè®¾ç½®äº† index åˆ™æ˜¾ç¤ºè¯¥è¡Œçš„ç´¢å¼•ï¼ˆä» 1 å¼€å§‹è®¡ç®—ï¼‰ï¼›å¦‚æœè®¾ç½®äº† expand åˆ™æ˜¾ç¤ºä¸ºä¸€ä¸ªå¯å±•å¼€çš„æŒ‰é’®ã€‚</li><li>toggleRowExpansionï¼šç”¨äºå¯å±•å¼€è¡¨æ ¼ä¸æ ‘å½¢è¡¨æ ¼ï¼Œåˆ‡æ¢æŸä¸€è¡Œçš„å±•å¼€çŠ¶æ€ï¼Œå¦‚æœä½¿ç”¨äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™æ˜¯è®¾ç½®è¿™ä¸€è¡Œå±•å¼€ä¸å¦  å‚æ•°(row,expanded expanded ä¸º true åˆ™å±•å¼€)</li></ol><h3 id="ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">fit</span> <span class="attr">border</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>  <span class="attr">:data</span>=<span class="string">&quot;deviceList&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataTreeList&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>  @<span class="attr">expand-change</span>=<span class="string">&quot;handleExpandChange&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;expand&quot;</span>&gt;</span></span><br><span class="line">    // å¦‚æœè¡¨å¤´éœ€è¦ç»Ÿä¸€ç®¡ç†æŒ‰é’® å¯åŠ å…¥ä»¥ä¸‹ä»£ç </span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;header&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toggleRowExpansion&quot;</span>&gt;</span>&#123;&#123; isExpansion ? &quot;å…³é—­&quot; : &quot;å±•å¼€&quot; &#125;<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span>åŠ å…¥éœ€è¦æŠ˜å çš„ä»£ç <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/** è¡¨æ ¼å±•å¼€ä¸å…³é—­ */</span></span><br><span class="line">    <span class="title function_">toggleRowExpansion</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">deviceList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isExpansion</span> = !<span class="variable language_">this</span>.<span class="property">isExpansion</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">toggleRowExpansionAll</span>(<span class="variable language_">this</span>.<span class="property">deviceList</span>, <span class="variable language_">this</span>.<span class="property">isExpansion</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">toggleRowExpansionAll</span>(<span class="params">data, isExpansion</span>) &#123;</span><br><span class="line">      data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">dataTreeList</span>.<span class="title function_">toggleRowExpansion</span>(item, isExpansion);</span><br><span class="line">        <span class="keyword">if</span> (item.<span class="property">children</span> !== <span class="literal">undefined</span> &amp;&amp; item.<span class="property">children</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">toggleRowExpansionAll</span>(item.<span class="property">children</span>, isExpansion);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦æ‰€æœ‰è¡Œéƒ½å±•å¼€æˆ–è€…å…³é—­</span></span><br><span class="line">  <span class="title function_">handleExpandChange</span>(<span class="params">row,rows</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">deviceList</span>.<span class="property">length</span> == rows.<span class="property">length</span>)&#123;</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">isExpansion</span> = <span class="literal">true</span></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isExpansion</span> = <span class="literal">false</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ°vueä½¿ç”¨ElementUI tableå®ç°å±•å¼€è¡ŒåŠŸèƒ½</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vu3å¿«é€Ÿä¸Šæ‰‹ç¬”è®°</title>
    <link href="https://www.axcode.cn/posts/49eb0ff9.html"/>
    <id>https://www.axcode.cn/posts/49eb0ff9.html</id>
    <published>2024-06-09T07:28:25.000Z</published>
    <updated>2024-08-08T10:30:36.659Z</updated>
    
    <content type="html"><![CDATA[<div class="tip "><p>ä»¥ä¸‹ç¬”è®°çš†æ¥è‡ªäºå°šç¡…è°·ç¦¹ç¥ï¼Œæœ¬ç«™åªåšç¬”è®°ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç«™é•¿åˆ é™¤!</p></div><h2 id="1-Vue3ç®€ä»‹">1.Vue3ç®€ä»‹</h2><ul><li><p>2020å¹´9æœˆ18æ—¥ï¼Œ<code>Vue.js</code>å‘å¸ƒç‰ˆ<code>3.0</code>ç‰ˆæœ¬ï¼Œä»£å·ï¼š<code>One Piece</code>ã€‚</p></li><li><p>ç»å†äº†ï¼š<a href="https://github.com/vuejs/core/commits/main">4800+æ¬¡æäº¤</a>ã€<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">40+ä¸ªRFC</a>ã€<a href="https://github.com/vuejs/vue-next/pulls?q=is%3Apr+is%3Amerged+-author%3Aapp%2Fdependabot-preview+">600+æ¬¡PR</a>ã€<a href="https://github.com/vuejs/core/graphs/contributors">300+è´¡çŒ®è€…</a>ã€‚</p></li><li><p>å®˜æ–¹å‘ç‰ˆåœ°å€ï¼š<a href="https://github.com/vuejs/core/releases/tag/v3.0.0">Release v3.0.0 One Piece Â· vuejs/core</a>ã€‚</p></li><li><p>æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°çš„å…¬å¼€ç‰ˆæœ¬ä¸ºï¼š<code>3.3.4</code></p><p><img src="https://bu.dusays.com/2024/06/09/66655c826a2c4.png" alt="ç‰ˆæœ¬"></p></li></ul><h3 id="1-1-æ€§èƒ½æå‡">1.1. æ€§èƒ½æå‡</h3><ul><li>æ‰“åŒ…å¤§å°å‡å°‘<code>41%</code>ã€‚</li><li>åˆæ¬¡æ¸²æŸ“å¿«<code>55%</code>, æ›´æ–°æ¸²æŸ“å¿«<code>133%</code>ã€‚</li><li>å†…å­˜å‡å°‘<code>54%</code>ã€‚</li></ul><h3 id="1-2-æºç çš„å‡çº§">1.2. æºç çš„å‡çº§</h3><ul><li><p>ä½¿ç”¨<code>Proxy</code>ä»£æ›¿<code>defineProperty</code>å®ç°å“åº”å¼ã€‚</p></li><li><p>é‡å†™è™šæ‹Ÿ<code>DOM</code>çš„å®ç°å’Œ<code>Tree-Shaking</code>ã€‚</p></li></ul><h3 id="1-3-æ‹¥æŠ±TypeScript">1.3. æ‹¥æŠ±TypeScript</h3><ul><li><code>Vue3</code>å¯ä»¥æ›´å¥½çš„æ”¯æŒ<code>TypeScript</code>ã€‚</li></ul><h3 id="1-4-æ–°çš„ç‰¹æ€§">1.4. æ–°çš„ç‰¹æ€§</h3><ol><li><p><code>Composition API</code>ï¼ˆç»„åˆ<code>API</code>ï¼‰ï¼š</p><ul><li><p><code>setup</code></p></li><li><p><code>ref</code>ä¸<code>reactive</code></p></li><li><p><code>computed</code>ä¸<code>watch</code></p><p>â€¦</p></li></ul></li><li><p>æ–°çš„å†…ç½®ç»„ä»¶ï¼š</p><ul><li><p><code>Fragment</code></p></li><li><p><code>Teleport</code></p></li><li><p><code>Suspense</code></p><p>â€¦</p></li></ul></li><li><p>å…¶ä»–æ”¹å˜ï¼š</p><ul><li><p>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</p></li><li><p><code>data</code> é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</p></li><li><p>ç§»é™¤<code>keyCode</code>æ”¯æŒä½œä¸º<code> v-on</code> çš„ä¿®é¥°ç¬¦</p><p>â€¦</p></li></ul></li></ol><h2 id="2-åˆ›å»ºVue3å·¥ç¨‹">2. åˆ›å»ºVue3å·¥ç¨‹</h2><h3 id="2-1-ã€åŸºäº-vue-cli-åˆ›å»ºã€‘">2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘</h3><p>ç‚¹å‡»æŸ¥çœ‹<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">å®˜æ–¹æ–‡æ¡£</a></p><blockquote><p>å¤‡æ³¨ï¼šç›®å‰<code>vue-cli</code>å·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº <code>Vite</code> åˆ›å»ºé¡¹ç›®ã€‚</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</span></span><br><span class="line">vue <span class="literal">--version</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli </span></span><br><span class="line">npm install <span class="literal">-g</span> @vue/<span class="built_in">cli</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## æ‰§è¡Œåˆ›å»ºå‘½ä»¤</span></span><br><span class="line">vue create vue_test</span><br><span class="line"></span><br><span class="line"><span class="comment">##  éšåé€‰æ‹©3.x</span></span><br><span class="line"><span class="comment">##  Choose a version of Vue.js that you want to start the project with (Use arrow keys)</span></span><br><span class="line"><span class="comment">##  &gt; 3.x</span></span><br><span class="line"><span class="comment">##    2.x</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å¯åŠ¨</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><hr><h3 id="2-2-ã€åŸºäº-vite-åˆ›å»ºã€‘-æ¨è">2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)</h3><p><code>vite</code> æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://vitejs.cn/">https://vitejs.cn</a>ï¼Œ<code>vite</code>çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p><ul><li><p>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆ<code>HMR</code>ï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€‚</p></li><li><p>å¯¹ <code>TypeScript</code>ã€<code>JSX</code>ã€<code>CSS</code> ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚</p></li><li><p>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</p></li><li><p><code>webpack</code>æ„å»º ä¸ <code>vite</code>æ„å»ºå¯¹æ¯”å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://bu.dusays.com/2024/06/09/6665606650539.png" alt=""></p><p><img src="https://bu.dusays.com/2024/06/09/6665606650539.png" alt=""></p></li><li><p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼ˆç‚¹å‡»æŸ¥çœ‹<a href="https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</p></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.åˆ›å»ºå‘½ä»¤</span></span><br><span class="line">npm create vue@latest</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2.å…·ä½“é…ç½®</span></span><br><span class="line"><span class="comment">## é…ç½®é¡¹ç›®åç§°</span></span><br><span class="line">âˆš Project name: vue3_test</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ TypeScriptæ”¯æŒ</span></span><br><span class="line">âˆš Add TypeScript?  Yes</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ JSXæ”¯æŒ</span></span><br><span class="line">âˆš Add JSX Support?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ è·¯ç”±ç¯å¢ƒ</span></span><br><span class="line">âˆš Add Vue Router <span class="keyword">for</span> Single Page Application development?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ piniaç¯å¢ƒ</span></span><br><span class="line">âˆš Add Pinia <span class="keyword">for</span> state management?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ å•å…ƒæµ‹è¯•</span></span><br><span class="line">âˆš Add Vitest <span class="keyword">for</span> Unit Testing?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•æ–¹æ¡ˆ</span></span><br><span class="line">âˆš Add an <span class="keyword">End</span><span class="literal">-to-End</span> Testing Solution? Â» No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ ESLintè¯­æ³•æ£€æŸ¥</span></span><br><span class="line">âˆš Add ESLint <span class="keyword">for</span> code quality?  Yes</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ Prettiertä»£ç æ ¼å¼åŒ–</span></span><br><span class="line">âˆš Add Prettier <span class="keyword">for</span> code formatting?  No</span><br></pre></td></tr></table></figure><p>è‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªAppç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;ä½ å¥½å•Šï¼&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;App&#x27; //ç»„ä»¶å</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .app &#123;</span><br><span class="line">    background-color: #ddd;</span><br><span class="line">    box-shadow: 0 0 10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    padding: 20px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><ul><li><code>Vite</code> é¡¹ç›®ä¸­ï¼Œ<code>index.html</code> æ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æœ€å¤–å±‚ã€‚</li><li>åŠ è½½<code>index.html</code>åï¼Œ<code>Vite</code> è§£æ <code>&lt;script type=&quot;module&quot; src=&quot;xxx&quot;&gt;</code> æŒ‡å‘çš„<code>JavaScript</code>ã€‚</li><li><code>Vue3</code>**ä¸­æ˜¯é€šè¿‡ **<code>createApp</code> å‡½æ•°åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚</li></ul><h3 id="2-3-ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘">2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘</h3><p><code>Vue3</code>å‘ä¸‹å…¼å®¹<code>Vue2</code>è¯­æ³•ï¼Œä¸”<code>Vue3</code>ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">        age:18,</span><br><span class="line">        tel:&#x27;13888888888&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      changeName()&#123;</span><br><span class="line">        this.name = &#x27;zhang-san&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      changeAge()&#123;</span><br><span class="line">        this.age += 1</span><br><span class="line">      &#125;,</span><br><span class="line">      showTel()&#123;</span><br><span class="line">        alert(this.tel)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-Vue3æ ¸å¿ƒè¯­æ³•">3. Vue3æ ¸å¿ƒè¯­æ³•</h2><h3 id="3-1-ã€OptionsAPI-ä¸-CompositionAPIã€‘">3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘</h3><ul><li><code>Vue2</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Options</code>ï¼ˆé…ç½®ï¼‰é£æ ¼çš„ã€‚</li><li><code>Vue3</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Composition</code>ï¼ˆç»„åˆï¼‰é£æ ¼çš„ã€‚</li></ul><h4 id="Options-API-çš„å¼Šç«¯">Options API çš„å¼Šç«¯</h4><p><code>Options</code>ç±»å‹çš„ <code>API</code>ï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚</p><center class="half">    <img src="https://bu.dusays.com/2024/06/09/6665643fbe5e3.gif" style='height:300px;display:inline-block;vertical-align:top' />    <img src="https://bu.dusays.com/2024/06/09/6665645f536ed.gif" style='height:300px;display:inline-block;vertical-align:top' /></center><center class="half">    <img src="https://bu.dusays.com/2024/06/09/66656a8799cbf.gif" style='height:300px;display:inline-block;vertical-align:top' />    <img src="https://bu.dusays.com/2024/06/09/66656a39269cb.gif" style='height:300px;display:inline-block;vertical-align:top' /></center><p>è¯´æ˜ï¼šä»¥ä¸Šå››å¼ åŠ¨å›¾åŸåˆ›ä½œè€…ï¼š<code>å¤§å¸…è€çŒ¿</code></p><h4 id="setup-æ¦‚è¿°">setup æ¦‚è¿°</h4><p><code>setup</code>æ˜¯<code>Vue3</code>ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ <code>Composition API</code> <strong>â€œè¡¨æ¼”çš„èˆå°</strong><em><strong>â€</strong></em>ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†â€¦ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨<code>setup</code>ä¸­ã€‚</p><p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><code>setup</code>å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li><li><code>setup</code>ä¸­è®¿é—®<code>this</code>æ˜¯<code>undefined</code>ã€‚</li><li><code>setup</code>å‡½æ•°ä¼šåœ¨<code>beforeCreate</code>ä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯â€œé¢†å…ˆâ€æ‰€æœ‰é’©å­æ‰§è¡Œçš„ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;Person&#x27;,</span><br><span class="line">    setup()&#123;</span><br><span class="line">      // æ•°æ®ï¼ŒåŸæ¥å†™åœ¨dataä¸­ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€telæ•°æ®éƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰</span><br><span class="line">      let name = &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">      let age = 18</span><br><span class="line">      let tel = &#x27;13888888888&#x27;</span><br><span class="line"></span><br><span class="line">      // æ–¹æ³•ï¼ŒåŸæ¥å†™åœ¨methodsä¸­</span><br><span class="line">      function changeName()&#123;</span><br><span class="line">        name = &#x27;zhang-san&#x27; //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">        console.log(name)</span><br><span class="line">      &#125;</span><br><span class="line">      function changeAge()&#123;</span><br><span class="line">        age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">        console.log(age)</span><br><span class="line">      &#125;</span><br><span class="line">      function showTel()&#123;</span><br><span class="line">        alert(tel)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹ï¼Œæ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨</span><br><span class="line">      return &#123;name,age,tel,changeName,changeAge,showTel&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="setup-çš„è¿”å›å€¼">setup çš„è¿”å›å€¼</h4><ul><li>è‹¥è¿”å›ä¸€ä¸ª<strong>å¯¹è±¡</strong>ï¼šåˆ™å¯¹è±¡ä¸­çš„ï¼šå±æ€§ã€æ–¹æ³•ç­‰ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨**ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰ã€‚**</li><li>è‹¥è¿”å›ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ï¼Œä»£ç å¦‚ä¸‹ï¼š</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">()=&gt;</span> <span class="string">&#x27;ä½ å¥½å•Šï¼&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="setup-ä¸-Options-API-çš„å…³ç³»">setup ä¸ Options API çš„å…³ç³»</h4><ul><li><code>Vue2</code> çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>â€¦ï¼‰ä¸­<strong>å¯ä»¥è®¿é—®åˆ°</strong> <code>setup</code>ä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</li><li>ä½†åœ¨<code>setup</code>ä¸­<strong>ä¸èƒ½è®¿é—®åˆ°</strong><code>Vue2</code>çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>â€¦ï¼‰ã€‚</li><li>å¦‚æœä¸<code>Vue2</code>å†²çªï¼Œåˆ™<code>setup</code>ä¼˜å…ˆã€‚</li></ul><h4 id="setup-è¯­æ³•ç³–">setup è¯­æ³•ç³–</h4><p><code>setup</code>å‡½æ•°æœ‰ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠ<code>setup</code>ç‹¬ç«‹å‡ºå»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;Person&#x27;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  console.log(this) //undefined</span><br><span class="line">  </span><br><span class="line">  // æ•°æ®ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€teléƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰</span><br><span class="line">  let name = &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">  let age = 18</span><br><span class="line">  let tel = &#x27;13888888888&#x27;</span><br><span class="line"></span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changName()&#123;</span><br><span class="line">    name = &#x27;æå››&#x27;//æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">  &#125;</span><br><span class="line">  function changAge()&#123;</span><br><span class="line">    console.log(age)</span><br><span class="line">    age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">  &#125;</span><br><span class="line">  function showTel()&#123;</span><br><span class="line">    alert(tel)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>æ‰©å±•ï¼šä¸Šè¿°ä»£ç ï¼Œè¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªä¸å†™<code>setup</code>çš„<code>script</code>æ ‡ç­¾ï¼Œå»æŒ‡å®šç»„ä»¶åå­—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>vite</code>ä¸­çš„æ’ä»¶ç®€åŒ–</p><ol><li><p>ç¬¬ä¸€æ­¥ï¼š<code>npm i vite-plugin-vue-setup-extend -D</code></p></li><li><p>ç¬¬äºŒæ­¥ï¼š<code>vite.config.ts</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueSetupExtend</span> <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-vue-setup-extend&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [ <span class="title class_">VueSetupExtend</span>() ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸‰æ­¥ï¼š<code>&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</code></p></li></ol><h3 id="3-3-ref-åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®">3.3. ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®</h3><ul><li><p>**ä½œç”¨ï¼š**å®šä¹‰å“åº”å¼å˜é‡ã€‚</p></li><li><p><strong>è¯­æ³•ï¼š</strong><code>let xxx = ref(åˆå§‹å€¼)</code>ã€‚</p></li><li><p>**è¿”å›å€¼ï¼š**ä¸€ä¸ª<code>RefImpl</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°<code>refå¯¹è±¡</code>æˆ–<code>ref</code>ï¼Œ<code>ref</code>å¯¹è±¡çš„<code>value</code><strong>å±æ€§æ˜¯å“åº”å¼çš„</strong>ã€‚</p></li><li><p><strong>æ³¨æ„ç‚¹ï¼š</strong></p><ul><li><code>JS</code>ä¸­æ“ä½œæ•°æ®éœ€è¦ï¼š<code>xxx.value</code>ï¼Œä½†æ¨¡æ¿ä¸­ä¸éœ€è¦<code>.value</code>ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</li><li>å¯¹äº<code>let name = ref('å¼ ä¸‰')</code>æ¥è¯´ï¼Œ<code>name</code>ä¸æ˜¯å“åº”å¼çš„ï¼Œ<code>name.value</code>æ˜¯å“åº”å¼çš„ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">  // nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼Œå®ƒä»¬çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚</span><br><span class="line">  let name = ref(&#x27;å¼ ä¸‰&#x27;)</span><br><span class="line">  let age = ref(18)</span><br><span class="line">  // telå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å“åº”å¼çš„</span><br><span class="line">  let tel = &#x27;13888888888&#x27;</span><br><span class="line"></span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value</span><br><span class="line">    name.value = &#x27;æå››&#x27;</span><br><span class="line">    console.log(name.value)</span><br><span class="line"></span><br><span class="line">    // æ³¨æ„ï¼šnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å¹¶ä¸ä¼šå¼•èµ·é¡µé¢çš„æ›´æ–°ã€‚</span><br><span class="line">    // name = ref(&#x27;zhang-san&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value</span><br><span class="line">    age.value += 1 </span><br><span class="line">    console.log(age.value)</span><br><span class="line">  &#125;</span><br><span class="line">  function showTel()&#123;</span><br><span class="line">    alert(tel)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-4-reactive-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®">3.4. reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®</h3><ul><li><strong>ä½œç”¨ï¼š<strong>å®šä¹‰ä¸€ä¸ª</strong>å“åº”å¼å¯¹è±¡</strong>ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</li><li><strong>è¯­æ³•ï¼š</strong><code>let å“åº”å¼å¯¹è±¡= reactive(æºå¯¹è±¡)</code>ã€‚</li><li>**è¿”å›å€¼ï¼š**ä¸€ä¸ª<code>Proxy</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡ã€‚</li><li><strong>æ³¨æ„ç‚¹ï¼š</strong><code>reactive</code>å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡â€çš„ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// æ•°æ®</span><br><span class="line">let car = reactive(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100 &#125;)</span><br><span class="line">let games = reactive([</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa01&#x27;, name: &#x27;è‹±é›„è”ç›Ÿ&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa02&#x27;, name: &#x27;ç‹è€…è£è€€&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa03&#x27;, name: &#x27;åŸç¥&#x27; &#125;</span><br><span class="line">])</span><br><span class="line">let obj = reactive(&#123;</span><br><span class="line">  a:&#123;</span><br><span class="line">    b:&#123;</span><br><span class="line">      c:&#123;</span><br><span class="line">        d:666</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function changeCarPrice() &#123;</span><br><span class="line">  car.price += 10</span><br><span class="line">&#125;</span><br><span class="line">function changeFirstGame() &#123;</span><br><span class="line">  games[0].name = &#x27;æµæ˜Ÿè´è¶å‰‘&#x27;</span><br><span class="line">&#125;</span><br><span class="line">function test()&#123;</span><br><span class="line">  obj.a.b.c.d = 999</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-5-ref-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®">3.5.ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®</h3><ul><li>å…¶å®<code>ref</code>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼š<strong>åŸºæœ¬ç±»å‹</strong>ã€<strong>å¯¹è±¡ç±»å‹</strong>ã€‚</li><li>è‹¥<code>ref</code>æ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº†<code>reactive</code>å‡½æ•°ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// æ•°æ®</span><br><span class="line">let car = ref(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100 &#125;)</span><br><span class="line">let games = ref([</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa01&#x27;, name: &#x27;è‹±é›„è”ç›Ÿ&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa02&#x27;, name: &#x27;ç‹è€…è£è€€&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa03&#x27;, name: &#x27;åŸç¥&#x27; &#125;</span><br><span class="line">])</span><br><span class="line">let obj = ref(&#123;</span><br><span class="line">  a:&#123;</span><br><span class="line">    b:&#123;</span><br><span class="line">      c:&#123;</span><br><span class="line">        d:666</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(car)</span><br><span class="line"></span><br><span class="line">function changeCarPrice() &#123;</span><br><span class="line">  car.value.price += 10</span><br><span class="line">&#125;</span><br><span class="line">function changeFirstGame() &#123;</span><br><span class="line">  games.value[0].name = &#x27;æµæ˜Ÿè´è¶å‰‘&#x27;</span><br><span class="line">&#125;</span><br><span class="line">function test()&#123;</span><br><span class="line">  obj.value.a.b.c.d = 999</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-6-ref-å¯¹æ¯”-reactive">3.6. ref å¯¹æ¯” reactive</h3><p>å®è§‚è§’åº¦çœ‹ï¼š</p><blockquote><ol><li><p><code>ref</code>ç”¨æ¥å®šä¹‰ï¼š<strong>åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ï¼›</p></li><li><p><code>reactive</code>ç”¨æ¥å®šä¹‰ï¼š<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ã€‚</p></li></ol></blockquote><ul><li>åŒºåˆ«ï¼š</li></ul><blockquote><ol><li><p><code>ref</code>åˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨<code>.value</code>ï¼ˆå¯ä»¥ä½¿ç”¨<code>volar</code>æ’ä»¶è‡ªåŠ¨æ·»åŠ <code>.value</code>ï¼‰ã€‚</p><p><img src="https://bu.dusays.com/2024/06/09/66656e9e6eb15.png" alt=""></p></li><li><p><code>reactive</code>é‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼š<strong>å¤±å»</strong>å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨<code>Object.assign</code>å»æ•´ä½“æ›¿æ¢ï¼‰ã€‚</p></li></ol></blockquote><ul><li>ä½¿ç”¨åŸåˆ™ï¼š</li></ul><blockquote><ol><li>è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨<code>ref</code>ã€‚</li><li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œ<code>ref</code>ã€<code>reactive</code>éƒ½å¯ä»¥ã€‚</li><li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨<code>reactive</code>ã€‚</li></ol></blockquote><h3 id="3-7-toRefs-ä¸-toRef">3.7. toRefs ä¸ toRef</h3><ul><li><p>ä½œç”¨ï¼šå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸º<code>ref</code>å¯¹è±¡ã€‚</p></li><li><p>å¤‡æ³¨ï¼š<code>toRefs</code>ä¸<code>toRef</code>åŠŸèƒ½ä¸€è‡´ï¼Œä½†<code>toRefs</code>å¯ä»¥æ‰¹é‡è½¬æ¢ã€‚</p></li><li><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ€§åˆ«ï¼š&#123;&#123;person.gender&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeGender&quot;&gt;ä¿®æ”¹æ€§åˆ«&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,reactive,toRefs,toRef&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;name:&#x27;å¼ ä¸‰&#x27;, age:18, gender:&#x27;ç”·&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">  // é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›</span><br><span class="line">  let &#123;name,gender&#125; =  toRefs(person)</span><br><span class="line"></span><br><span class="line">  // é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„genderå±æ€§å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›</span><br><span class="line">  let age = toRef(person,&#x27;age&#x27;)</span><br><span class="line"></span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    name.value += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    age.value += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changeGender()&#123;</span><br><span class="line">    gender.value = &#x27;å¥³&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-8-computed">3.8. computed</h3></li></ul><p>â€‹ä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>computed</code>ä½œç”¨ä¸€è‡´ï¼‰ã€‚</p><p><img src="https://bu.dusays.com/2024/06/09/666570ea073a7.gif" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    å§“ï¼š&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br&gt;</span><br><span class="line">    åï¼š&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br&gt;</span><br><span class="line">    å…¨åï¼š&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;changeFullName&quot;&gt;å…¨åæ”¹ä¸ºï¼šli-si&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;</span><br><span class="line">  import &#123;ref,computed&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  let firstName = ref(&#x27;zhang&#x27;)</span><br><span class="line">  let lastName = ref(&#x27;san&#x27;)</span><br><span class="line"></span><br><span class="line">  // è®¡ç®—å±æ€§â€”â€”åªè¯»å–ï¼Œä¸ä¿®æ”¹</span><br><span class="line">  /* let fullName = computed(()=&gt;&#123;</span><br><span class="line">    return firstName.value + &#x27;-&#x27; + lastName.value</span><br><span class="line">  &#125;) */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  // è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹</span><br><span class="line">  let fullName = computed(&#123;</span><br><span class="line">    // è¯»å–</span><br><span class="line">    get()&#123;</span><br><span class="line">      return firstName.value + &#x27;-&#x27; + lastName.value</span><br><span class="line">    &#125;,</span><br><span class="line">    // ä¿®æ”¹</span><br><span class="line">    set(val)&#123;</span><br><span class="line">      console.log(&#x27;æœ‰äººä¿®æ”¹äº†fullName&#x27;,val)</span><br><span class="line">      firstName.value = val.split(&#x27;-&#x27;)[0]</span><br><span class="line">      lastName.value = val.split(&#x27;-&#x27;)[1]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  function changeFullName()&#123;</span><br><span class="line">    fullName.value = &#x27;li-si&#x27;</span><br><span class="line">  &#125; </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-9-watch">3.9.watch</h3><ul><li>ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>watch</code>ä½œç”¨ä¸€è‡´ï¼‰</li><li>ç‰¹ç‚¹ï¼š<code>Vue3</code>ä¸­çš„<code>watch</code>åªèƒ½ç›‘è§†ä»¥ä¸‹<strong>å››ç§æ•°æ®</strong>ï¼š</li></ul><blockquote><ol><li><code>ref</code>å®šä¹‰çš„æ•°æ®ã€‚</li><li><code>reactive</code>å®šä¹‰çš„æ•°æ®ã€‚</li><li>å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆ<code>getter</code>å‡½æ•°ï¼‰ã€‚</li><li>ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„ã€‚</li></ol></blockquote><p>æˆ‘ä»¬åœ¨<code>Vue3</code>ä¸­ä½¿ç”¨<code>watch</code>çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><h4 id="æƒ…å†µä¸€">* æƒ…å†µä¸€</h4><p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åå³å¯ï¼Œç›‘è§†çš„æ˜¯å…¶<code>value</code>å€¼çš„æ”¹å˜ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeSum&quot;&gt;ç‚¹æˆ‘sum+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,watch&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let sum = ref(0)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeSum()&#123;</span><br><span class="line">    sum.value += 1</span><br><span class="line">  &#125;</span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®</span><br><span class="line">  const stopWatch = watch(sum,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;sumå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">    if(newValue &gt;= 10)&#123;</span><br><span class="line">      stopWatch()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="æƒ…å†µäºŒ">* æƒ…å†µäºŒ</h4><ul><li><p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„ã€åœ°å€å€¼ã€‘ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œè¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p><blockquote><p>æ³¨æ„ï¼š</p><ul><li><p>è‹¥ä¿®æ”¹çš„æ˜¯<code>ref</code>å®šä¹‰çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼Œ<code>newValue</code> å’Œ <code>oldValue</code> éƒ½æ˜¯æ–°å€¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p></li><li><p>è‹¥ä¿®æ”¹æ•´ä¸ª<code>ref</code>å®šä¹‰çš„å¯¹è±¡ï¼Œ<code>newValue</code> æ˜¯æ–°å€¼ï¼Œ <code>oldValue</code> æ˜¯æ—§å€¼ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚</p></li></ul></blockquote></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µäºŒï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changePerson&quot;&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,watch&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = ref(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.value.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.value.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changePerson()&#123;</span><br><span class="line">    person.value = &#123;name:&#x27;æå››&#x27;,age:90&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  /* </span><br><span class="line">    ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†</span><br><span class="line">    watchçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè¢«ç›‘è§†çš„æ•°æ®</span><br><span class="line">    watchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šç›‘è§†çš„å›è°ƒ</span><br><span class="line">    watchçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ï¼šé…ç½®å¯¹è±¡ï¼ˆdeepã€immediateç­‰ç­‰.....ï¼‰ </span><br><span class="line">  */</span><br><span class="line">  watch(person,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;personå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line">  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="æƒ…å†µä¸‰">*  æƒ…å†µä¸‰</h4><p>ç›‘è§†<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changePerson&quot;&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;test&quot;&gt;ä¿®æ”¹obj.a.b.c&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;reactive,watch&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18</span><br><span class="line">  &#125;)</span><br><span class="line">  let obj = reactive(&#123;</span><br><span class="line">    a:&#123;</span><br><span class="line">      b:&#123;</span><br><span class="line">        c:666</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changePerson()&#123;</span><br><span class="line">    Object.assign(person,&#123;name:&#x27;æå››&#x27;,age:80&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  function test()&#123;</span><br><span class="line">    obj.a.b.c = 888</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤æ˜¯å¼€å¯æ·±åº¦ç›‘è§†çš„</span><br><span class="line">  watch(person,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;personå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;)</span><br><span class="line">  watch(obj,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;Objå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="æƒ…å†µå››">* æƒ…å†µå››</h4><p>ç›‘è§†<code>ref</code>æˆ–<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„<strong>æŸä¸ªå±æ€§</strong>ï¼Œæ³¨æ„ç‚¹å¦‚ä¸‹ï¼š</p><ol><li>è‹¥è¯¥å±æ€§å€¼<strong>ä¸æ˜¯</strong>ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œéœ€è¦å†™æˆå‡½æ•°å½¢å¼ã€‚</li><li>è‹¥è¯¥å±æ€§å€¼æ˜¯<strong>ä¾ç„¶</strong>æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œå¯ç›´æ¥ç¼–ï¼Œä¹Ÿå¯å†™æˆå‡½æ•°ï¼Œå»ºè®®å†™æˆå‡½æ•°ã€‚</li></ol><p>ç»“è®ºï¼šç›‘è§†çš„è¦æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œé‚£ä¹ˆæœ€å¥½å†™å‡½æ•°å¼ï¼Œæ³¨æ„ç‚¹ï¼šè‹¥æ˜¯å¯¹è±¡ç›‘è§†çš„æ˜¯åœ°å€å€¼ï¼Œéœ€è¦å…³æ³¨å¯¹è±¡å†…éƒ¨ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µå››ï¼šç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC1&quot;&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC2&quot;&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCar&quot;&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;reactive,watch&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18,</span><br><span class="line">    car:&#123;</span><br><span class="line">      c1:&#x27;å¥”é©°&#x27;,</span><br><span class="line">      c2:&#x27;å®é©¬&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC1()&#123;</span><br><span class="line">    person.car.c1 = &#x27;å¥¥è¿ª&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC2()&#123;</span><br><span class="line">    person.car.c2 = &#x27;å¤§ä¼—&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeCar()&#123;</span><br><span class="line">    person.car = &#123;c1:&#x27;é›…è¿ª&#x27;,c2:&#x27;çˆ±ç›&#x27;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯åŸºæœ¬ç±»å‹çš„ï¼Œè¦å†™æˆå‡½æ•°å¼</span><br><span class="line">  /* watch(()=&gt; person.name,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;person.nameå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;) */</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥ç›´æ¥å†™ï¼Œä¹Ÿèƒ½å†™å‡½æ•°ï¼Œæ›´æ¨èå†™å‡½æ•°</span><br><span class="line">  watch(()=&gt;person.car,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;person.carå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="æƒ…å†µäº”">*æƒ…å†µäº”</h4><p>ç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC1&quot;&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC2&quot;&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCar&quot;&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;reactive,watch&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18,</span><br><span class="line">    car:&#123;</span><br><span class="line">      c1:&#x27;å¥”é©°&#x27;,</span><br><span class="line">      c2:&#x27;å®é©¬&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC1()&#123;</span><br><span class="line">    person.car.c1 = &#x27;å¥¥è¿ª&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC2()&#123;</span><br><span class="line">    person.car.c2 = &#x27;å¤§ä¼—&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeCar()&#123;</span><br><span class="line">    person.car = &#123;c1:&#x27;é›…è¿ª&#x27;,c2:&#x27;çˆ±ç›&#x27;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</span><br><span class="line">  watch([()=&gt;person.name,person.car],(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;person.carå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-10-ã€watchEffectã€‘">3.10. ã€watchEffectã€‘</h3><ul><li><p>å®˜ç½‘ï¼šç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p></li><li><p><code>watch</code>å¯¹æ¯”<code>watchEffect</code></p><blockquote><ol><li><p>éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ</p></li><li><p><code>watch</code>ï¼šè¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®</p></li><li><p><code>watchEffect</code>ï¼šä¸ç”¨æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªäº›å±æ€§ï¼‰ã€‚</p></li></ol></blockquote></li><li><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;éœ€æ±‚ï¼šæ°´æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œåˆ™è”ç³»æœåŠ¡å™¨&lt;/h1&gt;</span><br><span class="line">    &lt;h2 id=&quot;demo&quot;&gt;æ°´æ¸©ï¼š&#123;&#123;temp&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ°´ä½ï¼š&#123;&#123;height&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changePrice&quot;&gt;æ°´æ¸©+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeSum&quot;&gt;æ°´ä½+10&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,watch,watchEffect&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let temp = ref(0)</span><br><span class="line">  let height = ref(0)</span><br><span class="line"></span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changePrice()&#123;</span><br><span class="line">    temp.value += 10</span><br><span class="line">  &#125;</span><br><span class="line">  function changeSum()&#123;</span><br><span class="line">    height.value += 1</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç”¨watchå®ç°ï¼Œéœ€è¦æ˜ç¡®çš„æŒ‡å‡ºè¦ç›‘è§†ï¼štempã€height</span><br><span class="line">  watch([temp,height],(value)=&gt;&#123;</span><br><span class="line">    // ä»valueä¸­è·å–æœ€æ–°çš„tempå€¼ã€heightå€¼</span><br><span class="line">    const [newTemp,newHeight] = value</span><br><span class="line">    // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨</span><br><span class="line">    if(newTemp &gt;= 50 || newHeight &gt;= 20)&#123;</span><br><span class="line">      console.log(&#x27;è”ç³»æœåŠ¡å™¨&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  // ç”¨watchEffectå®ç°ï¼Œä¸ç”¨</span><br><span class="line">  const stopWtach = watchEffect(()=&gt;&#123;</span><br><span class="line">    // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨</span><br><span class="line">    if(temp.value &gt;= 50 || height.value &gt;= 20)&#123;</span><br><span class="line">      console.log(document.getElementById(&#x27;demo&#x27;)?.innerText)</span><br><span class="line">      console.log(&#x27;è”ç³»æœåŠ¡å™¨&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    // æ°´æ¸©è¾¾åˆ°100ï¼Œæˆ–æ°´ä½è¾¾åˆ°50ï¼Œå–æ¶ˆç›‘è§†</span><br><span class="line">    if(temp.value === 100 || height.value === 50)&#123;</span><br><span class="line">      console.log(&#x27;æ¸…ç†äº†&#x27;)</span><br><span class="line">      stopWtach()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-11-ã€æ ‡ç­¾çš„-ref-å±æ€§ã€‘">3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘</h3><p>ä½œç”¨ï¼šç”¨äºæ³¨å†Œæ¨¡æ¿å¼•ç”¨ã€‚</p><blockquote><ul><li><p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯<code>DOM</code>èŠ‚ç‚¹ã€‚</p></li><li><p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p></li></ul></blockquote><p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1 ref=&quot;title1&quot;&gt;å°šç¡…è°·&lt;/h1&gt;</span><br><span class="line">    &lt;h2 ref=&quot;title2&quot;&gt;å‰ç«¯&lt;/h2&gt;</span><br><span class="line">    &lt;h3 ref=&quot;title3&quot;&gt;Vue&lt;/h3&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; ref=&quot;inpt&quot;&gt; &lt;br&gt;&lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;showLog&quot;&gt;ç‚¹æˆ‘æ‰“å°å†…å®¹&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  let title1 = ref()</span><br><span class="line">  let title2 = ref()</span><br><span class="line">  let title3 = ref()</span><br><span class="line"></span><br><span class="line">  function showLog()&#123;</span><br><span class="line">    // é€šè¿‡idè·å–å…ƒç´ </span><br><span class="line">    const t1 = document.getElementById(&#x27;title1&#x27;)</span><br><span class="line">    // æ‰“å°å†…å®¹</span><br><span class="line">    console.log((t1 as HTMLElement).innerText)</span><br><span class="line">    console.log((&lt;HTMLElement&gt;t1).innerText)</span><br><span class="line">    console.log(t1?.innerText)</span><br><span class="line">    </span><br><span class="line">/************************************/</span><br><span class="line"></span><br><span class="line">    // é€šè¿‡refè·å–å…ƒç´ </span><br><span class="line">    console.log(title1.value)</span><br><span class="line">    console.log(title2.value)</span><br><span class="line">    console.log(title3.value)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶App.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Person ref=&quot;ren&quot;/&gt;</span><br><span class="line">  &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br><span class="line">  import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">  import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  let ren = ref()</span><br><span class="line"></span><br><span class="line">  function test()&#123;</span><br><span class="line">    console.log(ren.value.name)</span><br><span class="line">    console.log(ren.value.age)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- å­ç»„ä»¶Person.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ --&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,defineExpose&#125; from &#x27;vue&#x27;</span><br><span class="line">// æ•°æ®</span><br><span class="line">  let name = ref(&#x27;å¼ ä¸‰&#x27;)</span><br><span class="line">  let age = ref(18)</span><br><span class="line">  /****************************/</span><br><span class="line">  /****************************/</span><br><span class="line">  // ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨</span><br><span class="line">  defineExpose(&#123;name,age&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-12-ã€propsã€‘">3.12. ã€propsã€‘</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œé™åˆ¶æ¯ä¸ªPersonå¯¹è±¡çš„æ ¼å¼</span></span><br><span class="line"><span class="keyword">export</span> interface <span class="title class_">PersonInter</span> &#123;</span><br><span class="line"><span class="attr">id</span>:string,</span><br><span class="line"><span class="attr">name</span>:string,</span><br><span class="line"> <span class="attr">age</span>:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Persons</span></span><br><span class="line"><span class="keyword">export</span> type <span class="title class_">Persons</span> = <span class="title class_">Array</span>&lt;<span class="title class_">PersonInter</span>&gt;</span><br></pre></td></tr></table></figure><p><code>App.vue</code>ä¸­ä»£ç ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">:list</span>=<span class="string">&quot;persons&quot;</span>/&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span> <span class="attr">name</span>=<span class="string">&quot;App&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Person</span> <span class="keyword">from</span> <span class="string">&#x27;./components/Person.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> <span class="keyword">import</span> &#123;type <span class="title class_">Persons</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;./types&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> <span class="keyword">let</span> persons = reactive&lt;<span class="title class_">Persons</span>&gt;([</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#123;<span class="attr">id</span>:<span class="string">&#x27;e98219e12&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#123;<span class="attr">id</span>:<span class="string">&#x27;e98219e13&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;æå››&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#123;<span class="attr">id</span>:<span class="string">&#x27;e98219e14&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  ])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><code>Person.vue</code>ä¸­ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;person&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">     &#123;&#123;item.name&#125;&#125;--&#123;&#123;item.age&#125;&#125;</span><br><span class="line">   &lt;/li&gt;</span><br><span class="line"> &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">import &#123;defineProps&#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;type PersonInter&#125; from &#x27;@/types&#x27;</span><br><span class="line"></span><br><span class="line">// ç¬¬ä¸€ç§å†™æ³•ï¼šä»…æ¥æ”¶</span><br><span class="line">// const props = defineProps([&#x27;list&#x27;])</span><br><span class="line"></span><br><span class="line">// ç¬¬äºŒç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹</span><br><span class="line">// defineProps&lt;&#123;list:Persons&#125;&gt;()</span><br><span class="line"></span><br><span class="line">// ç¬¬ä¸‰ç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹+æŒ‡å®šé»˜è®¤å€¼+é™åˆ¶å¿…è¦æ€§</span><br><span class="line">let props = withDefaults(defineProps&lt;&#123;list?:Persons&#125;&gt;(),&#123;</span><br><span class="line">  list:()=&gt;[&#123;id:&#x27;asdasg01&#x27;,name:&#x27;å°çŒªä½©å¥‡&#x27;,age:18&#125;]</span><br><span class="line">&#125;)</span><br><span class="line">console.log(props)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-13-ã€ç”Ÿå‘½å‘¨æœŸã€‘">3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘</h3><ul><li><p>æ¦‚å¿µï¼š<code>Vue</code>ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­<code>Vue</code>ä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼Œè°ƒç”¨ç‰¹å®šçš„å‡½æ•°ï¼Œä»è€Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œè¿™äº›ç‰¹å®šçš„å‡½æ•°ç»Ÿç§°ä¸ºï¼šç”Ÿå‘½å‘¨æœŸé’©å­</p></li><li><p>è§„å¾‹ï¼š</p><blockquote><p>ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š<strong>åˆ›å»ºã€æŒ‚è½½ã€æ›´æ–°ã€é”€æ¯</strong>ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€åã€‚</p></blockquote></li><li><p><code>Vue2</code>çš„ç”Ÿå‘½å‘¨æœŸ</p><blockquote><p>åˆ›å»ºé˜¶æ®µï¼š<code>beforeCreate</code>ã€<code>created</code></p><p>æŒ‚è½½é˜¶æ®µï¼š<code>beforeMount</code>ã€<code>mounted</code></p><p>æ›´æ–°é˜¶æ®µï¼š<code>beforeUpdate</code>ã€<code>updated</code></p><p>é”€æ¯é˜¶æ®µï¼š<code>beforeDestroy</code>ã€<code>destroyed</code></p></blockquote></li><li><p><code>Vue3</code>çš„ç”Ÿå‘½å‘¨æœŸ</p><blockquote><p>åˆ›å»ºé˜¶æ®µï¼š<code>setup</code></p><p>æŒ‚è½½é˜¶æ®µï¼š<code>onBeforeMount</code>ã€<code>onMounted</code></p><p>æ›´æ–°é˜¶æ®µï¼š<code>onBeforeUpdate</code>ã€<code>onUpdated</code></p><p>å¸è½½é˜¶æ®µï¼š<code>onBeforeUnmount</code>ã€<code>onUnmounted</code></p></blockquote></li><li><p>å¸¸ç”¨çš„é’©å­ï¼š<code>onMounted</code>(æŒ‚è½½å®Œæ¯•)ã€<code>onUpdated</code>(æ›´æ–°å®Œæ¯•)ã€<code>onBeforeUnmount</code>(å¸è½½ä¹‹å‰)</p></li><li><p>ç¤ºä¾‹ä»£ç ï¼š</p></li></ul><p>â€‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeSum&quot;&gt;ç‚¹æˆ‘sum+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- vue3å†™æ³• --&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123; </span><br><span class="line">    ref, </span><br><span class="line">    onBeforeMount, </span><br><span class="line">    onMounted, </span><br><span class="line">    onBeforeUpdate, </span><br><span class="line">    onUpdated, </span><br><span class="line">    onBeforeUnmount, </span><br><span class="line">    onUnmounted </span><br><span class="line">  &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let sum = ref(0)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeSum() &#123;</span><br><span class="line">    sum.value += 1</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(&#x27;setup&#x27;)</span><br><span class="line">  // ç”Ÿå‘½å‘¨æœŸé’©å­</span><br><span class="line">  onBeforeMount(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æŒ‚è½½ä¹‹å‰&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onMounted(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æŒ‚è½½å®Œæ¯•&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onBeforeUpdate(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æ›´æ–°ä¹‹å‰&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onUpdated(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æ›´æ–°å®Œæ¯•&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onBeforeUnmount(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;å¸è½½ä¹‹å‰&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onUnmounted(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;å¸è½½å®Œæ¯•&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-14-ã€è‡ªå®šä¹‰hookã€‘">3.14. ã€è‡ªå®šä¹‰hookã€‘</h3><ul><li><p>ä»€ä¹ˆæ˜¯<code>hook</code>ï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ<code>setup</code>å‡½æ•°ä¸­ä½¿ç”¨çš„<code>Composition API</code>è¿›è¡Œäº†å°è£…ï¼Œç±»ä¼¼äº<code>vue2.x</code>ä¸­çš„<code>mixin</code>ã€‚</p></li><li><p>è‡ªå®šä¹‰<code>hook</code>çš„ä¼˜åŠ¿ï¼šå¤ç”¨ä»£ç , è®©<code>setup</code>ä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</p></li></ul><p>ç¤ºä¾‹ä»£ç ï¼š</p><ul><li><p><code>useSum.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    sum.<span class="property">value</span> += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">decrement</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    sum.<span class="property">value</span> -= <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">increment</span>()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> &#123;sum,increment,decrement&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>useDog.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios,&#123;<span class="title class_">AxiosError</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> dogList = reactive&lt;string[]&gt;([])</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getDog</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// å‘è¯·æ±‚</span></span><br><span class="line">      <span class="keyword">let</span> &#123;data&#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;https://dog.ceo/api/breed/pembroke/images/random&#x27;</span>)</span><br><span class="line">      <span class="comment">// ç»´æŠ¤æ•°æ®</span></span><br><span class="line">      dogList.<span class="title function_">push</span>(data.<span class="property">message</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="comment">// å¤„ç†é”™è¯¯</span></span><br><span class="line">      <span class="keyword">const</span> err = &lt;<span class="title class_">AxiosError</span>&gt;error</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æŒ‚è½½é’©å­</span></span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">getDog</span>()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> &#123;dogList,getDog&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­å…·ä½“ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;increment&quot;&gt;ç‚¹æˆ‘+1&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;decrement&quot;&gt;ç‚¹æˆ‘-1&lt;/button&gt;</span><br><span class="line">  &lt;hr&gt;</span><br><span class="line">  &lt;img v-for=&quot;(u,index) in dogList.urlList&quot; :key=&quot;index&quot; :src=&quot;(u as string)&quot;&gt; </span><br><span class="line">  &lt;span v-show=&quot;dogList.isLoading&quot;&gt;åŠ è½½ä¸­......&lt;/span&gt;&lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;getDog&quot;&gt;å†æ¥ä¸€åªç‹—&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  import &#123;defineComponent&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  export default defineComponent(&#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  import useSum from &#x27;./hooks/useSum&#x27;</span><br><span class="line">  import useDog from &#x27;./hooks/useDog&#x27;</span><br><span class="line"></span><br><span class="line">  let &#123;sum,increment,decrement&#125; = useSum()</span><br><span class="line">  let &#123;dogList,getDog&#125; = useDog()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="4-è·¯ç”±">4.è·¯ç”±</h2><h3 id="4-1-ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘">4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘</h3><p><img src="https://bu.dusays.com/2024/06/09/666579cf2b7f1.png" alt=""></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter,createWebHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;@/pages/Home.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">News</span> <span class="keyword">from</span> <span class="string">&#x27;@/pages/News.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;@/pages/About.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="attr">history</span>:<span class="title function_">createWebHistory</span>(),</span><br><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><ul><li><p><code>main.ts</code>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p><code>App.vue</code>ä»£ç å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2 class=&quot;title&quot;&gt;Vueè·¯ç”±æµ‹è¯•&lt;/h2&gt;</span><br><span class="line">    &lt;!-- å¯¼èˆªåŒº --&gt;</span><br><span class="line">    &lt;div class=&quot;navigate&quot;&gt;</span><br><span class="line">      &lt;RouterLink to=&quot;/home&quot; active-class=&quot;active&quot;&gt;é¦–é¡µ&lt;/RouterLink&gt;</span><br><span class="line">      &lt;RouterLink to=&quot;/news&quot; active-class=&quot;active&quot;&gt;æ–°é—»&lt;/RouterLink&gt;</span><br><span class="line">      &lt;RouterLink to=&quot;/about&quot; active-class=&quot;active&quot;&gt;å…³äº&lt;/RouterLink&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- å±•ç¤ºåŒº --&gt;</span><br><span class="line">    &lt;div class=&quot;main-content&quot;&gt;</span><br><span class="line">      &lt;RouterView&gt;&lt;/RouterView&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br><span class="line">  import &#123;RouterLink,RouterView&#125; from &#x27;vue-router&#x27;  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="4-2-ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘">4.2. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘</h3><blockquote><ol><li><p>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code> æˆ– <code>views</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</p></li><li><p>é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«<strong>å¸è½½</strong>æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»<strong>æŒ‚è½½</strong>ã€‚</p></li></ol></blockquote><h3 id="4-3-ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘">4.3.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘</h3><ol><li><p><code>history</code>æ¨¡å¼</p><blockquote><p>ä¼˜ç‚¹ï¼š<code>URL</code>æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰<code>#</code>ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™<code>URL</code>ã€‚</p><p>ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰<code>404</code>é”™è¯¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="attr">history</span>:<span class="title function_">createWebHistory</span>(), <span class="comment">//historyæ¨¡å¼</span></span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></blockquote></li><li><p><code>hash</code>æ¨¡å¼</p><blockquote><p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚</p><p>ç¼ºç‚¹ï¼š<code>URL</code>å¸¦æœ‰<code>#</code>ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨<code>SEO</code>ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="attr">history</span>:<span class="title function_">createWebHashHistory</span>(), <span class="comment">//hashæ¨¡å¼</span></span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></blockquote></li></ol><h3 id="4-4-ã€toçš„ä¸¤ç§å†™æ³•ã€‘">4.4. ã€toçš„ä¸¤ç§å†™æ³•ã€‘</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span><br><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/home&quot;&gt;ä¸»é¡µ&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;router-link active-class=&quot;active&quot; :to=&quot;&#123;path:&#x27;/home&#x27;&#125;&quot;&gt;Home&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="4-5-ã€å‘½åè·¯ç”±ã€‘">4.5. ã€å‘½åè·¯ç”±ã€‘</h3><p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚ï¼ˆåé¢å°±è®²ï¼‰ã€‚</p><p>ç»™è·¯ç”±è§„åˆ™å‘½åï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">routes:[</span><br><span class="line">  &#123;</span><br><span class="line">    name:&#x27;zhuye&#x27;,</span><br><span class="line">    path:&#x27;/home&#x27;,</span><br><span class="line">    component:Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name:&#x27;xinwen&#x27;,</span><br><span class="line">    path:&#x27;/news&#x27;,</span><br><span class="line">    component:News,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name:&#x27;guanyu&#x27;,</span><br><span class="line">    path:&#x27;/about&#x27;,</span><br><span class="line">    component:About</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>è·³è½¬è·¯ç”±ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;router-link to=&quot;/news/detail&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;guanyu&#x27;&#125;&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h3 id="4-6-ã€åµŒå¥—è·¯ç”±ã€‘">4.6. ã€åµŒå¥—è·¯ç”±ã€‘</h3><ol><li><p>ç¼–å†™<code>News</code>çš„å­è·¯ç”±ï¼š<code>Detail.vue</code></p></li><li><p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨<code>children</code>é…ç½®é¡¹ï¼š</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>:<span class="title function_">createWebHistory</span>(),</span><br><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;zhuye&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xinwen&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/news&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">News</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiang&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;guanyu&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>è·³è½¬è·¯ç”±ï¼ˆè®°å¾—è¦åŠ å®Œæ•´è·¯å¾„ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/news/detail&quot;&gt;xxxx&lt;/router-link&gt;</span><br><span class="line">&lt;!-- æˆ– --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;path:&#x27;/news/detail&#x27;&#125;&quot;&gt;xxxx&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>è®°å¾—å»<code>Home</code>ç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª<code>&lt;router-view&gt;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;news&quot;&gt;</span><br><span class="line">    &lt;nav class=&quot;news-list&quot;&gt;</span><br><span class="line">      &lt;RouterLink v-for=&quot;news in newsList&quot; :key=&quot;news.id&quot; :to=&quot;&#123;path:&#x27;/news/detail&#x27;&#125;&quot;&gt;</span><br><span class="line">        &#123;&#123;news.name&#125;&#125;</span><br><span class="line">      &lt;/RouterLink&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line">    &lt;div class=&quot;news-detail&quot;&gt;</span><br><span class="line">      &lt;RouterView/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-7-ã€è·¯ç”±ä¼ å‚ã€‘">4.7. ã€è·¯ç”±ä¼ å‚ã€‘</h3><h4 id="queryå‚æ•°">queryå‚æ•°</h4><ol><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;router-link to=&quot;/news/detail?a=1&amp;b=2&amp;content=æ¬¢è¿ä½ &quot;&gt;</span><br><span class="line">è·³è½¬</span><br><span class="line">&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;RouterLink </span><br><span class="line">  :to=&quot;&#123;</span><br><span class="line">    //name:&#x27;xiang&#x27;, //ç”¨nameä¹Ÿå¯ä»¥è·³è½¬</span><br><span class="line">    path:&#x27;/news/detail&#x27;,</span><br><span class="line">    query:&#123;</span><br><span class="line">      id:news.id,</span><br><span class="line">      title:news.title,</span><br><span class="line">      content:news.content</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &#123;&#123;news.title&#125;&#125;</span><br><span class="line">&lt;/RouterLink&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line"><span class="comment">// æ‰“å°queryå‚æ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">query</span>)</span><br></pre></td></tr></table></figure></li></ol><h4 id="paramså‚æ•°">paramså‚æ•°</h4><ol><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;RouterLink :to=&quot;`/news/detail/001/æ–°é—»001/å†…å®¹001`&quot;&gt;&#123;&#123;news.title&#125;&#125;&lt;/RouterLink&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;RouterLink </span><br><span class="line">  :to=&quot;&#123;</span><br><span class="line">    name:&#x27;xiang&#x27;, //ç”¨nameè·³è½¬</span><br><span class="line">    params:&#123;</span><br><span class="line">      id:news.id,</span><br><span class="line">      title:news.title,</span><br><span class="line">      content:news.title</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &#123;&#123;news.title&#125;&#125;</span><br><span class="line">&lt;/RouterLink&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line"><span class="comment">// æ‰“å°paramså‚æ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">params</span>)</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>å¤‡æ³¨1ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨<code>to</code>çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨<code>name</code>é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨<code>path</code>ã€‚</p><p>å¤‡æ³¨2ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½ã€‚</p></blockquote><h2 id="4-8-ã€è·¯ç”±çš„propsé…ç½®ã€‘">4.8.ã€è·¯ç”±çš„propsé…ç½®ã€‘</h2><p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º<code>props</code>ä¼ ç»™ç»„ä»¶ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiang&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title/:content&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">  <span class="comment">// props:&#123;a:1,b:2,c:3&#125;, </span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">  <span class="comment">// props:true</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">  <span class="title function_">props</span>(<span class="params">route</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> route.<span class="property">query</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-9-ã€-replaceå±æ€§ã€‘">4.9.ã€ replaceå±æ€§ã€‘</h3><ol><li><p>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚</p></li><li><p>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼š</p><ul><li><code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li><li><code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚</li></ul></li><li><p>å¼€å¯<code>replace</code>æ¨¡å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;RouterLink replace .......&gt;News&lt;/RouterLink&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-10-ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘">4.10.ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘</h3><p>è·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š<code>$route</code>å’Œ<code>$router</code>å˜æˆäº†ä¸¤ä¸ª<code>hooks</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute,useRouter&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">query</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">parmas</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(router.<span class="property">push</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(router.<span class="property">replace</span>)</span><br></pre></td></tr></table></figure><h3 id="4-11-ã€é‡å®šå‘ã€‘">4.11.ã€é‡å®šå‘ã€‘</h3><ol><li><p>ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&#x27;/about&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-pinia">5.pinia</h2><h3 id="5-1-å®ç°ä¸€ä¸ªå¦‚ä¸‹çš„æ•ˆæœ">5.1. å®ç°ä¸€ä¸ªå¦‚ä¸‹çš„æ•ˆæœ</h3><p><img src="https://bu.dusays.com/2024/06/09/66659b888bb9e.gif" alt=""></p><h3 id="5-2ã€æ­å»º-pinia-ç¯å¢ƒã€‘">5.2ã€æ­å»º pinia ç¯å¢ƒã€‘</h3><ol><li><p>ç¬¬ä¸€æ­¥ï¼š<code>npm install pinia</code></p></li><li><p>ç¬¬äºŒæ­¥ï¼šæ“ä½œ<code>src/main.ts</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºpinia */</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨æ’ä»¶ */</span>&#123;&#125;</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p>æ­¤æ—¶å¼€å‘è€…å·¥å…·ä¸­å·²ç»æœ‰äº†<code>pinia</code>é€‰é¡¹</p><p><img src="https://bu.dusays.com/2024/06/09/66659c4e9d3aa.png" alt=""></p></li></ol><h3 id="5-3ã€å­˜å‚¨-è¯»å–æ•°æ®ã€‘">5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘</h3><ol><li><p><code>Store</code>æ˜¯ä¸€ä¸ªä¿å­˜ï¼š<strong>çŠ¶æ€</strong>ã€<strong>ä¸šåŠ¡é€»è¾‘</strong> çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥<strong>è¯»å–</strong>ã€<strong>å†™å…¥</strong>å®ƒã€‚</p></li><li><p>å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š<code>state</code>ã€<code>getter</code>ã€<code>action</code>ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code>ã€‚</p></li><li><p>å…·ä½“ç¼–ç ï¼š<code>src/store/count.ts</code></p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCountStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;count&#x27;</span>,&#123;</span><br><span class="line">  <span class="comment">// åŠ¨ä½œ</span></span><br><span class="line">  <span class="attr">actions</span>:&#123;&#125;,</span><br><span class="line">  <span class="comment">// çŠ¶æ€</span></span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">sum</span>:<span class="number">6</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="attr">getters</span>:&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å…·ä½“ç¼–ç ï¼š<code>src/store/talk.ts</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTalkStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;talk&#x27;</span>,&#123;</span><br><span class="line">  <span class="comment">// åŠ¨ä½œ</span></span><br><span class="line">  <span class="attr">actions</span>:&#123;&#125;,</span><br><span class="line">  <span class="comment">// çŠ¶æ€</span></span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">talkList</span>:[</span><br><span class="line">        &#123;<span class="attr">id</span>:<span class="string">&#x27;yuysada01&#x27;</span>,<span class="attr">content</span>:<span class="string">&#x27;ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼&#x27;</span>&#125;,</span><br><span class="line">     &#123;<span class="attr">id</span>:<span class="string">&#x27;yuysada02&#x27;</span>,<span class="attr">content</span>:<span class="string">&#x27;è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>:<span class="string">&#x27;yuysada03&#x27;</span>,<span class="attr">content</span>:<span class="string">&#x27;å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°&#x27;</span>&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="attr">getters</span>:&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­ä½¿ç”¨<code>state</code>ä¸­çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sumStore.sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt;</span><br><span class="line">  // å¼•å…¥å¯¹åº”çš„useXxxxxStore</span><br><span class="line">  import &#123;useSumStore&#125; from &#x27;@/store/sum&#x27;</span><br><span class="line">  </span><br><span class="line">  // è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store</span><br><span class="line">  const sumStore = useSumStore()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;talk in talkStore.talkList&quot; :key=&quot;talk.id&quot;&gt;</span><br><span class="line">      &#123;&#123; talk.content &#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt;</span><br><span class="line">  import axios from &#x27;axios&#x27;</span><br><span class="line">  import &#123;useTalkStore&#125; from &#x27;@/store/talk&#x27;</span><br><span class="line"></span><br><span class="line">  const talkStore = useTalkStore()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="5-4-ã€ä¿®æ”¹æ•°æ®ã€‘-ä¸‰ç§æ–¹å¼">5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)</h3><ol><li><p>ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">countStore.<span class="property">sum</span> = <span class="number">666</span></span><br></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">countStore.$patch(&#123;</span><br><span class="line">  <span class="attr">sum</span>:<span class="number">999</span>,</span><br><span class="line">  <span class="attr">school</span>:<span class="string">&#x27;atguigu&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©<code>action</code>ä¿®æ”¹ï¼ˆ<code>action</code>ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCountStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">/*************/</span></span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">//åŠ </span></span><br><span class="line">    <span class="title function_">increment</span>(<span class="params">value:number</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">sum</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="comment">//æ“ä½œcountStoreä¸­çš„sum</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sum</span> += value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//å‡</span></span><br><span class="line">    <span class="title function_">decrement</span>(<span class="params">value:number</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">sum</span> &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sum</span> -= value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/*************/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è°ƒç”¨<code>action</code>å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨countStore</span></span><br><span class="line"><span class="keyword">const</span> countStore = <span class="title function_">useCountStore</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å¯¹åº”action</span></span><br><span class="line">countStore.<span class="title function_">incrementOdd</span>(n.<span class="property">value</span>)</span><br></pre></td></tr></table></figure></li></ol><h3 id="5-5-ã€storeToRefsã€‘">5.5.ã€storeToRefsã€‘</h3><ul><li>å€ŸåŠ©<code>storeToRefs</code>å°†<code>store</code>ä¸­çš„æ•°æ®è½¬ä¸º<code>ref</code>å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li><li>æ³¨æ„ï¼š<code>pinia</code>æä¾›çš„<code>storeToRefs</code>åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ<code>Vue</code>çš„<code>toRefs</code>ä¼šè½¬æ¢<code>store</code>ä¸­æ•°æ®ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;count&quot;&gt;</span><br><span class="line">&lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt;</span><br><span class="line">  import &#123; useCountStore &#125; from &#x27;@/store/count&#x27;</span><br><span class="line">  /* å¼•å…¥storeToRefs */</span><br><span class="line">  import &#123; storeToRefs &#125; from &#x27;pinia&#x27;</span><br><span class="line"></span><br><span class="line">/* å¾—åˆ°countStore */</span><br><span class="line">  const countStore = useCountStore()</span><br><span class="line">  /* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„ */</span><br><span class="line">  const &#123;sum&#125; = storeToRefs(countStore)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-6-ã€gettersã€‘">5.6.ã€gettersã€‘</h3><ol><li><p>æ¦‚å¿µï¼šå½“<code>state</code>ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>getters</code>é…ç½®ã€‚</p></li><li><p>è¿½åŠ <code>getters</code>é…ç½®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCountStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;count&#x27;</span>,&#123;</span><br><span class="line">  <span class="comment">// åŠ¨ä½œ</span></span><br><span class="line">  <span class="attr">actions</span>:&#123;</span><br><span class="line">    <span class="comment">/************/</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// çŠ¶æ€</span></span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">sum</span>:<span class="number">1</span>,</span><br><span class="line">      <span class="attr">school</span>:<span class="string">&#x27;atguigu&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="attr">getters</span>:&#123;</span><br><span class="line">    <span class="attr">bigSum</span>:(state):<span class="function"><span class="params">number</span> =&gt;</span> state.<span class="property">sum</span> *<span class="number">10</span>,</span><br><span class="line">    <span class="title function_">upperSchool</span>():string&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>. school.<span class="title function_">toUpperCase</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;increment,decrement&#125; = countStore</span><br><span class="line"><span class="keyword">let</span> &#123;sum,school,bigSum,upperSchool&#125; = <span class="title function_">storeToRefs</span>(countStore)</span><br></pre></td></tr></table></figure></li></ol><h3 id="5-7-ã€-subscribeã€‘">5.7.ã€$subscribeã€‘</h3><p>é€šè¿‡ store çš„ <code>$subscribe()</code> æ–¹æ³•ä¾¦å¬ <code>state</code> åŠå…¶å˜åŒ–</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">talkStore.$subscribe(<span class="function">(<span class="params">mutate,state</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;LoveTalk&#x27;</span>,mutate,state)</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;talk&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(talkList.<span class="property">value</span>))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="5-8-ã€storeç»„åˆå¼å†™æ³•ã€‘">5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;nanoid&#125; <span class="keyword">from</span> <span class="string">&#x27;nanoid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTalkStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;talk&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// talkListå°±æ˜¯state</span></span><br><span class="line">  <span class="keyword">const</span> talkList = <span class="title function_">reactive</span>(</span><br><span class="line">    <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;talkList&#x27;</span>) <span class="keyword">as</span> <span class="built_in">string</span>) || []</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// getATalkå‡½æ•°ç›¸å½“äºaction</span></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getATalk</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// å‘è¯·æ±‚ï¼Œä¸‹é¢è¿™è¡Œçš„å†™æ³•æ˜¯ï¼šè¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å</span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:&#123;<span class="attr">content</span>:title&#125;&#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;https://api.uomg.com/api/rand.qinghua?format=json&#x27;</span>)</span><br><span class="line">    <span class="comment">// æŠŠè¯·æ±‚å›æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;<span class="attr">id</span>:<span class="title function_">nanoid</span>(),title&#125;</span><br><span class="line">    <span class="comment">// æ”¾åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">    talkList.<span class="title function_">unshift</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;talkList,getATalk&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="6-ç»„ä»¶é€šä¿¡">6. ç»„ä»¶é€šä¿¡</h2><p><strong><code>Vue3</code>ç»„ä»¶é€šä¿¡å’Œ<code>Vue2</code>çš„åŒºåˆ«ï¼š</strong></p><ul><li>ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨<code>mitt</code>ä»£æ›¿ã€‚</li></ul><ul><li><code>vuex</code>æ¢æˆäº†<code>pinia</code>ã€‚</li><li>æŠŠ<code>.sync</code>ä¼˜åŒ–åˆ°äº†<code>v-model</code>é‡Œé¢äº†ã€‚</li><li>æŠŠ<code>$listeners</code>æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ°<code>$attrs</code>ä¸­äº†ã€‚</li><li><code>$children</code>è¢«ç æ‰äº†ã€‚</li></ul><p><strong>å¸¸è§æ­é…å½¢å¼ï¼š</strong></p><p><img src="https://bu.dusays.com/2024/06/09/6665a14acfb69.png" alt=""></p><h3 id="6-1-ã€propsã€‘">6.1. ã€propsã€‘</h3><p>æ¦‚è¿°ï¼š<code>props</code>æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨ä¸ ï¼š<strong>çˆ¶ â†” å­</strong>ã€‚</p><ul><li>è‹¥ <strong>çˆ¶ä¼ å­</strong>ï¼šå±æ€§å€¼æ˜¯<strong>éå‡½æ•°</strong>ã€‚</li><li>è‹¥ <strong>å­ä¼ çˆ¶</strong>ï¼šå±æ€§å€¼æ˜¯<strong>å‡½æ•°</strong>ã€‚</li></ul><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;çˆ¶ç»„ä»¶ï¼Œ&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;æˆ‘çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;å„¿å­ç»™çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;Child :car=&quot;car&quot; :getToy=&quot;getToy&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">// æ•°æ®</span><br><span class="line">const car = ref(&#x27;å¥”é©°&#x27;)</span><br><span class="line">const toy = ref()</span><br><span class="line">// æ–¹æ³•</span><br><span class="line">function getToy(value:string)&#123;</span><br><span class="line">toy.value = value</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;æˆ‘çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;çˆ¶ç»™æˆ‘çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;button @click=&quot;getToy(toy)&quot;&gt;ç©å…·ç»™çˆ¶äº²&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">const toy = ref(&#x27;å¥¥ç‰¹æ›¼&#x27;)</span><br><span class="line"></span><br><span class="line">defineProps([&#x27;car&#x27;,&#x27;getToy&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="6-2-ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘">6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘</h3><ol><li>æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼š<strong>å­ =&gt; çˆ¶ã€‚</strong></li><li>æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚</li></ol><ul><li>åŸç”Ÿäº‹ä»¶ï¼š<ul><li>äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆ<code>click</code>ã€<code>mosueenter</code>ç­‰ç­‰ï¼‰</li><li>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆ<code>pageX</code>ã€<code>pageY</code>ã€<code>target</code>ã€<code>keyCode</code>ï¼‰</li></ul></li><li>è‡ªå®šä¹‰äº‹ä»¶ï¼š<ul><li>äº‹ä»¶åæ˜¯ä»»æ„åç§°</li><li>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯è°ƒç”¨<code>emit</code>æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼</li></ul></li></ul><ol start="3"><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Child</span> @<span class="attr">send-toy</span>=<span class="string">&quot;toy = $event&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toy = $event&quot;</span>&gt;</span>æµ‹è¯•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š</span></span><br><span class="line"><span class="variable language_">this</span>.$emit(<span class="string">&#x27;send-toy&#x27;</span>, å…·ä½“æ•°æ®)</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-3-ã€mittã€‘">6.3. ã€mittã€‘</h3><p>æ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆ<code>pubsub</code>ï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</p><p>å®‰è£…<code>mitt</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i mitt</span><br></pre></td></tr></table></figure><p>æ–°å»ºæ–‡ä»¶ï¼š<code>src\utils\emitter.ts</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥mitt </span></span><br><span class="line"><span class="keyword">import</span> mitt <span class="keyword">from</span> <span class="string">&quot;mitt&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºemitter</span></span><br><span class="line"><span class="keyword">const</span> emitter = <span class="title function_">mitt</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  // ç»‘å®šäº‹ä»¶</span></span><br><span class="line"><span class="comment">  emitter.on(&#x27;abc&#x27;,(value)=&gt;&#123;</span></span><br><span class="line"><span class="comment">    console.log(&#x27;abcäº‹ä»¶è¢«è§¦å‘&#x27;,value)</span></span><br><span class="line"><span class="comment">  &#125;)</span></span><br><span class="line"><span class="comment">  emitter.on(&#x27;xyz&#x27;,(value)=&gt;&#123;</span></span><br><span class="line"><span class="comment">    console.log(&#x27;xyzäº‹ä»¶è¢«è§¦å‘&#x27;,value)</span></span><br><span class="line"><span class="comment">  &#125;)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  setInterval(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">    // è§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="comment">    emitter.emit(&#x27;abc&#x27;,666)</span></span><br><span class="line"><span class="comment">    emitter.emit(&#x27;xyz&#x27;,777)</span></span><br><span class="line"><span class="comment">  &#125;, 1000);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">    // æ¸…ç†äº‹ä»¶</span></span><br><span class="line"><span class="comment">    emitter.all.clear()</span></span><br><span class="line"><span class="comment">  &#125;, 3000); </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ²mitt</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> emitter</span><br></pre></td></tr></table></figure><p>æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> emitter <span class="keyword">from</span> <span class="string">&quot;@/utils/emitter&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; onUnmounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»‘å®šäº‹ä»¶</span></span><br><span class="line">emitter.<span class="title function_">on</span>(<span class="string">&#x27;send-toy&#x27;</span>,<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;send-toyäº‹ä»¶è¢«è§¦å‘&#x27;</span>,value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">onUnmounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// è§£ç»‘äº‹ä»¶</span></span><br><span class="line">  emitter.<span class="title function_">off</span>(<span class="string">&#x27;send-toy&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ã€ç¬¬ä¸‰æ­¥ã€‘ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> emitter <span class="keyword">from</span> <span class="string">&quot;@/utils/emitter&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendToy</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// è§¦å‘äº‹ä»¶</span></span><br><span class="line">  emitter.<span class="title function_">emit</span>(<span class="string">&#x27;send-toy&#x27;</span>,toy.<span class="property">value</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³»</strong></p><h3 id="6-4-ã€v-modelã€‘">6.4.ã€v-modelã€‘</h3><ol><li><p>æ¦‚è¿°ï¼šå®ç° <strong>çˆ¶â†”å­</strong> ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚</p></li><li><p>å‰åºçŸ¥è¯† â€”â€” <code>v-model</code>çš„æœ¬è´¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;userName&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  --&gt;</span><br><span class="line">&lt;input </span><br><span class="line">  type=&quot;text&quot; </span><br><span class="line">  :value=&quot;userName&quot; </span><br><span class="line">  @input=&quot;userName =(&lt;HTMLInputElement&gt;$event.target).value&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶æ ‡ç­¾ä¸Šçš„<code>v-model</code>çš„æœ¬è´¨ï¼š<code>:moldeValue</code> ï¼‹ <code>update:modelValue</code>äº‹ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;</span><br><span class="line">&lt;AtguiguInput v-model=&quot;userName&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;</span><br><span class="line">&lt;AtguiguInput :modelValue=&quot;userName&quot; @update:model-value=&quot;userName = $event&quot;/&gt;</span><br></pre></td></tr></table></figure><p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;!--å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® --&gt;</span><br><span class="line">&lt;!--ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶--&gt;</span><br><span class="line">    &lt;input </span><br><span class="line">       type=&quot;text&quot; </span><br><span class="line">       :value=&quot;modelValue&quot; </span><br><span class="line">       @input=&quot;emit(&#x27;update:model-value&#x27;,$event.target.value)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;</span><br><span class="line">  // æ¥æ”¶props</span><br><span class="line">  defineProps([&#x27;modelValue&#x27;])</span><br><span class="line">  // å£°æ˜äº‹ä»¶</span><br><span class="line">  const emit = defineEmits([&#x27;update:model-value&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>ä¹Ÿå¯ä»¥æ›´æ¢<code>value</code>ï¼Œä¾‹å¦‚æ”¹æˆ<code>abc</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc--&gt;</span><br><span class="line">&lt;AtguiguInput v-model:abc=&quot;userName&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ --&gt;</span><br><span class="line">&lt;AtguiguInput :abc=&quot;userName&quot; @update:abc=&quot;userName = $event&quot;/&gt;</span><br></pre></td></tr></table></figure><p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;input </span><br><span class="line">       type=&quot;text&quot; </span><br><span class="line">       :value=&quot;abc&quot; </span><br><span class="line">       @input=&quot;emit(&#x27;update:abc&#x27;,$event.target.value)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;</span><br><span class="line">  // æ¥æ”¶props</span><br><span class="line">  defineProps([&#x27;abc&#x27;])</span><br><span class="line">  // å£°æ˜äº‹ä»¶</span><br><span class="line">  const emit = defineEmits([&#x27;update:abc&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœ<code>value</code>å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨<code>v-model</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;AtguiguInput v-model:abc=&quot;userName&quot; v-model:xyz=&quot;password&quot;/&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-5-ã€-attrs-ã€‘">6.5.ã€$attrs ã€‘</h3><ol><li><p>æ¦‚è¿°ï¼š<code>$attrs</code>ç”¨äºå®ç°<strong>å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</strong>ï¼Œå‘<strong>å½“å‰ç»„ä»¶çš„å­ç»„ä»¶</strong>é€šä¿¡ï¼ˆ<strong>ç¥–â†’å­™</strong>ï¼‰ã€‚</p></li><li><p>å…·ä½“è¯´æ˜ï¼š<code>$attrs</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚</p><blockquote><p>æ³¨æ„ï¼š<code>$attrs</code>ä¼šè‡ªåŠ¨æ’é™¤<code>props</code>ä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ <code>props</code> è¢«å­ç»„ä»¶è‡ªå·±â€œæ¶ˆè´¹â€äº†)</p></blockquote></li></ol><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;Child :a=&quot;a&quot; :b=&quot;b&quot; :c=&quot;c&quot; :d=&quot;d&quot; v-bind=&quot;&#123;x:100,y:200&#125;&quot; :updateA=&quot;updateA&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">let a = ref(1)</span><br><span class="line">let b = ref(2)</span><br><span class="line">let c = ref(3)</span><br><span class="line">let d = ref(4)</span><br><span class="line"></span><br><span class="line">function updateA(value)&#123;</span><br><span class="line">a.value = value</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;child&quot;&gt;</span><br><span class="line">&lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;GrandChild v-bind=&quot;$attrs&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;</span><br><span class="line">import GrandChild from &#x27;./GrandChild.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å­™ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;grand-child&quot;&gt;</span><br><span class="line">&lt;h3&gt;å­™ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;aï¼š&#123;&#123; a &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;bï¼š&#123;&#123; b &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;cï¼š&#123;&#123; c &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;dï¼š&#123;&#123; d &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;xï¼š&#123;&#123; x &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;yï¼š&#123;&#123; y &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;button @click=&quot;updateA(666)&quot;&gt;ç‚¹æˆ‘æ›´æ–°A&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;GrandChild&quot;&gt;</span><br><span class="line">defineProps([&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;x&#x27;,&#x27;y&#x27;,&#x27;updateA&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="6-6-ã€-refsã€-parentã€‘">6.6. ã€$refsã€$parentã€‘</h3><ol><li><p>æ¦‚è¿°ï¼š</p><ul><li><code>$refs</code>ç”¨äº ï¼š<strong>çˆ¶â†’å­ã€‚</strong></li><li><code>$parent</code>ç”¨äºï¼š<strong>å­â†’çˆ¶ã€‚</strong></li></ul></li><li><p>åŸç†å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$refs</code></td><td>å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«<code>ref</code>å±æ€§æ ‡è¯†çš„<code>DOM</code>å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚</td></tr><tr><td><code>$parent</code></td><td>å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</td></tr></tbody></table></li></ol><h3 id="6-7-ã€provideã€injectã€‘">6.7. ã€provideã€injectã€‘</h3><ol><li><p>æ¦‚è¿°ï¼šå®ç°<strong>ç¥–å­™ç»„ä»¶</strong>ç›´æ¥é€šä¿¡</p></li><li><p>å…·ä½“ä½¿ç”¨ï¼š</p><ul><li>åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡<code>provide</code>é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®</li><li>åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡<code>inject</code>é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®</li></ul></li><li><p>å…·ä½“ç¼–ç ï¼š</p><p>ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨<code>provide</code>æä¾›æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;èµ„äº§ï¼š&#123;&#123; money &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;h4&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button @click=&quot;money += 1&quot;&gt;èµ„äº§+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;car.price += 1&quot;&gt;æ±½è½¦ä»·æ ¼+1&lt;/button&gt;</span><br><span class="line">    &lt;Child/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;</span><br><span class="line">  import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">  import &#123; ref,reactive,provide &#125; from &quot;vue&quot;;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let money = ref(100)</span><br><span class="line">  let car = reactive(&#123;</span><br><span class="line">    brand:&#x27;å¥”é©°&#x27;,</span><br><span class="line">    price:100</span><br><span class="line">  &#125;)</span><br><span class="line">  // ç”¨äºæ›´æ–°moneyçš„æ–¹æ³•</span><br><span class="line">  function updateMoney(value:number)&#123;</span><br><span class="line">    money.value += value</span><br><span class="line">  &#125;</span><br><span class="line">  // æä¾›æ•°æ®</span><br><span class="line">  provide(&#x27;moneyContext&#x27;,&#123;money,updateMoney&#125;)</span><br><span class="line">  provide(&#x27;car&#x27;,car)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„</p></blockquote><p>ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨<code>inject</code>é…ç½®é¡¹æ¥å—æ•°æ®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;grand-child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;æˆ‘æ˜¯å­™ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;èµ„äº§ï¼š&#123;&#123; money &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;h4&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button @click=&quot;updateMoney(6)&quot;&gt;ç‚¹æˆ‘&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;GrandChild&quot;&gt;</span><br><span class="line">  import &#123; inject &#125; from &#x27;vue&#x27;;</span><br><span class="line">  // æ³¨å…¥æ•°æ®</span><br><span class="line"> let &#123;money,updateMoney&#125; = inject(&#x27;moneyContext&#x27;,&#123;money:0,updateMoney:(x:number)=&gt;&#123;&#125;&#125;)</span><br><span class="line">  let car = inject(&#x27;car&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-8-ã€piniaã€‘">6.8. ã€piniaã€‘</h3><p>å‚è€ƒä¹‹å‰<code>pinia</code>éƒ¨åˆ†çš„è®²è§£</p><h3 id="6-9-ã€slotã€‘">6.9. ã€slotã€‘</h3><p><img src="https://bu.dusays.com/2024/06/09/6665a2c0a87ac.png" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;Category title=&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">          &lt;/ul&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">          &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">            &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">            &lt;!-- é»˜è®¤æ’æ§½ --&gt;</span><br><span class="line">            &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="2-å…·åæ’æ§½">2. å…·åæ’æ§½</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;Category title=&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt;</span><br><span class="line">          &lt;template v-slot:s1&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">              &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          &lt;template #s2&gt;</span><br><span class="line">            &lt;a href=&quot;&quot;&gt;æ›´å¤š&lt;/a&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">          &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">            &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">            &lt;slot name=&quot;s1&quot;&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;slot name=&quot;s2&quot;&gt;&lt;/slot&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="3-ä½œç”¨åŸŸæ’æ§½">3. ä½œç”¨åŸŸæ’æ§½</h3><ol><li><p>ç†è§£ï¼š<span style="color:red">æ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚</span>ï¼ˆæ–°é—»æ•°æ®åœ¨<code>News</code>ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±<code>App</code>ç»„ä»¶å†³å®šï¼‰</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">      &lt;Game v-slot=&quot;params&quot;&gt;</span><br><span class="line">      &lt;!-- &lt;Game v-slot:default=&quot;params&quot;&gt; --&gt;</span><br><span class="line">      &lt;!-- &lt;Game #default=&quot;params&quot;&gt; --&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;g in params.games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/Game&gt;</span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">      &lt;template&gt;</span><br><span class="line">        &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">          &lt;h2&gt;ä»Šæ—¥æ¸¸æˆæ¦œå•&lt;/h2&gt;</span><br><span class="line">          &lt;slot :games=&quot;games&quot; a=&quot;å“ˆå“ˆ&quot;&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;script setup lang=&quot;ts&quot; name=&quot;Category&quot;&gt;</span><br><span class="line">        import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">        let games = reactive([</span><br><span class="line">          &#123;id:&#x27;asgdytsa01&#x27;,name:&#x27;è‹±é›„è”ç›Ÿ&#x27;&#125;,</span><br><span class="line">          &#123;id:&#x27;asgdytsa02&#x27;,name:&#x27;ç‹è€…è£è€€&#x27;&#125;,</span><br><span class="line">          &#123;id:&#x27;asgdytsa03&#x27;,name:&#x27;çº¢è‰²è­¦æˆ’&#x27;&#125;,</span><br><span class="line">          &#123;id:&#x27;asgdytsa04&#x27;,name:&#x27;æ–—ç½—å¤§é™†&#x27;&#125;</span><br><span class="line">        ])</span><br><span class="line">      &lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="7-å…¶å®ƒ-API">7. å…¶å®ƒ API</h2><h3 id="7-1-ã€shallowRef-ä¸-shallowReactive-ã€‘">7.1.ã€shallowRef ä¸ shallowReactive ã€‘</h3><h4 id="shallowRef"><code>shallowRef</code></h4><ol><li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVar = <span class="title function_">shallowRef</span>(initialValue);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚</p></li></ol><h4 id="shallowReactive"><code>shallowReactive</code></h4><ol><li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myObj = <span class="title function_">shallowReactive</span>(&#123; ... &#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚</p></li></ol><h4 id="æ€»ç»“">æ€»ç»“</h4><blockquote><p>é€šè¿‡ä½¿ç”¨ <a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowref"><code>shallowRef()</code></a> å’Œ <a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive"><code>shallowReactive()</code></a> æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ <code>API</code> åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚</p></blockquote><h3 id="7-2-ã€readonly-ä¸-shallowReadonlyã€‘">7.2.ã€readonly ä¸ shallowReadonlyã€‘</h3><h4 id="readonly"><strong><code>readonly</code></strong></h4><ol><li><p>ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = <span class="title function_">reactive</span>(&#123; ... &#125;);</span><br><span class="line"><span class="keyword">const</span> readOnlyCopy = <span class="title function_">readonly</span>(original);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚</li><li>ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚</li></ul></li><li><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚</li><li>ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚</li></ul></li></ol><h4 id="shallowReadonly"><strong><code>shallowReadonly</code></strong></h4><ol><li><p>ä½œç”¨ï¼šä¸ <code>readonly</code> ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = <span class="title function_">reactive</span>(&#123; ... &#125;);</span><br><span class="line"><span class="keyword">const</span> shallowReadOnlyCopy = <span class="title function_">shallowReadonly</span>(original);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼š</p><ul><li><p>åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚</p></li><li><p>é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚</p></li></ul></li></ol><h3 id="7-3-ã€toRaw-ä¸-markRawã€‘">7.3.ã€toRaw ä¸ markRawã€‘</h3><h4 id="toRaw"><code>toRaw</code></h4><ol><li><p>ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ <code>toRaw</code> è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚</p><blockquote><p>å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®/è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p></blockquote><blockquote><p>ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é <code>Vue</code> çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ <code>toRaw</code> å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡</p></blockquote></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive,toRaw,markRaw,isReactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* toRaw */</span></span><br><span class="line"><span class="comment">// å“åº”å¼å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;tony&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span><br><span class="line"><span class="comment">// åŸå§‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> rawPerson = <span class="title function_">toRaw</span>(person)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* markRaw */</span></span><br><span class="line"><span class="keyword">let</span> citysd = <span class="title function_">markRaw</span>([</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda01&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;åŒ—äº¬&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda02&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;ä¸Šæµ·&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda03&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;å¤©æ´¥&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda04&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;é‡åº†&#x27;</span>&#125;</span><br><span class="line">])</span><br><span class="line"><span class="comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span></span><br><span class="line"><span class="keyword">let</span> citys2 = <span class="title function_">reactive</span>(citys)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(person))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(rawPerson))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(citys))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(citys2))</span><br></pre></td></tr></table></figure></li></ol><h4 id="markRaw"><code>markRaw</code></h4><ol><li><p>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶<strong>æ°¸è¿œä¸ä¼š</strong>å˜æˆå“åº”å¼çš„ã€‚</p><blockquote><p>ä¾‹å¦‚ä½¿ç”¨<code>mockjs</code>æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ<code>mockjs</code>å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>markRaw</code> å»æ ‡è®°<code>mockjs</code></p></blockquote></li><li><p>ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* markRaw */</span></span><br><span class="line"><span class="keyword">let</span> citys = <span class="title function_">markRaw</span>([</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda01&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;åŒ—äº¬&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda02&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;ä¸Šæµ·&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda03&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;å¤©æ´¥&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda04&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;é‡åº†&#x27;</span>&#125;</span><br><span class="line">])</span><br><span class="line"><span class="comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span></span><br><span class="line"><span class="keyword">let</span> citys2 = <span class="title function_">reactive</span>(citys)</span><br></pre></td></tr></table></figure></li></ol><h3 id="7-4-ã€customRefã€‘">7.4.ã€customRefã€‘</h3><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„<code>ref</code>ï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶ã€‚</p><p>å®ç°é˜²æŠ–æ•ˆæœï¼ˆ<code>useSumRef.ts</code>ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;customRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"><span class="attr">initValue</span>:<span class="built_in">string</span>,<span class="attr">delay</span>:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> msg = <span class="title function_">customRef</span>(<span class="function">(<span class="params">track,trigger</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">timer</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">track</span>() <span class="comment">// å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–°</span></span><br><span class="line">        <span class="keyword">return</span> initValue</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          initValue = value</span><br><span class="line">          <span class="title function_">trigger</span>() <span class="comment">//é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº†</span></span><br><span class="line">        &#125;, delay);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;) </span><br><span class="line">  <span class="keyword">return</span> &#123;msg&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8-Vue3æ–°ç»„ä»¶">8. Vue3æ–°ç»„ä»¶</h2><h3 id="8-1-ã€Teleportã€‘">8.1. ã€Teleportã€‘</h3><ul><li>ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„<strong>ç»„ä»¶htmlç»“æ„</strong>ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&#x27;body&#x27;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = false&quot;</span>&gt;</span>å…³é—­å¼¹çª—<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-2-ã€Suspenseã€‘">8.2. ã€Suspenseã€‘</h3><ul><li>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li><li>ä½¿ç”¨æ­¥éª¤ï¼š<ul><li>å¼‚æ­¥å¼•å…¥ç»„ä»¶</li><li>ä½¿ç”¨<code>Suspense</code>åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½<code>default</code> ä¸ <code>fallback</code></li></ul></li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineAsyncComponent,<span class="title class_">Suspense</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;./Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt;</span><br><span class="line">        &lt;Suspense&gt;</span><br><span class="line">          &lt;template v-slot:default&gt;</span><br><span class="line">            &lt;Child/&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          &lt;template v-slot:fallback&gt;</span><br><span class="line">            &lt;h3&gt;åŠ è½½ä¸­.......&lt;/h3&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/Suspense&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="8-3-ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘">8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘</h3><ul><li><code>app.component</code></li><li><code>app.config</code></li><li><code>app.directive</code></li><li><code>app.mount</code></li><li><code>app.unmount</code></li><li><code>app.use</code></li></ul><h3 id="8-4-ã€å…¶ä»–ã€‘">8.4.ã€å…¶ä»–ã€‘</h3><ul><li><p>è¿‡æ¸¡ç±»å <code>v-enter</code> ä¿®æ”¹ä¸º <code>v-enter-from</code>ã€è¿‡æ¸¡ç±»å <code>v-leave</code> ä¿®æ”¹ä¸º <code>v-leave-from</code>ã€‚</p></li><li><p><code>keyCode</code> ä½œä¸º <code>v-on</code> ä¿®é¥°ç¬¦çš„æ”¯æŒã€‚</p></li><li><p><code>v-model</code> æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† <code>v-bind.syncã€‚</code></p></li><li><p><code>v-if</code> å’Œ <code>v-for</code> åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–ã€‚</p></li><li><p>ç§»é™¤äº†<code>$on</code>ã€<code>$off</code> å’Œ <code>$once</code> å®ä¾‹æ–¹æ³•ã€‚</p></li><li><p>ç§»é™¤äº†è¿‡æ»¤å™¨ <code>filter</code>ã€‚</p></li><li><p>ç§»é™¤äº†<code>$children</code> å®ä¾‹ <code>propert</code>ã€‚</p><p>â€¦</p></li></ul>]]></content>
    
    
    <summary type="html">ğŸ¥¤Vue3ä¸Šæ‰‹é€Ÿè®°</summary>
    
    
    
    <category term="Vue" scheme="https://www.axcode.cn/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.axcode.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ­å»ºåšå®¢éƒ¨åˆ†è®°å½•</title>
    <link href="https://www.axcode.cn/posts/55be2d10.html"/>
    <id>https://www.axcode.cn/posts/55be2d10.html</id>
    <published>2024-06-04T05:05:49.000Z</published>
    <updated>2024-06-12T09:00:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-å‹é“¾æœ‹å‹åœˆ">1.å‹é“¾æœ‹å‹åœˆ</h2><details class="folding-tag" blue><summary> æ•ˆæœé¢„è§ˆ </summary>              <div class='content'>              <p>æ•ˆæœè¯·ç§»æ­¥ <a href='https://axcode.cn/social/fcircle/' target="_blank">æœ‹å‹åœˆ</a></p>              </div>            </details><details class="folding-tag" blue><summary> æŸ¥çœ‹æ•™ç¨‹ </summary>              <div class='content'>              <p>æ–‡æ¡£: <a href='https://fcircle-doc.yyyzyyyz.cn/#/' target="_blank">æ–‡æ¡£ã€å¤‡ç”¨åœ°å€</a></p><p><code>æ³¨æ„</code></p><ul><li>çœ‹æ¸…æ¥šæ–‡æ¡£å†™çš„æ˜¯forkä»“åº“ï¼Œä¸æ˜¯downloadã€‚</li><li>çœ‹æ¸…æ¥šæ–‡æ¡£æœ‰å…³é…ç½®çš„å‚æ•°ï¼Œå°¤å…¶æ˜¯linkçš„åœ°å€ï¼Œæ–‡ä»¶ç»™çš„æ¨¡æ¿æ˜¯ç½‘ç«™+link ä½†æ˜¯éƒ¨ç½²çš„æ—¶å€™çœ‹ä¸€ä¸‹è‡ªå·±çš„æ˜¯å¦æ˜¯ä¸€æ ·çš„ å¤–å±‚æœ‰æ²¡æœ‰åµŒå¥—æ–‡ä»¶å¤¹ã€‚</li><li>éƒ¨ç½²åˆ°vercelæ—¶ï¼Œç”±äºvercelè¢«å¢™ï¼Œéœ€è¦ç»‘å®šè‡ªå®šä¹‰åŸŸååï¼Œä½¿ç”¨è‡ªå®šä¹‰åŸŸåçš„åœ°å€ã€‚å¦‚ä½•è§£æäºŒçº§åŸŸåå…·ä½“è¯·ç§»æ­¥ <a herf='https://fe32.top/articles/hexo1614/' target='_blnk'>å…³äºVercelè¢«å¢™å¯¼è‡´è·å–Twikooè¯„è®ºå¤±è´¥çš„è§£å†³æ–¹æ¡ˆ</a>,è™½æ˜¯è§£å†³twikooè¯„è®ºç³»ç»Ÿçš„ï¼Œä½†æ–¹æ³•ç±»ä¼¼ï¼Œåœ¨æ­¤å°±ä¸èµ˜è¿°äº†ã€‚</li></ul>              </div>            </details><h2 id="2-éƒ¨ç½²Twikooè¯„è®ºç³»ç»ŸåŠå…¶é‚®ä»¶æ¨é€-Vercel">2.éƒ¨ç½²Twikooè¯„è®ºç³»ç»ŸåŠå…¶é‚®ä»¶æ¨é€(Vercel)</h2><details class="folding-tag" blue><summary> æ•ˆæœé¢„è§ˆ </summary>              <div class='content'>              <p>æ•ˆæœå¯è§æ–‡ç« åº•éƒ¨çš„è¯„è®º</p>              </div>            </details><details class="folding-tag" blue><summary> æ“ä½œæ•™ç¨‹ </summary>              <div class='content'>              <p>åœ¨æ­¤å°±ä¸è¯¯äººå­å¼Ÿäº† è¯¦è§ <a href='https://fe32.top/articles/hexo1611/' target='_blank'>åŸºäº Hexo é”®å…¥è¯„è®ºåŠŸèƒ½</a></p>              </div>            </details><details class="folding-tag" blue><summary> å®ç°é‚®ä»¶é€šçŸ¥ </summary>              <div class='content'>              <h3 id="2-1å¼€é€šé‚®ç®±é€šçŸ¥">2.1å¼€é€šé‚®ç®±é€šçŸ¥</h3><div class="note info modern"><p>ä»¥ä¸‹æ•™ç¨‹ä»¥<a href="https://so.csdn.net/so/search?q=QQ%E9%82%AE%E7%AE%B1&amp;spm=1001.2101.3001.7020">QQé‚®ç®±</a>ä¸ºä¾‹ï¼Œå…¶ä»–é‚®ç®±å¯è‡ªè¡Œæ‘¸ç´¢ï¼ŒåŸç†å¤§åŒå°å¼‚ã€‚</p></div><h4 id="2-1-1å‰å¾€ä½ çš„é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œå¼€é€šPOP3-SMTPæœåŠ¡æœåŠ¡ã€‚">2.1.1å‰å¾€ä½ çš„é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œå¼€é€šPOP3/<a href="https://so.csdn.net/so/search?q=SMTP&amp;spm=1001.2101.3001.7020">SMTP</a>æœåŠ¡æœåŠ¡ã€‚</h4><p>å…·ä½“ä½ç½®ï¼šè´¦å·ä¸å®‰å…¨ä¸­ï¼Œé€‰æ‹©å®‰å…¨è®¾ç½®ï¼Œæ‹‰åˆ°æœ€åº•ä¸‹æ‰¾åˆ°å¦‚åŒæ‰€ç¤º</p><img src='https://bu.dusays.com/2024/06/05/666055124455f.jpg' /><h4 id="2-1-2è·å–æˆæƒç ">2.1.2è·å–æˆæƒç </h4><p>è¿™é‡ŒæŒ‰ç…§è¦æ±‚è·å–æˆæƒç ï¼Œè·å–æˆåŠŸåè®°å¾—ä¿å­˜</p><img src='https://bu.dusays.com/2024/06/05/66605511e96c6.jpg' /><h4 id="2-1-3é…ç½®twikooé‚®ä»¶é€šçŸ¥æœåŠ¡">2.1.3é…ç½®twikooé‚®ä»¶é€šçŸ¥æœåŠ¡</h4><div class="note info modern"><p>æ­¤éƒ¨åˆ†æ•™ç¨‹ä»¥Butterflyä¸»é¢˜ä¸ºä¾‹è¯´æ˜ï¼Œå…¶ä»–ä¸»é¢˜å¯å‚é˜…å¯¹åº”çš„ä½¿ç”¨æ–‡æ¡£ã€‚</p></div><p>è¿›å…¥twikooé…ç½®é¢æ¿æœåŠ¡</p><div class="note primary modern"><p>SENDER_EMAIL: &lt;ä½ çš„QQé‚®ç®±åœ°å€&gt;<br>SMTP_SERVICE: &lt;ä½ çš„é‚®ä»¶æœåŠ¡æä¾›å•†&gt;<br>SMTP_HOST: &lt;è‡ªå®šä¹‰ SMTP æœåŠ¡å™¨åœ°å€&gt;<br>SMTP_PORT: &lt;è‡ªå®šä¹‰ SMTP ç«¯å£&gt;<br>SMTP_SECURE: &lt;è‡ªå®šä¹‰ SMTP æ˜¯å¦ä½¿ç”¨ TLS&gt;<br>SMTP_USER: &lt;é‚®ä»¶é€šçŸ¥é‚®ç®±ç”¨æˆ·å&gt;(éœ€ä¸SENDER_EMAILä¸€è‡´)<br>SMTP_PASS: &lt;é‚®ä»¶é€šçŸ¥é‚®ç®±å¯†ç &gt;(æˆæƒç )</p></div><p>ä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼š</p><img src='https://bu.dusays.com/2024/06/05/6660551288956.png' /><img src='https://bu.dusays.com/2024/06/05/6660552dea933.png' /><p>é…ç½®å®Œæˆåï¼Œåœ¨æœ€ä¸‹æ–¹çš„é‚®ä»¶æµ‹è¯•é€šçŸ¥ä¸­è¾“å…¥é…ç½®çš„æµ‹è¯•QQé‚®ç®±ï¼Œå‘é€æµ‹è¯•é‚®ä»¶ï¼Œå¦‚æœåœ¨é‚®ç®±ä¸­æ”¶åˆ°äº†æœ‰å…³twikooé‚®ç®±é…ç½®çš„é‚®ä»¶ï¼Œè¯æ˜é…ç½®æ­£ç¡®ï¼Œè‡³æ­¤é‚®ä»¶æ¨é€å°±OKå•¦ã€‚</p>              </div>            </details><h2 id="3-verceléƒ¨ç½²twikooåè¯„è®ºæ”¶ä¸åˆ°é€šçŸ¥é‚®ä»¶é—®é¢˜è§£å†³æ–¹æ³•">3.verceléƒ¨ç½²twikooåè¯„è®ºæ”¶ä¸åˆ°é€šçŸ¥é‚®ä»¶é—®é¢˜è§£å†³æ–¹æ³•</h2><details class="folding-tag" blue><summary> è§£å†³æ–¹æ³• </summary>              <div class='content'>              <p>è¿›å…¥ Settings - Deployment Protectionï¼Œè®¾ç½® Vercel Authentication ä¸º Disabledï¼Œå¹¶ Saveã€‚</p><img src='https://bu.dusays.com/2024/06/05/6660552dd6a55.png' />              </div>            </details><h2 id="4-å…«éŸ³ç›’çš„é­”æ”¹">4.å…«éŸ³ç›’çš„é­”æ”¹</h2><details class="folding-tag" blue><summary> æ•ˆæœé¢„è§ˆ </summary>              <div class='content'>              <p>æ•ˆæœè¯·ç§»æ­¥ <a href='https://axcode.cn/life/music/' target="_blank">å…«éŸ³ç›’</a></p>              </div>            </details><details class="folding-tag" blue><summary> æŸ¥çœ‹æ•™ç¨‹ </summary>              <div class='content'>              <p>æ‡’å¾—è‡ªå·±å†™äº†ï¼Œè¯¦è§ <a href='https://blog.anheyu.com/posts/c3d3.html' target="_blank">ç»™ä½ çš„åšå®¢åŠ ä¸€ä¸ªä¼˜é›…çš„éŸ³ä¹ç•Œé¢</a></p><div class="note info modern"><ul><li><p>å¦‚æœä¸æ˜¯å®‰çŸ¥é±¼ä¸»é¢˜ï¼ŒæŠŠ<code>music.pug</code>ä¸‹çš„<code>theme</code>æ¢æˆä¸€ä¸ªç®€å•çš„èƒŒæ™¯è‰²å°±å¯ä»¥ã€‚</p></li><li><p>ç›®æµ‹QQéŸ³ä¹æ— æ³•ä½¿ç”¨ï¼Œåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å°ç«™å°è¯•è¿‡ï¼Œæç¤ºéŸ³é¢‘é”™è¯¯ï¼Œå¦‚æœæœ‰æˆåŠŸçš„å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºå‘ŠçŸ¥ğŸ™</p></li><li><p>å¦‚æœç½‘ç«™è®¾ç½®äº†å³ä¸‹çš„æ“ä½œæ ï¼Œä½†æ˜¯åˆä¸æƒ³åœ¨éŸ³ä¹ç•Œé¢æ˜¾ç¤ºçš„è¯ï¼Œå¯ä»¥åœ¨<code>anzhuyi.js</code>ä¸­ åŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œå¦‚æœå¼€å¯äº†<code>pjax</code>,éœ€è¦åœ¨ä¸»é¢˜é…ç½®<code>pjax</code> <code>exclude</code>ä¸­æ·»åŠ éŸ³ä¹æ–‡ä»¶è·¯å¾„ï¼Œè¿™æ ·è¿™ä¸ªç½‘é¡µå°±ä¼šè¢«æ’é™¤åœ¨å¤–ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> == <span class="string">&#x27;ä½ æœ¬åœ°çš„éŸ³ä¹åœ°å€&#x27;</span>|| <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> == <span class="string">&#x27;ä½ çº¿ä¸Šçš„éŸ³ä¹åœ°å€&#x27;</span>)&#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightside-config-hide&quot;</span>).<span class="title function_">remove</span>();</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightside-config-show&quot;</span>).<span class="title function_">remove</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></div><div class="note success flat"><p>å¦‚é‡åˆ°å…¶ä»–é—®é¢˜ï¼Œå¯ä»¥å»åŸåšå®¢ä¸‹ç•™è¨€ï¼Œäº¦å¯åœ¨æœ¬ç«™ä¸‹æ–¹ç•™è¨€ï¼Œçœ‹åˆ°åä¼šç¬¬ä¸€æ—¶é—´å›å¤ã€‚</p></div>              </div>            </details>]]></content>
    
    
    <summary type="html">ğŸŠæœ¬æ–‡ä¸ºåšå®¢æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜æ€»ç»“</summary>
    
    
    
    <category term="é­”æ”¹è®°å½•" scheme="https://www.axcode.cn/categories/%E9%AD%94%E6%94%B9%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="Hexo Butterfly" scheme="https://www.axcode.cn/tags/Hexo-Butterfly/"/>
    
  </entry>
  
</feed>
